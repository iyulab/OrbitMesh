var ox=e=>{throw TypeError(e)};var yp=(e,t,n)=>t.has(e)||ox("Cannot "+n);var B=(e,t,n)=>(yp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ee=(e,t,n)=>t.has(e)?ox("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ge=(e,t,n,o)=>(yp(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),Le=(e,t,n)=>(yp(e,t,"access private method"),n);var bu=(e,t,n,o)=>({set _(s){ge(e,t,s,n)},get _(){return B(e,t,o)}});function E2(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(o,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function lg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={exports:{}},Za={},xp={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function N2(){if(sx)return Fe;sx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function k(D,V,oe){this.props=D,this.context=V,this.refs=C,this.updater=oe||w}k.prototype.isReactComponent={},k.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=k.prototype;function N(D,V,oe){this.props=D,this.context=V,this.refs=C,this.updater=oe||w}var _=N.prototype=new E;_.constructor=N,b(_,k.prototype),_.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,A={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(D,V,oe){var re,ce={},de=null,te=null;if(V!=null)for(re in V.ref!==void 0&&(te=V.ref),V.key!==void 0&&(de=""+V.key),V)I.call(V,re)&&!R.hasOwnProperty(re)&&(ce[re]=V[re]);var ne=arguments.length-2;if(ne===1)ce.children=oe;else if(1<ne){for(var le=Array(ne),pe=0;pe<ne;pe++)le[pe]=arguments[pe+2];ce.children=le}if(D&&D.defaultProps)for(re in ne=D.defaultProps,ne)ce[re]===void 0&&(ce[re]=ne[re]);return{$$typeof:e,type:D,key:de,ref:te,props:ce,_owner:A.current}}function H(D,V){return{$$typeof:e,type:D.type,key:V,ref:D.ref,props:D.props,_owner:D._owner}}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function M(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return V[oe]})}var U=/\/+/g;function J(D,V){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):V.toString(36)}function L(D,V,oe,re,ce){var de=typeof D;(de==="undefined"||de==="boolean")&&(D=null);var te=!1;if(D===null)te=!0;else switch(de){case"string":case"number":te=!0;break;case"object":switch(D.$$typeof){case e:case t:te=!0}}if(te)return te=D,ce=ce(te),D=re===""?"."+J(te,0):re,P(ce)?(oe="",D!=null&&(oe=D.replace(U,"$&/")+"/"),L(ce,V,oe,"",function(pe){return pe})):ce!=null&&(K(ce)&&(ce=H(ce,oe+(!ce.key||te&&te.key===ce.key?"":(""+ce.key).replace(U,"$&/")+"/")+D)),V.push(ce)),1;if(te=0,re=re===""?".":re+":",P(D))for(var ne=0;ne<D.length;ne++){de=D[ne];var le=re+J(de,ne);te+=L(de,V,oe,le,ce)}else if(le=v(D),typeof le=="function")for(D=le.call(D),ne=0;!(de=D.next()).done;)de=de.value,le=re+J(de,ne++),te+=L(de,V,oe,le,ce);else if(de==="object")throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return te}function Q(D,V,oe){if(D==null)return D;var re=[],ce=0;return L(D,re,"","",function(de){return V.call(oe,de,ce++)}),re}function z(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var q={current:null},j={transition:null},F={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:j,ReactCurrentOwner:A};function G(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Q,forEach:function(D,V,oe){Q(D,function(){V.apply(this,arguments)},oe)},count:function(D){var V=0;return Q(D,function(){V++}),V},toArray:function(D){return Q(D,function(V){return V})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Fe.Component=k,Fe.Fragment=n,Fe.Profiler=s,Fe.PureComponent=N,Fe.StrictMode=o,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Fe.act=G,Fe.cloneElement=function(D,V,oe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var re=b({},D.props),ce=D.key,de=D.ref,te=D._owner;if(V!=null){if(V.ref!==void 0&&(de=V.ref,te=A.current),V.key!==void 0&&(ce=""+V.key),D.type&&D.type.defaultProps)var ne=D.type.defaultProps;for(le in V)I.call(V,le)&&!R.hasOwnProperty(le)&&(re[le]=V[le]===void 0&&ne!==void 0?ne[le]:V[le])}var le=arguments.length-2;if(le===1)re.children=oe;else if(1<le){ne=Array(le);for(var pe=0;pe<le;pe++)ne[pe]=arguments[pe+2];re.children=ne}return{$$typeof:e,type:D.type,key:ce,ref:de,props:re,_owner:te}},Fe.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},Fe.createElement=O,Fe.createFactory=function(D){var V=O.bind(null,D);return V.type=D,V},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(D){return{$$typeof:u,render:D}},Fe.isValidElement=K,Fe.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:z}},Fe.memo=function(D,V){return{$$typeof:h,type:D,compare:V===void 0?null:V}},Fe.startTransition=function(D){var V=j.transition;j.transition={};try{D()}finally{j.transition=V}},Fe.unstable_act=G,Fe.useCallback=function(D,V){return q.current.useCallback(D,V)},Fe.useContext=function(D){return q.current.useContext(D)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(D){return q.current.useDeferredValue(D)},Fe.useEffect=function(D,V){return q.current.useEffect(D,V)},Fe.useId=function(){return q.current.useId()},Fe.useImperativeHandle=function(D,V,oe){return q.current.useImperativeHandle(D,V,oe)},Fe.useInsertionEffect=function(D,V){return q.current.useInsertionEffect(D,V)},Fe.useLayoutEffect=function(D,V){return q.current.useLayoutEffect(D,V)},Fe.useMemo=function(D,V){return q.current.useMemo(D,V)},Fe.useReducer=function(D,V,oe){return q.current.useReducer(D,V,oe)},Fe.useRef=function(D){return q.current.useRef(D)},Fe.useState=function(D){return q.current.useState(D)},Fe.useSyncExternalStore=function(D,V,oe){return q.current.useSyncExternalStore(D,V,oe)},Fe.useTransition=function(){return q.current.useTransition()},Fe.version="18.3.1",Fe}var ix;function Hl(){return ix||(ix=1,xp.exports=N2()),xp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function P2(){if(ax)return Za;ax=1;var e=Hl(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},v=null,w=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(w=d.ref);for(m in d)o.call(d,m)&&!a.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:t,type:u,key:v,ref:w,props:g,_owner:s.current}}return Za.Fragment=n,Za.jsx=l,Za.jsxs=l,Za}var lx;function T2(){return lx||(lx=1,vp.exports=P2()),vp.exports}var f=T2(),y=Hl();const nn=lg(y),cg=E2({__proto__:null,default:nn},[y]);var Su={},wp={exports:{}},Ut={},bp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function R2(){return cx||(cx=1,(function(e){function t(j,F){var G=j.length;j.push(F);e:for(;0<G;){var D=G-1>>>1,V=j[D];if(0<s(V,F))j[D]=F,j[G]=V,G=D;else break e}}function n(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var F=j[0],G=j.pop();if(G!==F){j[0]=G;e:for(var D=0,V=j.length,oe=V>>>1;D<oe;){var re=2*(D+1)-1,ce=j[re],de=re+1,te=j[de];if(0>s(ce,G))de<V&&0>s(te,ce)?(j[D]=te,j[de]=G,D=de):(j[D]=ce,j[re]=G,D=re);else if(de<V&&0>s(te,G))j[D]=te,j[de]=G,D=de;else break e}}return F}function s(j,F){var G=j.sortIndex-F.sortIndex;return G!==0?G:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,v=3,w=!1,b=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var F=n(h);F!==null;){if(F.callback===null)o(h);else if(F.startTime<=j)o(h),F.sortIndex=F.expirationTime,t(d,F);else break;F=n(h)}}function P(j){if(C=!1,_(j),!b)if(n(d)!==null)b=!0,z(I);else{var F=n(h);F!==null&&q(P,F.startTime-j)}}function I(j,F){b=!1,C&&(C=!1,E(O),O=-1),w=!0;var G=v;try{for(_(F),g=n(d);g!==null&&(!(g.expirationTime>F)||j&&!M());){var D=g.callback;if(typeof D=="function"){g.callback=null,v=g.priorityLevel;var V=D(g.expirationTime<=F);F=e.unstable_now(),typeof V=="function"?g.callback=V:g===n(d)&&o(d),_(F)}else o(d);g=n(d)}if(g!==null)var oe=!0;else{var re=n(h);re!==null&&q(P,re.startTime-F),oe=!1}return oe}finally{g=null,v=G,w=!1}}var A=!1,R=null,O=-1,H=5,K=-1;function M(){return!(e.unstable_now()-K<H)}function U(){if(R!==null){var j=e.unstable_now();K=j;var F=!0;try{F=R(!0,j)}finally{F?J():(A=!1,R=null)}}else A=!1}var J;if(typeof N=="function")J=function(){N(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Q=L.port2;L.port1.onmessage=U,J=function(){Q.postMessage(null)}}else J=function(){k(U,0)};function z(j){R=j,A||(A=!0,J())}function q(j,F){O=k(function(){j(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,z(I))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(j){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var G=v;v=F;try{return j()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=v;v=j;try{return F()}finally{v=G}},e.unstable_scheduleCallback=function(j,F,G){var D=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,j={id:m++,callback:F,priorityLevel:j,startTime:G,expirationTime:V,sortIndex:-1},G>D?(j.sortIndex=G,t(h,j),n(d)===null&&j===n(h)&&(C?(E(O),O=-1):C=!0,q(P,G-D))):(j.sortIndex=V,t(d,j),b||w||(b=!0,z(I))),j},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(j){var F=v;return function(){var G=v;v=F;try{return j.apply(this,arguments)}finally{v=G}}}})(Sp)),Sp}var ux;function j2(){return ux||(ux=1,bp.exports=R2()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function I2(){if(dx)return Ut;dx=1;var e=Hl(),t=j2();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function a(r,i){l(r,i),l(r+"Capture",i)}function l(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(r){return d.call(g,r)?!0:d.call(m,r)?!1:h.test(r)?g[r]=!0:(m[r]=!0,!1)}function w(r,i,c,p){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,c,p){if(i===null||typeof i>"u"||w(r,i,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(r,i,c,p,x,S,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=S,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new C(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new C(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new C(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new C(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new C(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new C(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new C(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new C(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new C(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(E,N);k[i]=new C(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(E,N);k[i]=new C(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(E,N);k[i]=new C(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new C(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new C(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,i,c,p){var x=k.hasOwnProperty(i)?k[i]:null;(x!==null?x.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,c,x,p)&&(c=null),p||x===null?v(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):x.mustUseProperty?r[x.propertyName]=c===null?x.type===3?!1:"":c:(i=x.attributeName,p=x.attributeNamespace,c===null?r.removeAttribute(i):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,p?r.setAttributeNS(p,i,c):r.setAttribute(i,c))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),j=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,D;function V(r){if(D===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+r}var oe=!1;function re(r,i){if(!r||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var p=ee}Reflect.construct(r,[],i)}else{try{i.call()}catch(ee){p=ee}r.call(i.prototype)}else{try{throw Error()}catch(ee){p=ee}r()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),S=p.stack.split(`
`),T=x.length-1,$=S.length-1;1<=T&&0<=$&&x[T]!==S[$];)$--;for(;1<=T&&0<=$;T--,$--)if(x[T]!==S[$]){if(T!==1||$!==1)do if(T--,$--,0>$||x[T]!==S[$]){var W=`
`+x[T].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=T&&0<=$);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?V(r):""}function ce(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=re(r.type,!1),r;case 11:return r=re(r.type.render,!1),r;case 1:return r=re(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case A:return"Portal";case H:return"Profiler";case O:return"StrictMode";case J:return"Suspense";case L:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case K:return(r._context.displayName||"Context")+".Provider";case U:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return i=r.displayName||null,i!==null?i:de(r.type)||"Memo";case z:i=r._payload,r=r._init;try{return de(r(i))}catch{}}return null}function te(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function le(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pe(r){var i=le(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),p=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,S=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){p=""+T,S.call(this,T)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function me(r){r._valueTracker||(r._valueTracker=pe(r))}function he(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),p="";return r&&(p=le(r)?r.checked?"true":"false":r.value),r=p,r!==c?(i.setValue(r),!0):!1}function ve(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ie(r,i){var c=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function He(r,i){var c=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;c=ne(i.value!=null?i.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Oe(r,i){i=i.checked,i!=null&&_(r,"checked",i,!1)}function Ye(r,i){Oe(r,i);var c=ne(i.value),p=i.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?wt(r,i.type,c):i.hasOwnProperty("defaultValue")&&wt(r,i.type,ne(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Yt(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function wt(r,i,c){(i!=="number"||ve(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Qt=Array.isArray;function un(r,i,c,p){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&p&&(r[c].defaultSelected=!0)}else{for(c=""+ne(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,p&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function mr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Kr(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(Qt(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:ne(c)}}function $s(r,i){var c=ne(i.value),p=ne(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Fo(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function gr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?gr(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var zo,rc=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,p,x){MSApp.execUnsafeLocalFunction(function(){return r(i,c,p,x)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function vr(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kf=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(r){kf.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ho[i]=Ho[r]})});function oc(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Ho.hasOwnProperty(r)&&Ho[r]?(""+i).trim():i+"px"}function sc(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var p=c.indexOf("--")===0,x=oc(c,i[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,x):r[c]=x}}var Ef=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(r,i){if(i){if(Ef[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ua(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function fa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ha=null,Gr=null,Yr=null;function ic(r){if(r=$a(r)){if(typeof ha!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Oc(i),ha(r.stateNode,r.type,i))}}function ac(r){Gr?Yr?Yr.push(r):Yr=[r]:Gr=r}function lc(){if(Gr){var r=Gr,i=Yr;if(Yr=Gr=null,ic(r),i)for(r=0;r<i.length;r++)ic(i[r])}}function cc(r,i){return r(i)}function uc(){}var pa=!1;function dc(r,i,c){if(pa)return r(i,c);pa=!0;try{return cc(r,i,c)}finally{pa=!1,(Gr!==null||Yr!==null)&&(uc(),lc())}}function Bo(r,i){var c=r.stateNode;if(c===null)return null;var p=Oc(c);if(p===null)return null;c=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var ma=!1;if(u)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{ma=!1}function Nf(r,i,c,p,x,S,T,$,W){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(c,ee)}catch(ae){this.onError(ae)}}var Vo=!1,Fs=null,zs=!1,ga=null,Pf={onError:function(r){Vo=!0,Fs=r}};function Tf(r,i,c,p,x,S,T,$,W){Vo=!1,Fs=null,Nf.apply(Pf,arguments)}function Rf(r,i,c,p,x,S,T,$,W){if(Tf.apply(this,arguments),Vo){if(Vo){var ee=Fs;Vo=!1,Fs=null}else throw Error(n(198));zs||(zs=!0,ga=ee)}}function qn(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function ya(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function va(r){if(qn(r)!==r)throw Error(n(188))}function jf(r){var i=r.alternate;if(!i){if(i=qn(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,p=i;;){var x=c.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===c)return va(x),r;if(S===p)return va(x),i;S=S.sibling}throw Error(n(188))}if(c.return!==p.return)c=x,p=S;else{for(var T=!1,$=x.child;$;){if($===c){T=!0,c=x,p=S;break}if($===p){T=!0,p=x,c=S;break}$=$.sibling}if(!T){for($=S.child;$;){if($===c){T=!0,c=S,p=x;break}if($===p){T=!0,p=S,c=x;break}$=$.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function fc(r){return r=jf(r),r!==null?hc(r):null}function hc(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=hc(r);if(i!==null)return i;r=r.sibling}return null}var pc=t.unstable_scheduleCallback,mc=t.unstable_cancelCallback,If=t.unstable_shouldYield,gc=t.unstable_requestPaint,ot=t.unstable_now,Af=t.unstable_getCurrentPriorityLevel,xa=t.unstable_ImmediatePriority,yc=t.unstable_UserBlockingPriority,Hs=t.unstable_NormalPriority,Mf=t.unstable_LowPriority,vc=t.unstable_IdlePriority,Uo=null,dn=null;function Df(r){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Uo,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:$f,Of=Math.log,Lf=Math.LN2;function $f(r){return r>>>=0,r===0?32:31-(Of(r)/Lf|0)|0}var Bs=64,Ws=4194304;function Kn(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vs(r,i){var c=r.pendingLanes;if(c===0)return 0;var p=0,x=r.suspendedLanes,S=r.pingedLanes,T=c&268435455;if(T!==0){var $=T&~x;$!==0?p=Kn($):(S&=T,S!==0&&(p=Kn(S)))}else T=c&~x,T!==0?p=Kn(T):S!==0&&(p=Kn(S));if(p===0)return 0;if(i!==0&&i!==p&&(i&x)===0&&(x=p&-p,S=i&-i,x>=S||x===16&&(S&4194240)!==0))return i;if((p&4)!==0&&(p|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=p;0<i;)c=31-Xt(i),x=1<<c,p|=r[c],i&=~x;return p}function xc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(r,i){for(var c=r.suspendedLanes,p=r.pingedLanes,x=r.expirationTimes,S=r.pendingLanes;0<S;){var T=31-Xt(S),$=1<<T,W=x[T];W===-1?(($&c)===0||($&p)!==0)&&(x[T]=xc($,i)):W<=i&&(r.expiredLanes|=$),S&=~$}}function wa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Us(){var r=Bs;return Bs<<=1,(Bs&4194240)===0&&(Bs=64),r}function ba(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function qo(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Xt(i),r[i]=c}function wc(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var x=31-Xt(c),S=1<<x;i[x]=0,p[x]=-1,r[x]=-1,c&=~S}}function zf(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var p=31-Xt(c),x=1<<p;x&i|r[p]&i&&(r[p]|=i),c&=~x}}var Ge=0;function Oy(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ly,Hf,$y,Fy,zy,Bf=!1,bc=[],Qr=null,Xr=null,Jr=null,Sa=new Map,Ca=new Map,Zr=[],GE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(r,i){switch(r){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Sa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(i.pointerId)}}function _a(r,i,c,p,x,S){return r===null||r.nativeEvent!==S?(r={blockedOn:i,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},i!==null&&(i=$a(i),i!==null&&Hf(i)),r):(r.eventSystemFlags|=p,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function YE(r,i,c,p,x){switch(i){case"focusin":return Qr=_a(Qr,r,i,c,p,x),!0;case"dragenter":return Xr=_a(Xr,r,i,c,p,x),!0;case"mouseover":return Jr=_a(Jr,r,i,c,p,x),!0;case"pointerover":var S=x.pointerId;return Sa.set(S,_a(Sa.get(S)||null,r,i,c,p,x)),!0;case"gotpointercapture":return S=x.pointerId,Ca.set(S,_a(Ca.get(S)||null,r,i,c,p,x)),!0}return!1}function By(r){var i=Ko(r.target);if(i!==null){var c=qn(i);if(c!==null){if(i=c.tag,i===13){if(i=ya(c),i!==null){r.blockedOn=i,zy(r.priority,function(){$y(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sc(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Vf(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);da=p,c.target.dispatchEvent(p),da=null}else return i=$a(c),i!==null&&Hf(i),r.blockedOn=c,!1;i.shift()}return!0}function Wy(r,i,c){Sc(r)&&c.delete(i)}function QE(){Bf=!1,Qr!==null&&Sc(Qr)&&(Qr=null),Xr!==null&&Sc(Xr)&&(Xr=null),Jr!==null&&Sc(Jr)&&(Jr=null),Sa.forEach(Wy),Ca.forEach(Wy)}function ka(r,i){r.blockedOn===i&&(r.blockedOn=null,Bf||(Bf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QE)))}function Ea(r){function i(x){return ka(x,r)}if(0<bc.length){ka(bc[0],r);for(var c=1;c<bc.length;c++){var p=bc[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Qr!==null&&ka(Qr,r),Xr!==null&&ka(Xr,r),Jr!==null&&ka(Jr,r),Sa.forEach(i),Ca.forEach(i),c=0;c<Zr.length;c++)p=Zr[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Zr.length&&(c=Zr[0],c.blockedOn===null);)By(c),c.blockedOn===null&&Zr.shift()}var qs=P.ReactCurrentBatchConfig,Cc=!0;function XE(r,i,c,p){var x=Ge,S=qs.transition;qs.transition=null;try{Ge=1,Wf(r,i,c,p)}finally{Ge=x,qs.transition=S}}function JE(r,i,c,p){var x=Ge,S=qs.transition;qs.transition=null;try{Ge=4,Wf(r,i,c,p)}finally{Ge=x,qs.transition=S}}function Wf(r,i,c,p){if(Cc){var x=Vf(r,i,c,p);if(x===null)ah(r,i,p,_c,c),Hy(r,p);else if(YE(x,r,i,c,p))p.stopPropagation();else if(Hy(r,p),i&4&&-1<GE.indexOf(r)){for(;x!==null;){var S=$a(x);if(S!==null&&Ly(S),S=Vf(r,i,c,p),S===null&&ah(r,i,p,_c,c),S===x)break;x=S}x!==null&&p.stopPropagation()}else ah(r,i,p,null,c)}}var _c=null;function Vf(r,i,c,p){if(_c=null,r=fa(p),r=Ko(r),r!==null)if(i=qn(r),i===null)r=null;else if(c=i.tag,c===13){if(r=ya(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return _c=r,null}function Vy(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Af()){case xa:return 1;case yc:return 4;case Hs:case Mf:return 16;case vc:return 536870912;default:return 16}default:return 16}}var eo=null,Uf=null,kc=null;function Uy(){if(kc)return kc;var r,i=Uf,c=i.length,p,x="value"in eo?eo.value:eo.textContent,S=x.length;for(r=0;r<c&&i[r]===x[r];r++);var T=c-r;for(p=1;p<=T&&i[c-p]===x[S-p];p++);return kc=x.slice(r,1<p?1-p:void 0)}function Ec(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Nc(){return!0}function qy(){return!1}function Jt(r){function i(c,p,x,S,T){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(c=r[$],this[$]=c?c(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Nc:qy,this.isPropagationStopped=qy,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),i}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qf=Jt(Ks),Na=G({},Ks,{view:0,detail:0}),ZE=Jt(Na),Kf,Gf,Pa,Pc=G({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pa&&(Pa&&r.type==="mousemove"?(Kf=r.screenX-Pa.screenX,Gf=r.screenY-Pa.screenY):Gf=Kf=0,Pa=r),Kf)},movementY:function(r){return"movementY"in r?r.movementY:Gf}}),Ky=Jt(Pc),eN=G({},Pc,{dataTransfer:0}),tN=Jt(eN),nN=G({},Na,{relatedTarget:0}),Yf=Jt(nN),rN=G({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),oN=Jt(rN),sN=G({},Ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iN=Jt(sN),aN=G({},Ks,{data:0}),Gy=Jt(aN),lN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dN(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=uN[r])?!!i[r]:!1}function Qf(){return dN}var fN=G({},Na,{key:function(r){if(r.key){var i=lN[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ec(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cN[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qf,charCode:function(r){return r.type==="keypress"?Ec(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ec(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),hN=Jt(fN),pN=G({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=Jt(pN),mN=G({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qf}),gN=Jt(mN),yN=G({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=Jt(yN),xN=G({},Pc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wN=Jt(xN),bN=[9,13,27,32],Xf=u&&"CompositionEvent"in window,Ta=null;u&&"documentMode"in document&&(Ta=document.documentMode);var SN=u&&"TextEvent"in window&&!Ta,Qy=u&&(!Xf||Ta&&8<Ta&&11>=Ta),Xy=" ",Jy=!1;function Zy(r,i){switch(r){case"keyup":return bN.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gs=!1;function CN(r,i){switch(r){case"compositionend":return e0(i);case"keypress":return i.which!==32?null:(Jy=!0,Xy);case"textInput":return r=i.data,r===Xy&&Jy?null:r;default:return null}}function _N(r,i){if(Gs)return r==="compositionend"||!Xf&&Zy(r,i)?(r=Uy(),kc=Uf=eo=null,Gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qy&&i.locale!=="ko"?null:i.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!kN[r.type]:i==="textarea"}function n0(r,i,c,p){ac(p),i=Ac(i,"onChange"),0<i.length&&(c=new qf("onChange","change",null,c,p),r.push({event:c,listeners:i}))}var Ra=null,ja=null;function EN(r){w0(r,0)}function Tc(r){var i=Zs(r);if(he(i))return r}function NN(r,i){if(r==="change")return i}var r0=!1;if(u){var Jf;if(u){var Zf="oninput"in document;if(!Zf){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Zf=typeof o0.oninput=="function"}Jf=Zf}else Jf=!1;r0=Jf&&(!document.documentMode||9<document.documentMode)}function s0(){Ra&&(Ra.detachEvent("onpropertychange",i0),ja=Ra=null)}function i0(r){if(r.propertyName==="value"&&Tc(ja)){var i=[];n0(i,ja,r,fa(r)),dc(EN,i)}}function PN(r,i,c){r==="focusin"?(s0(),Ra=i,ja=c,Ra.attachEvent("onpropertychange",i0)):r==="focusout"&&s0()}function TN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tc(ja)}function RN(r,i){if(r==="click")return Tc(i)}function jN(r,i){if(r==="input"||r==="change")return Tc(i)}function IN(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Cn=typeof Object.is=="function"?Object.is:IN;function Ia(r,i){if(Cn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),p=Object.keys(i);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!d.call(i,x)||!Cn(r[x],i[x]))return!1}return!0}function a0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function l0(r,i){var c=a0(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=i&&p>=i)return{node:c,offset:i-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=a0(c)}}function c0(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?c0(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function u0(){for(var r=window,i=ve();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=ve(r.document)}return i}function eh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function AN(r){var i=u0(),c=r.focusedElem,p=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&c0(c.ownerDocument.documentElement,c)){if(p!==null&&eh(c)){if(i=p.start,r=p.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var x=c.textContent.length,S=Math.min(p.start,x);p=p.end===void 0?S:Math.min(p.end,x),!r.extend&&S>p&&(x=p,p=S,S=x),x=l0(c,S);var T=l0(c,p);x&&T&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),r.removeAllRanges(),S>p?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var MN=u&&"documentMode"in document&&11>=document.documentMode,Ys=null,th=null,Aa=null,nh=!1;function d0(r,i,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;nh||Ys==null||Ys!==ve(p)||(p=Ys,"selectionStart"in p&&eh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Aa&&Ia(Aa,p)||(Aa=p,p=Ac(th,"onSelect"),0<p.length&&(i=new qf("onSelect","select",null,i,c),r.push({event:i,listeners:p}),i.target=Ys)))}function Rc(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Qs={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},rh={},f0={};u&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function jc(r){if(rh[r])return rh[r];if(!Qs[r])return r;var i=Qs[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in f0)return rh[r]=i[c];return r}var h0=jc("animationend"),p0=jc("animationiteration"),m0=jc("animationstart"),g0=jc("transitionend"),y0=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(r,i){y0.set(r,i),a(i,[r])}for(var oh=0;oh<v0.length;oh++){var sh=v0[oh],DN=sh.toLowerCase(),ON=sh[0].toUpperCase()+sh.slice(1);to(DN,"on"+ON)}to(h0,"onAnimationEnd"),to(p0,"onAnimationIteration"),to(m0,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(g0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function x0(r,i,c){var p=r.type||"unknown-event";r.currentTarget=c,Rf(p,i,void 0,r),r.currentTarget=null}function w0(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],x=p.event;p=p.listeners;e:{var S=void 0;if(i)for(var T=p.length-1;0<=T;T--){var $=p[T],W=$.instance,ee=$.currentTarget;if($=$.listener,W!==S&&x.isPropagationStopped())break e;x0(x,$,ee),S=W}else for(T=0;T<p.length;T++){if($=p[T],W=$.instance,ee=$.currentTarget,$=$.listener,W!==S&&x.isPropagationStopped())break e;x0(x,$,ee),S=W}}}if(zs)throw r=ga,zs=!1,ga=null,r}function Je(r,i){var c=i[hh];c===void 0&&(c=i[hh]=new Set);var p=r+"__bubble";c.has(p)||(b0(i,r,2,!1),c.add(p))}function ih(r,i,c){var p=0;i&&(p|=4),b0(c,r,p,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[Ic]){r[Ic]=!0,o.forEach(function(c){c!=="selectionchange"&&(LN.has(c)||ih(c,!1,r),ih(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,ih("selectionchange",!1,i))}}function b0(r,i,c,p){switch(Vy(i)){case 1:var x=XE;break;case 4:x=JE;break;default:x=Wf}c=x.bind(null,i,c,r),x=void 0,!ma||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),p?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function ah(r,i,c,p,x){var S=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var $=p.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(T===4)for(T=p.return;T!==null;){var W=T.tag;if((W===3||W===4)&&(W=T.stateNode.containerInfo,W===x||W.nodeType===8&&W.parentNode===x))return;T=T.return}for(;$!==null;){if(T=Ko($),T===null)return;if(W=T.tag,W===5||W===6){p=S=T;continue e}$=$.parentNode}}p=p.return}dc(function(){var ee=S,ae=fa(c),ue=[];e:{var ie=y0.get(r);if(ie!==void 0){var ye=qf,we=r;switch(r){case"keypress":if(Ec(c)===0)break e;case"keydown":case"keyup":ye=hN;break;case"focusin":we="focus",ye=Yf;break;case"focusout":we="blur",ye=Yf;break;case"beforeblur":case"afterblur":ye=Yf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=tN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=gN;break;case h0:case p0:case m0:ye=oN;break;case g0:ye=vN;break;case"scroll":ye=ZE;break;case"wheel":ye=wN;break;case"copy":case"cut":case"paste":ye=iN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Yy}var Ce=(i&4)!==0,dt=!Ce&&r==="scroll",X=Ce?ie!==null?ie+"Capture":null:ie;Ce=[];for(var Y=ee,Z;Y!==null;){Z=Y;var fe=Z.stateNode;if(Z.tag===5&&fe!==null&&(Z=fe,X!==null&&(fe=Bo(Y,X),fe!=null&&Ce.push(Oa(Y,fe,Z)))),dt)break;Y=Y.return}0<Ce.length&&(ie=new ye(ie,we,null,c,ae),ue.push({event:ie,listeners:Ce}))}}if((i&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",ie&&c!==da&&(we=c.relatedTarget||c.fromElement)&&(Ko(we)||we[xr]))break e;if((ye||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,ye?(we=c.relatedTarget||c.toElement,ye=ee,we=we?Ko(we):null,we!==null&&(dt=qn(we),we!==dt||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=ee),ye!==we)){if(Ce=Ky,fe="onMouseLeave",X="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=Yy,fe="onPointerLeave",X="onPointerEnter",Y="pointer"),dt=ye==null?ie:Zs(ye),Z=we==null?ie:Zs(we),ie=new Ce(fe,Y+"leave",ye,c,ae),ie.target=dt,ie.relatedTarget=Z,fe=null,Ko(ae)===ee&&(Ce=new Ce(X,Y+"enter",we,c,ae),Ce.target=Z,Ce.relatedTarget=dt,fe=Ce),dt=fe,ye&&we)t:{for(Ce=ye,X=we,Y=0,Z=Ce;Z;Z=Xs(Z))Y++;for(Z=0,fe=X;fe;fe=Xs(fe))Z++;for(;0<Y-Z;)Ce=Xs(Ce),Y--;for(;0<Z-Y;)X=Xs(X),Z--;for(;Y--;){if(Ce===X||X!==null&&Ce===X.alternate)break t;Ce=Xs(Ce),X=Xs(X)}Ce=null}else Ce=null;ye!==null&&S0(ue,ie,ye,Ce,!1),we!==null&&dt!==null&&S0(ue,dt,we,Ce,!0)}}e:{if(ie=ee?Zs(ee):window,ye=ie.nodeName&&ie.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ie.type==="file")var ke=NN;else if(t0(ie))if(r0)ke=jN;else{ke=TN;var Pe=PN}else(ye=ie.nodeName)&&ye.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=RN);if(ke&&(ke=ke(r,ee))){n0(ue,ke,c,ae);break e}Pe&&Pe(r,ie,ee),r==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&wt(ie,"number",ie.value)}switch(Pe=ee?Zs(ee):window,r){case"focusin":(t0(Pe)||Pe.contentEditable==="true")&&(Ys=Pe,th=ee,Aa=null);break;case"focusout":Aa=th=Ys=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,d0(ue,c,ae);break;case"selectionchange":if(MN)break;case"keydown":case"keyup":d0(ue,c,ae)}var Te;if(Xf)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Gs?Zy(r,c)&&(je="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(Qy&&c.locale!=="ko"&&(Gs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Gs&&(Te=Uy()):(eo=ae,Uf="value"in eo?eo.value:eo.textContent,Gs=!0)),Pe=Ac(ee,je),0<Pe.length&&(je=new Gy(je,r,null,c,ae),ue.push({event:je,listeners:Pe}),Te?je.data=Te:(Te=e0(c),Te!==null&&(je.data=Te)))),(Te=SN?CN(r,c):_N(r,c))&&(ee=Ac(ee,"onBeforeInput"),0<ee.length&&(ae=new Gy("onBeforeInput","beforeinput",null,c,ae),ue.push({event:ae,listeners:ee}),ae.data=Te))}w0(ue,i)})}function Oa(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Ac(r,i){for(var c=i+"Capture",p=[];r!==null;){var x=r,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Bo(r,c),S!=null&&p.unshift(Oa(r,S,x)),S=Bo(r,i),S!=null&&p.push(Oa(r,S,x))),r=r.return}return p}function Xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function S0(r,i,c,p,x){for(var S=i._reactName,T=[];c!==null&&c!==p;){var $=c,W=$.alternate,ee=$.stateNode;if(W!==null&&W===p)break;$.tag===5&&ee!==null&&($=ee,x?(W=Bo(c,S),W!=null&&T.unshift(Oa(c,W,$))):x||(W=Bo(c,S),W!=null&&T.push(Oa(c,W,$)))),c=c.return}T.length!==0&&r.push({event:i,listeners:T})}var $N=/\r\n?/g,FN=/\u0000|\uFFFD/g;function C0(r){return(typeof r=="string"?r:""+r).replace($N,`
`).replace(FN,"")}function Mc(r,i,c){if(i=C0(i),C0(r)!==i&&c)throw Error(n(425))}function Dc(){}var lh=null,ch=null;function uh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,zN=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(r){return _0.resolve(null).then(r).catch(BN)}:dh;function BN(r){setTimeout(function(){throw r})}function fh(r,i){var c=i,p=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(p===0){r.removeChild(x),Ea(i);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=x}while(c);Ea(i)}function no(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function k0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Js,La="__reactProps$"+Js,xr="__reactContainer$"+Js,hh="__reactEvents$"+Js,WN="__reactListeners$"+Js,VN="__reactHandles$"+Js;function Ko(r){var i=r[Gn];if(i)return i;for(var c=r.parentNode;c;){if(i=c[xr]||c[Gn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=k0(r);r!==null;){if(c=r[Gn])return c;r=k0(r)}return i}r=c,c=r.parentNode}return null}function $a(r){return r=r[Gn]||r[xr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Zs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Oc(r){return r[La]||null}var ph=[],ei=-1;function ro(r){return{current:r}}function Ze(r){0>ei||(r.current=ph[ei],ph[ei]=null,ei--)}function Qe(r,i){ei++,ph[ei]=r.current,r.current=i}var oo={},Pt=ro(oo),zt=ro(!1),Go=oo;function ti(r,i){var c=r.type.contextTypes;if(!c)return oo;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in c)x[S]=i[S];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=x),x}function Ht(r){return r=r.childContextTypes,r!=null}function Lc(){Ze(zt),Ze(Pt)}function E0(r,i,c){if(Pt.current!==oo)throw Error(n(168));Qe(Pt,i),Qe(zt,c)}function N0(r,i,c){var p=r.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var x in p)if(!(x in i))throw Error(n(108,te(r)||"Unknown",x));return G({},c,p)}function $c(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oo,Go=Pt.current,Qe(Pt,r),Qe(zt,zt.current),!0}function P0(r,i,c){var p=r.stateNode;if(!p)throw Error(n(169));c?(r=N0(r,i,Go),p.__reactInternalMemoizedMergedChildContext=r,Ze(zt),Ze(Pt),Qe(Pt,r)):Ze(zt),Qe(zt,c)}var wr=null,Fc=!1,mh=!1;function T0(r){wr===null?wr=[r]:wr.push(r)}function UN(r){Fc=!0,T0(r)}function so(){if(!mh&&wr!==null){mh=!0;var r=0,i=Ge;try{var c=wr;for(Ge=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}wr=null,Fc=!1}catch(x){throw wr!==null&&(wr=wr.slice(r+1)),pc(xa,so),x}finally{Ge=i,mh=!1}}return null}var ni=[],ri=0,zc=null,Hc=0,fn=[],hn=0,Yo=null,br=1,Sr="";function Qo(r,i){ni[ri++]=Hc,ni[ri++]=zc,zc=r,Hc=i}function R0(r,i,c){fn[hn++]=br,fn[hn++]=Sr,fn[hn++]=Yo,Yo=r;var p=br;r=Sr;var x=32-Xt(p)-1;p&=~(1<<x),c+=1;var S=32-Xt(i)+x;if(30<S){var T=x-x%5;S=(p&(1<<T)-1).toString(32),p>>=T,x-=T,br=1<<32-Xt(i)+x|c<<x|p,Sr=S+r}else br=1<<S|c<<x|p,Sr=r}function gh(r){r.return!==null&&(Qo(r,1),R0(r,1,0))}function yh(r){for(;r===zc;)zc=ni[--ri],ni[ri]=null,Hc=ni[--ri],ni[ri]=null;for(;r===Yo;)Yo=fn[--hn],fn[hn]=null,Sr=fn[--hn],fn[hn]=null,br=fn[--hn],fn[hn]=null}var Zt=null,en=null,et=!1,_n=null;function j0(r,i){var c=yn(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function I0(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Zt=r,en=no(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Zt=r,en=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Yo!==null?{id:br,overflow:Sr}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=yn(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,Zt=r,en=null,!0):!1;default:return!1}}function vh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xh(r){if(et){var i=en;if(i){var c=i;if(!I0(r,i)){if(vh(r))throw Error(n(418));i=no(c.nextSibling);var p=Zt;i&&I0(r,i)?j0(p,c):(r.flags=r.flags&-4097|2,et=!1,Zt=r)}}else{if(vh(r))throw Error(n(418));r.flags=r.flags&-4097|2,et=!1,Zt=r}}}function A0(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Zt=r}function Bc(r){if(r!==Zt)return!1;if(!et)return A0(r),et=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!uh(r.type,r.memoizedProps)),i&&(i=en)){if(vh(r))throw M0(),Error(n(418));for(;i;)j0(r,i),i=no(i.nextSibling)}if(A0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){en=no(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}en=null}}else en=Zt?no(r.stateNode.nextSibling):null;return!0}function M0(){for(var r=en;r;)r=no(r.nextSibling)}function oi(){en=Zt=null,et=!1}function wh(r){_n===null?_n=[r]:_n.push(r)}var qN=P.ReactCurrentBatchConfig;function Fa(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,r));var x=p,S=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(T){var $=x.refs;T===null?delete $[S]:$[S]=T},i._stringRef=S,i)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Wc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function D0(r){var i=r._init;return i(r._payload)}function O0(r){function i(X,Y){if(r){var Z=X.deletions;Z===null?(X.deletions=[Y],X.flags|=16):Z.push(Y)}}function c(X,Y){if(!r)return null;for(;Y!==null;)i(X,Y),Y=Y.sibling;return null}function p(X,Y){for(X=new Map;Y!==null;)Y.key!==null?X.set(Y.key,Y):X.set(Y.index,Y),Y=Y.sibling;return X}function x(X,Y){return X=po(X,Y),X.index=0,X.sibling=null,X}function S(X,Y,Z){return X.index=Z,r?(Z=X.alternate,Z!==null?(Z=Z.index,Z<Y?(X.flags|=2,Y):Z):(X.flags|=2,Y)):(X.flags|=1048576,Y)}function T(X){return r&&X.alternate===null&&(X.flags|=2),X}function $(X,Y,Z,fe){return Y===null||Y.tag!==6?(Y=dp(Z,X.mode,fe),Y.return=X,Y):(Y=x(Y,Z),Y.return=X,Y)}function W(X,Y,Z,fe){var ke=Z.type;return ke===R?ae(X,Y,Z.props.children,fe,Z.key):Y!==null&&(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===z&&D0(ke)===Y.type)?(fe=x(Y,Z.props),fe.ref=Fa(X,Y,Z),fe.return=X,fe):(fe=hu(Z.type,Z.key,Z.props,null,X.mode,fe),fe.ref=Fa(X,Y,Z),fe.return=X,fe)}function ee(X,Y,Z,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=fp(Z,X.mode,fe),Y.return=X,Y):(Y=x(Y,Z.children||[]),Y.return=X,Y)}function ae(X,Y,Z,fe,ke){return Y===null||Y.tag!==7?(Y=os(Z,X.mode,fe,ke),Y.return=X,Y):(Y=x(Y,Z),Y.return=X,Y)}function ue(X,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=dp(""+Y,X.mode,Z),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return Z=hu(Y.type,Y.key,Y.props,null,X.mode,Z),Z.ref=Fa(X,null,Y),Z.return=X,Z;case A:return Y=fp(Y,X.mode,Z),Y.return=X,Y;case z:var fe=Y._init;return ue(X,fe(Y._payload),Z)}if(Qt(Y)||F(Y))return Y=os(Y,X.mode,Z,null),Y.return=X,Y;Wc(X,Y)}return null}function ie(X,Y,Z,fe){var ke=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ke!==null?null:$(X,Y,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return Z.key===ke?W(X,Y,Z,fe):null;case A:return Z.key===ke?ee(X,Y,Z,fe):null;case z:return ke=Z._init,ie(X,Y,ke(Z._payload),fe)}if(Qt(Z)||F(Z))return ke!==null?null:ae(X,Y,Z,fe,null);Wc(X,Z)}return null}function ye(X,Y,Z,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(Z)||null,$(Y,X,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case I:return X=X.get(fe.key===null?Z:fe.key)||null,W(Y,X,fe,ke);case A:return X=X.get(fe.key===null?Z:fe.key)||null,ee(Y,X,fe,ke);case z:var Pe=fe._init;return ye(X,Y,Z,Pe(fe._payload),ke)}if(Qt(fe)||F(fe))return X=X.get(Z)||null,ae(Y,X,fe,ke,null);Wc(Y,fe)}return null}function we(X,Y,Z,fe){for(var ke=null,Pe=null,Te=Y,je=Y=0,Ct=null;Te!==null&&je<Z.length;je++){Te.index>je?(Ct=Te,Te=null):Ct=Te.sibling;var Ue=ie(X,Te,Z[je],fe);if(Ue===null){Te===null&&(Te=Ct);break}r&&Te&&Ue.alternate===null&&i(X,Te),Y=S(Ue,Y,je),Pe===null?ke=Ue:Pe.sibling=Ue,Pe=Ue,Te=Ct}if(je===Z.length)return c(X,Te),et&&Qo(X,je),ke;if(Te===null){for(;je<Z.length;je++)Te=ue(X,Z[je],fe),Te!==null&&(Y=S(Te,Y,je),Pe===null?ke=Te:Pe.sibling=Te,Pe=Te);return et&&Qo(X,je),ke}for(Te=p(X,Te);je<Z.length;je++)Ct=ye(Te,X,je,Z[je],fe),Ct!==null&&(r&&Ct.alternate!==null&&Te.delete(Ct.key===null?je:Ct.key),Y=S(Ct,Y,je),Pe===null?ke=Ct:Pe.sibling=Ct,Pe=Ct);return r&&Te.forEach(function(mo){return i(X,mo)}),et&&Qo(X,je),ke}function Ce(X,Y,Z,fe){var ke=F(Z);if(typeof ke!="function")throw Error(n(150));if(Z=ke.call(Z),Z==null)throw Error(n(151));for(var Pe=ke=null,Te=Y,je=Y=0,Ct=null,Ue=Z.next();Te!==null&&!Ue.done;je++,Ue=Z.next()){Te.index>je?(Ct=Te,Te=null):Ct=Te.sibling;var mo=ie(X,Te,Ue.value,fe);if(mo===null){Te===null&&(Te=Ct);break}r&&Te&&mo.alternate===null&&i(X,Te),Y=S(mo,Y,je),Pe===null?ke=mo:Pe.sibling=mo,Pe=mo,Te=Ct}if(Ue.done)return c(X,Te),et&&Qo(X,je),ke;if(Te===null){for(;!Ue.done;je++,Ue=Z.next())Ue=ue(X,Ue.value,fe),Ue!==null&&(Y=S(Ue,Y,je),Pe===null?ke=Ue:Pe.sibling=Ue,Pe=Ue);return et&&Qo(X,je),ke}for(Te=p(X,Te);!Ue.done;je++,Ue=Z.next())Ue=ye(Te,X,je,Ue.value,fe),Ue!==null&&(r&&Ue.alternate!==null&&Te.delete(Ue.key===null?je:Ue.key),Y=S(Ue,Y,je),Pe===null?ke=Ue:Pe.sibling=Ue,Pe=Ue);return r&&Te.forEach(function(k2){return i(X,k2)}),et&&Qo(X,je),ke}function dt(X,Y,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:e:{for(var ke=Z.key,Pe=Y;Pe!==null;){if(Pe.key===ke){if(ke=Z.type,ke===R){if(Pe.tag===7){c(X,Pe.sibling),Y=x(Pe,Z.props.children),Y.return=X,X=Y;break e}}else if(Pe.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===z&&D0(ke)===Pe.type){c(X,Pe.sibling),Y=x(Pe,Z.props),Y.ref=Fa(X,Pe,Z),Y.return=X,X=Y;break e}c(X,Pe);break}else i(X,Pe);Pe=Pe.sibling}Z.type===R?(Y=os(Z.props.children,X.mode,fe,Z.key),Y.return=X,X=Y):(fe=hu(Z.type,Z.key,Z.props,null,X.mode,fe),fe.ref=Fa(X,Y,Z),fe.return=X,X=fe)}return T(X);case A:e:{for(Pe=Z.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){c(X,Y.sibling),Y=x(Y,Z.children||[]),Y.return=X,X=Y;break e}else{c(X,Y);break}else i(X,Y);Y=Y.sibling}Y=fp(Z,X.mode,fe),Y.return=X,X=Y}return T(X);case z:return Pe=Z._init,dt(X,Y,Pe(Z._payload),fe)}if(Qt(Z))return we(X,Y,Z,fe);if(F(Z))return Ce(X,Y,Z,fe);Wc(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,Y!==null&&Y.tag===6?(c(X,Y.sibling),Y=x(Y,Z),Y.return=X,X=Y):(c(X,Y),Y=dp(Z,X.mode,fe),Y.return=X,X=Y),T(X)):c(X,Y)}return dt}var si=O0(!0),L0=O0(!1),Vc=ro(null),Uc=null,ii=null,bh=null;function Sh(){bh=ii=Uc=null}function Ch(r){var i=Vc.current;Ze(Vc),r._currentValue=i}function _h(r,i,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),r===c)break;r=r.return}}function ai(r,i){Uc=r,bh=ii=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Bt=!0),r.firstContext=null)}function pn(r){var i=r._currentValue;if(bh!==r)if(r={context:r,memoizedValue:i,next:null},ii===null){if(Uc===null)throw Error(n(308));ii=r,Uc.dependencies={lanes:0,firstContext:r}}else ii=ii.next=r;return i}var Xo=null;function kh(r){Xo===null?Xo=[r]:Xo.push(r)}function $0(r,i,c,p){var x=i.interleaved;return x===null?(c.next=c,kh(i)):(c.next=x.next,x.next=c),i.interleaved=c,Cr(r,p)}function Cr(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var io=!1;function Eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function _r(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ao(r,i,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var x=p.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),p.pending=i,Cr(r,c)}return x=p.interleaved,x===null?(i.next=i,kh(p)):(i.next=x.next,x.next=i),p.interleaved=i,Cr(r,c)}function qc(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var p=i.lanes;p&=r.pendingLanes,c|=p,i.lanes=c,zf(r,c)}}function z0(r,i){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?x=S=T:S=S.next=T,c=c.next}while(c!==null);S===null?x=S=i:S=S.next=i}else x=S=i;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function Kc(r,i,c,p){var x=r.updateQueue;io=!1;var S=x.firstBaseUpdate,T=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var W=$,ee=W.next;W.next=null,T===null?S=ee:T.next=ee,T=W;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,$=ae.lastBaseUpdate,$!==T&&($===null?ae.firstBaseUpdate=ee:$.next=ee,ae.lastBaseUpdate=W))}if(S!==null){var ue=x.baseState;T=0,ae=ee=W=null,$=S;do{var ie=$.lane,ye=$.eventTime;if((p&ie)===ie){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var we=r,Ce=$;switch(ie=i,ye=c,Ce.tag){case 1:if(we=Ce.payload,typeof we=="function"){ue=we.call(ye,ue,ie);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ce.payload,ie=typeof we=="function"?we.call(ye,ue,ie):we,ie==null)break e;ue=G({},ue,ie);break e;case 2:io=!0}}$.callback!==null&&$.lane!==0&&(r.flags|=64,ie=x.effects,ie===null?x.effects=[$]:ie.push($))}else ye={eventTime:ye,lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ae===null?(ee=ae=ye,W=ue):ae=ae.next=ye,T|=ie;if($=$.next,$===null){if($=x.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);if(ae===null&&(W=ue),x.baseState=W,x.firstBaseUpdate=ee,x.lastBaseUpdate=ae,i=x.shared.interleaved,i!==null){x=i;do T|=x.lane,x=x.next;while(x!==i)}else S===null&&(x.shared.lanes=0);es|=T,r.lanes=T,r.memoizedState=ue}}function H0(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var p=r[i],x=p.callback;if(x!==null){if(p.callback=null,p=c,typeof x!="function")throw Error(n(191,x));x.call(p)}}}var za={},Yn=ro(za),Ha=ro(za),Ba=ro(za);function Jo(r){if(r===za)throw Error(n(174));return r}function Nh(r,i){switch(Qe(Ba,i),Qe(Ha,r),Qe(Yn,za),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:yr(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=yr(i,r)}Ze(Yn),Qe(Yn,i)}function li(){Ze(Yn),Ze(Ha),Ze(Ba)}function B0(r){Jo(Ba.current);var i=Jo(Yn.current),c=yr(i,r.type);i!==c&&(Qe(Ha,r),Qe(Yn,c))}function Ph(r){Ha.current===r&&(Ze(Yn),Ze(Ha))}var st=ro(0);function Gc(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Th=[];function Rh(){for(var r=0;r<Th.length;r++)Th[r]._workInProgressVersionPrimary=null;Th.length=0}var Yc=P.ReactCurrentDispatcher,jh=P.ReactCurrentBatchConfig,Zo=0,it=null,mt=null,bt=null,Qc=!1,Wa=!1,Va=0,KN=0;function Tt(){throw Error(n(321))}function Ih(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Cn(r[c],i[c]))return!1;return!0}function Ah(r,i,c,p,x,S){if(Zo=S,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Yc.current=r===null||r.memoizedState===null?XN:JN,r=c(p,x),Wa){S=0;do{if(Wa=!1,Va=0,25<=S)throw Error(n(301));S+=1,bt=mt=null,i.updateQueue=null,Yc.current=ZN,r=c(p,x)}while(Wa)}if(Yc.current=Zc,i=mt!==null&&mt.next!==null,Zo=0,bt=mt=it=null,Qc=!1,i)throw Error(n(300));return r}function Mh(){var r=Va!==0;return Va=0,r}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?it.memoizedState=bt=r:bt=bt.next=r,bt}function mn(){if(mt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=bt===null?it.memoizedState:bt.next;if(i!==null)bt=i,mt=r;else{if(r===null)throw Error(n(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?it.memoizedState=bt=r:bt=bt.next=r}return bt}function Ua(r,i){return typeof i=="function"?i(r):i}function Dh(r){var i=mn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var p=mt,x=p.baseQueue,S=c.pending;if(S!==null){if(x!==null){var T=x.next;x.next=S.next,S.next=T}p.baseQueue=x=S,c.pending=null}if(x!==null){S=x.next,p=p.baseState;var $=T=null,W=null,ee=S;do{var ae=ee.lane;if((Zo&ae)===ae)W!==null&&(W=W.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:r(p,ee.action);else{var ue={lane:ae,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};W===null?($=W=ue,T=p):W=W.next=ue,it.lanes|=ae,es|=ae}ee=ee.next}while(ee!==null&&ee!==S);W===null?T=p:W.next=$,Cn(p,i.memoizedState)||(Bt=!0),i.memoizedState=p,i.baseState=T,i.baseQueue=W,c.lastRenderedState=p}if(r=c.interleaved,r!==null){x=r;do S=x.lane,it.lanes|=S,es|=S,x=x.next;while(x!==r)}else x===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Oh(r){var i=mn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var p=c.dispatch,x=c.pending,S=i.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do S=r(S,T.action),T=T.next;while(T!==x);Cn(S,i.memoizedState)||(Bt=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),c.lastRenderedState=S}return[S,p]}function W0(){}function V0(r,i){var c=it,p=mn(),x=i(),S=!Cn(p.memoizedState,x);if(S&&(p.memoizedState=x,Bt=!0),p=p.queue,Lh(K0.bind(null,c,p,r),[r]),p.getSnapshot!==i||S||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,qa(9,q0.bind(null,c,p,x,i),void 0,null),St===null)throw Error(n(349));(Zo&30)!==0||U0(c,i,x)}return x}function U0(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function q0(r,i,c,p){i.value=c,i.getSnapshot=p,G0(i)&&Y0(r)}function K0(r,i,c){return c(function(){G0(i)&&Y0(r)})}function G0(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Cn(r,c)}catch{return!0}}function Y0(r){var i=Cr(r,1);i!==null&&Pn(i,r,1,-1)}function Q0(r){var i=Qn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},i.queue=r,r=r.dispatch=QN.bind(null,it,r),[i.memoizedState,r]}function qa(r,i,c,p){return r={tag:r,create:i,destroy:c,deps:p,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,i.lastEffect=r)),r}function X0(){return mn().memoizedState}function Xc(r,i,c,p){var x=Qn();it.flags|=r,x.memoizedState=qa(1|i,c,void 0,p===void 0?null:p)}function Jc(r,i,c,p){var x=mn();p=p===void 0?null:p;var S=void 0;if(mt!==null){var T=mt.memoizedState;if(S=T.destroy,p!==null&&Ih(p,T.deps)){x.memoizedState=qa(i,c,S,p);return}}it.flags|=r,x.memoizedState=qa(1|i,c,S,p)}function J0(r,i){return Xc(8390656,8,r,i)}function Lh(r,i){return Jc(2048,8,r,i)}function Z0(r,i){return Jc(4,2,r,i)}function ev(r,i){return Jc(4,4,r,i)}function tv(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function nv(r,i,c){return c=c!=null?c.concat([r]):null,Jc(4,4,tv.bind(null,i,r),c)}function $h(){}function rv(r,i){var c=mn();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&Ih(i,p[1])?p[0]:(c.memoizedState=[r,i],r)}function ov(r,i){var c=mn();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&Ih(i,p[1])?p[0]:(r=r(),c.memoizedState=[r,i],r)}function sv(r,i,c){return(Zo&21)===0?(r.baseState&&(r.baseState=!1,Bt=!0),r.memoizedState=c):(Cn(c,i)||(c=Us(),it.lanes|=c,es|=c,r.baseState=!0),i)}function GN(r,i){var c=Ge;Ge=c!==0&&4>c?c:4,r(!0);var p=jh.transition;jh.transition={};try{r(!1),i()}finally{Ge=c,jh.transition=p}}function iv(){return mn().memoizedState}function YN(r,i,c){var p=fo(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},av(r))lv(i,c);else if(c=$0(r,i,c,p),c!==null){var x=Mt();Pn(c,r,p,x),cv(c,i,p)}}function QN(r,i,c){var p=fo(r),x={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(av(r))lv(i,x);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var T=i.lastRenderedState,$=S(T,c);if(x.hasEagerState=!0,x.eagerState=$,Cn($,T)){var W=i.interleaved;W===null?(x.next=x,kh(i)):(x.next=W.next,W.next=x),i.interleaved=x;return}}catch{}finally{}c=$0(r,i,x,p),c!==null&&(x=Mt(),Pn(c,r,p,x),cv(c,i,p))}}function av(r){var i=r.alternate;return r===it||i!==null&&i===it}function lv(r,i){Wa=Qc=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function cv(r,i,c){if((c&4194240)!==0){var p=i.lanes;p&=r.pendingLanes,c|=p,i.lanes=c,zf(r,c)}}var Zc={readContext:pn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},XN={readContext:pn,useCallback:function(r,i){return Qn().memoizedState=[r,i===void 0?null:i],r},useContext:pn,useEffect:J0,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,Xc(4194308,4,tv.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Xc(4194308,4,r,i)},useInsertionEffect:function(r,i){return Xc(4,2,r,i)},useMemo:function(r,i){var c=Qn();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var p=Qn();return i=c!==void 0?c(i):i,p.memoizedState=p.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},p.queue=r,r=r.dispatch=YN.bind(null,it,r),[p.memoizedState,r]},useRef:function(r){var i=Qn();return r={current:r},i.memoizedState=r},useState:Q0,useDebugValue:$h,useDeferredValue:function(r){return Qn().memoizedState=r},useTransition:function(){var r=Q0(!1),i=r[0];return r=GN.bind(null,r[1]),Qn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var p=it,x=Qn();if(et){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),St===null)throw Error(n(349));(Zo&30)!==0||U0(p,i,c)}x.memoizedState=c;var S={value:c,getSnapshot:i};return x.queue=S,J0(K0.bind(null,p,S,r),[r]),p.flags|=2048,qa(9,q0.bind(null,p,S,c,i),void 0,null),c},useId:function(){var r=Qn(),i=St.identifierPrefix;if(et){var c=Sr,p=br;c=(p&~(1<<32-Xt(p)-1)).toString(32)+c,i=":"+i+"R"+c,c=Va++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=KN++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},JN={readContext:pn,useCallback:rv,useContext:pn,useEffect:Lh,useImperativeHandle:nv,useInsertionEffect:Z0,useLayoutEffect:ev,useMemo:ov,useReducer:Dh,useRef:X0,useState:function(){return Dh(Ua)},useDebugValue:$h,useDeferredValue:function(r){var i=mn();return sv(i,mt.memoizedState,r)},useTransition:function(){var r=Dh(Ua)[0],i=mn().memoizedState;return[r,i]},useMutableSource:W0,useSyncExternalStore:V0,useId:iv,unstable_isNewReconciler:!1},ZN={readContext:pn,useCallback:rv,useContext:pn,useEffect:Lh,useImperativeHandle:nv,useInsertionEffect:Z0,useLayoutEffect:ev,useMemo:ov,useReducer:Oh,useRef:X0,useState:function(){return Oh(Ua)},useDebugValue:$h,useDeferredValue:function(r){var i=mn();return mt===null?i.memoizedState=r:sv(i,mt.memoizedState,r)},useTransition:function(){var r=Oh(Ua)[0],i=mn().memoizedState;return[r,i]},useMutableSource:W0,useSyncExternalStore:V0,useId:iv,unstable_isNewReconciler:!1};function kn(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function Fh(r,i,c,p){i=r.memoizedState,c=c(p,i),c=c==null?i:G({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var eu={isMounted:function(r){return(r=r._reactInternals)?qn(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var p=Mt(),x=fo(r),S=_r(p,x);S.payload=i,c!=null&&(S.callback=c),i=ao(r,S,x),i!==null&&(Pn(i,r,x,p),qc(i,r,x))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var p=Mt(),x=fo(r),S=_r(p,x);S.tag=1,S.payload=i,c!=null&&(S.callback=c),i=ao(r,S,x),i!==null&&(Pn(i,r,x,p),qc(i,r,x))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=Mt(),p=fo(r),x=_r(c,p);x.tag=2,i!=null&&(x.callback=i),i=ao(r,x,p),i!==null&&(Pn(i,r,p,c),qc(i,r,p))}};function uv(r,i,c,p,x,S,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,T):i.prototype&&i.prototype.isPureReactComponent?!Ia(c,p)||!Ia(x,S):!0}function dv(r,i,c){var p=!1,x=oo,S=i.contextType;return typeof S=="object"&&S!==null?S=pn(S):(x=Ht(i)?Go:Pt.current,p=i.contextTypes,S=(p=p!=null)?ti(r,x):oo),i=new i(c,S),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eu,r.stateNode=i,i._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=S),i}function fv(r,i,c,p){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,p),i.state!==r&&eu.enqueueReplaceState(i,i.state,null)}function zh(r,i,c,p){var x=r.stateNode;x.props=c,x.state=r.memoizedState,x.refs={},Eh(r);var S=i.contextType;typeof S=="object"&&S!==null?x.context=pn(S):(S=Ht(i)?Go:Pt.current,x.context=ti(r,S)),x.state=r.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Fh(r,i,S,c),x.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&eu.enqueueReplaceState(x,x.state,null),Kc(r,c,x,p),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function ci(r,i){try{var c="",p=i;do c+=ce(p),p=p.return;while(p);var x=c}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:r,source:i,stack:x,digest:null}}function Hh(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function Bh(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var e2=typeof WeakMap=="function"?WeakMap:Map;function hv(r,i,c){c=_r(-1,c),c.tag=3,c.payload={element:null};var p=i.value;return c.callback=function(){au||(au=!0,rp=p),Bh(r,i)},c}function pv(r,i,c){c=_r(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var x=i.value;c.payload=function(){return p(x)},c.callback=function(){Bh(r,i)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){Bh(r,i),typeof p!="function"&&(co===null?co=new Set([this]):co.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),c}function mv(r,i,c){var p=r.pingCache;if(p===null){p=r.pingCache=new e2;var x=new Set;p.set(i,x)}else x=p.get(i),x===void 0&&(x=new Set,p.set(i,x));x.has(c)||(x.add(c),r=p2.bind(null,r,i,c),i.then(r,r))}function gv(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function yv(r,i,c,p,x){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=_r(-1,1),i.tag=2,ao(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var t2=P.ReactCurrentOwner,Bt=!1;function At(r,i,c,p){i.child=r===null?L0(i,null,c,p):si(i,r.child,c,p)}function vv(r,i,c,p,x){c=c.render;var S=i.ref;return ai(i,x),p=Ah(r,i,c,p,S,x),c=Mh(),r!==null&&!Bt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,kr(r,i,x)):(et&&c&&gh(i),i.flags|=1,At(r,i,p,x),i.child)}function xv(r,i,c,p,x){if(r===null){var S=c.type;return typeof S=="function"&&!up(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=S,wv(r,i,S,p,x)):(r=hu(c.type,null,p,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(S=r.child,(r.lanes&x)===0){var T=S.memoizedProps;if(c=c.compare,c=c!==null?c:Ia,c(T,p)&&r.ref===i.ref)return kr(r,i,x)}return i.flags|=1,r=po(S,p),r.ref=i.ref,r.return=i,i.child=r}function wv(r,i,c,p,x){if(r!==null){var S=r.memoizedProps;if(Ia(S,p)&&r.ref===i.ref)if(Bt=!1,i.pendingProps=p=S,(r.lanes&x)!==0)(r.flags&131072)!==0&&(Bt=!0);else return i.lanes=r.lanes,kr(r,i,x)}return Wh(r,i,c,p,x)}function bv(r,i,c){var p=i.pendingProps,x=p.children,S=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(di,tn),tn|=c;else{if((c&1073741824)===0)return r=S!==null?S.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Qe(di,tn),tn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:c,Qe(di,tn),tn|=p}else S!==null?(p=S.baseLanes|c,i.memoizedState=null):p=c,Qe(di,tn),tn|=p;return At(r,i,x,c),i.child}function Sv(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Wh(r,i,c,p,x){var S=Ht(c)?Go:Pt.current;return S=ti(i,S),ai(i,x),c=Ah(r,i,c,p,S,x),p=Mh(),r!==null&&!Bt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,kr(r,i,x)):(et&&p&&gh(i),i.flags|=1,At(r,i,c,x),i.child)}function Cv(r,i,c,p,x){if(Ht(c)){var S=!0;$c(i)}else S=!1;if(ai(i,x),i.stateNode===null)nu(r,i),dv(i,c,p),zh(i,c,p,x),p=!0;else if(r===null){var T=i.stateNode,$=i.memoizedProps;T.props=$;var W=T.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=pn(ee):(ee=Ht(c)?Go:Pt.current,ee=ti(i,ee));var ae=c.getDerivedStateFromProps,ue=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||($!==p||W!==ee)&&fv(i,T,p,ee),io=!1;var ie=i.memoizedState;T.state=ie,Kc(i,p,T,x),W=i.memoizedState,$!==p||ie!==W||zt.current||io?(typeof ae=="function"&&(Fh(i,c,ae,p),W=i.memoizedState),($=io||uv(i,c,$,p,ie,W,ee))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=W),T.props=p,T.state=W,T.context=ee,p=$):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{T=i.stateNode,F0(r,i),$=i.memoizedProps,ee=i.type===i.elementType?$:kn(i.type,$),T.props=ee,ue=i.pendingProps,ie=T.context,W=c.contextType,typeof W=="object"&&W!==null?W=pn(W):(W=Ht(c)?Go:Pt.current,W=ti(i,W));var ye=c.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||($!==ue||ie!==W)&&fv(i,T,p,W),io=!1,ie=i.memoizedState,T.state=ie,Kc(i,p,T,x);var we=i.memoizedState;$!==ue||ie!==we||zt.current||io?(typeof ye=="function"&&(Fh(i,c,ye,p),we=i.memoizedState),(ee=io||uv(i,c,ee,p,ie,we,W)||!1)?(ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,we,W),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,we,W)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||$===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=we),T.props=p,T.state=we,T.context=W,p=ee):(typeof T.componentDidUpdate!="function"||$===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),p=!1)}return Vh(r,i,c,p,S,x)}function Vh(r,i,c,p,x,S){Sv(r,i);var T=(i.flags&128)!==0;if(!p&&!T)return x&&P0(i,c,!1),kr(r,i,S);p=i.stateNode,t2.current=i;var $=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,r!==null&&T?(i.child=si(i,r.child,null,S),i.child=si(i,null,$,S)):At(r,i,$,S),i.memoizedState=p.state,x&&P0(i,c,!0),i.child}function _v(r){var i=r.stateNode;i.pendingContext?E0(r,i.pendingContext,i.pendingContext!==i.context):i.context&&E0(r,i.context,!1),Nh(r,i.containerInfo)}function kv(r,i,c,p,x){return oi(),wh(x),i.flags|=256,At(r,i,c,p),i.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ev(r,i,c){var p=i.pendingProps,x=st.current,S=!1,T=(i.flags&128)!==0,$;if(($=T)||($=r!==null&&r.memoizedState===null?!1:(x&2)!==0),$?(S=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),Qe(st,x&1),r===null)return xh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=p.children,r=p.fallback,S?(p=i.mode,S=i.child,T={mode:"hidden",children:T},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=T):S=pu(T,p,0,null),r=os(r,p,c,null),S.return=i,r.return=i,S.sibling=r,i.child=S,i.child.memoizedState=qh(c),i.memoizedState=Uh,r):Kh(i,T));if(x=r.memoizedState,x!==null&&($=x.dehydrated,$!==null))return n2(r,i,T,p,$,x,c);if(S){S=p.fallback,T=i.mode,x=r.child,$=x.sibling;var W={mode:"hidden",children:p.children};return(T&1)===0&&i.child!==x?(p=i.child,p.childLanes=0,p.pendingProps=W,i.deletions=null):(p=po(x,W),p.subtreeFlags=x.subtreeFlags&14680064),$!==null?S=po($,S):(S=os(S,T,c,null),S.flags|=2),S.return=i,p.return=i,p.sibling=S,i.child=p,p=S,S=i.child,T=r.child.memoizedState,T=T===null?qh(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},S.memoizedState=T,S.childLanes=r.childLanes&~c,i.memoizedState=Uh,p}return S=r.child,r=S.sibling,p=po(S,{mode:"visible",children:p.children}),(i.mode&1)===0&&(p.lanes=c),p.return=i,p.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=p,i.memoizedState=null,p}function Kh(r,i){return i=pu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function tu(r,i,c,p){return p!==null&&wh(p),si(i,r.child,null,c),r=Kh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function n2(r,i,c,p,x,S,T){if(c)return i.flags&256?(i.flags&=-257,p=Hh(Error(n(422))),tu(r,i,T,p)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(S=p.fallback,x=i.mode,p=pu({mode:"visible",children:p.children},x,0,null),S=os(S,x,T,null),S.flags|=2,p.return=i,S.return=i,p.sibling=S,i.child=p,(i.mode&1)!==0&&si(i,r.child,null,T),i.child.memoizedState=qh(T),i.memoizedState=Uh,S);if((i.mode&1)===0)return tu(r,i,T,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var $=p.dgst;return p=$,S=Error(n(419)),p=Hh(S,p,void 0),tu(r,i,T,p)}if($=(T&r.childLanes)!==0,Bt||$){if(p=St,p!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|T))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Cr(r,x),Pn(p,r,x,-1))}return cp(),p=Hh(Error(n(421))),tu(r,i,T,p)}return x.data==="$?"?(i.flags|=128,i.child=r.child,i=m2.bind(null,r),x._reactRetry=i,null):(r=S.treeContext,en=no(x.nextSibling),Zt=i,et=!0,_n=null,r!==null&&(fn[hn++]=br,fn[hn++]=Sr,fn[hn++]=Yo,br=r.id,Sr=r.overflow,Yo=i),i=Kh(i,p.children),i.flags|=4096,i)}function Nv(r,i,c){r.lanes|=i;var p=r.alternate;p!==null&&(p.lanes|=i),_h(r.return,i,c)}function Gh(r,i,c,p,x){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=c,S.tailMode=x)}function Pv(r,i,c){var p=i.pendingProps,x=p.revealOrder,S=p.tail;if(At(r,i,p.children,c),p=st.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nv(r,c,i);else if(r.tag===19)Nv(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Qe(st,p),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&Gc(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),Gh(i,!1,x,c,S);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Gc(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}Gh(i,!0,c,null,S);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function kr(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),es|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=po(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=po(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function r2(r,i,c){switch(i.tag){case 3:_v(i),oi();break;case 5:B0(i);break;case 1:Ht(i.type)&&$c(i);break;case 4:Nh(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,x=i.memoizedProps.value;Qe(Vc,p._currentValue),p._currentValue=x;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(Qe(st,st.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Ev(r,i,c):(Qe(st,st.current&1),r=kr(r,i,c),r!==null?r.sibling:null);Qe(st,st.current&1);break;case 19:if(p=(c&i.childLanes)!==0,(r.flags&128)!==0){if(p)return Pv(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Qe(st,st.current),p)break;return null;case 22:case 23:return i.lanes=0,bv(r,i,c)}return kr(r,i,c)}var Tv,Yh,Rv,jv;Tv=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Yh=function(){},Rv=function(r,i,c,p){var x=r.memoizedProps;if(x!==p){r=i.stateNode,Jo(Yn.current);var S=null;switch(c){case"input":x=Ie(r,x),p=Ie(r,p),S=[];break;case"select":x=G({},x,{value:void 0}),p=G({},p,{value:void 0}),S=[];break;case"textarea":x=mr(r,x),p=mr(r,p),S=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Dc)}ca(c,p);var T;c=null;for(ee in x)if(!p.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var $=x[ee];for(T in $)$.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?S||(S=[]):(S=S||[]).push(ee,null));for(ee in p){var W=p[ee];if($=x!=null?x[ee]:void 0,p.hasOwnProperty(ee)&&W!==$&&(W!=null||$!=null))if(ee==="style")if($){for(T in $)!$.hasOwnProperty(T)||W&&W.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in W)W.hasOwnProperty(T)&&$[T]!==W[T]&&(c||(c={}),c[T]=W[T])}else c||(S||(S=[]),S.push(ee,c)),c=W;else ee==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,$=$?$.__html:void 0,W!=null&&$!==W&&(S=S||[]).push(ee,W)):ee==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(ee,""+W):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(W!=null&&ee==="onScroll"&&Je("scroll",r),S||$===W||(S=[])):(S=S||[]).push(ee,W))}c&&(S=S||[]).push("style",c);var ee=S;(i.updateQueue=ee)&&(i.flags|=4)}},jv=function(r,i,c,p){c!==p&&(i.flags|=4)};function Ka(r,i){if(!et)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Rt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=p,r.childLanes=c,i}function o2(r,i,c){var p=i.pendingProps;switch(yh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Ht(i.type)&&Lc(),Rt(i),null;case 3:return p=i.stateNode,li(),Ze(zt),Ze(Pt),Rh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Bc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_n!==null&&(ip(_n),_n=null))),Yh(r,i),Rt(i),null;case 5:Ph(i);var x=Jo(Ba.current);if(c=i.type,r!==null&&i.stateNode!=null)Rv(r,i,c,p,x),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(n(166));return Rt(i),null}if(r=Jo(Yn.current),Bc(i)){p=i.stateNode,c=i.type;var S=i.memoizedProps;switch(p[Gn]=i,p[La]=S,r=(i.mode&1)!==0,c){case"dialog":Je("cancel",p),Je("close",p);break;case"iframe":case"object":case"embed":Je("load",p);break;case"video":case"audio":for(x=0;x<Ma.length;x++)Je(Ma[x],p);break;case"source":Je("error",p);break;case"img":case"image":case"link":Je("error",p),Je("load",p);break;case"details":Je("toggle",p);break;case"input":He(p,S),Je("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},Je("invalid",p);break;case"textarea":Kr(p,S),Je("invalid",p)}ca(c,S),x=null;for(var T in S)if(S.hasOwnProperty(T)){var $=S[T];T==="children"?typeof $=="string"?p.textContent!==$&&(S.suppressHydrationWarning!==!0&&Mc(p.textContent,$,r),x=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&Mc(p.textContent,$,r),x=["children",""+$]):s.hasOwnProperty(T)&&$!=null&&T==="onScroll"&&Je("scroll",p)}switch(c){case"input":me(p),Yt(p,S,!0);break;case"textarea":me(p),Fo(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=Dc)}p=x,i.updateQueue=p,p!==null&&(i.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gr(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=T.createElement(c,{is:p.is}):(r=T.createElement(c),c==="select"&&(T=r,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):r=T.createElementNS(r,c),r[Gn]=i,r[La]=p,Tv(r,i,!1,!1),i.stateNode=r;e:{switch(T=ua(c,p),c){case"dialog":Je("cancel",r),Je("close",r),x=p;break;case"iframe":case"object":case"embed":Je("load",r),x=p;break;case"video":case"audio":for(x=0;x<Ma.length;x++)Je(Ma[x],r);x=p;break;case"source":Je("error",r),x=p;break;case"img":case"image":case"link":Je("error",r),Je("load",r),x=p;break;case"details":Je("toggle",r),x=p;break;case"input":He(r,p),x=Ie(r,p),Je("invalid",r);break;case"option":x=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},x=G({},p,{value:void 0}),Je("invalid",r);break;case"textarea":Kr(r,p),x=mr(r,p),Je("invalid",r);break;default:x=p}ca(c,x),$=x;for(S in $)if($.hasOwnProperty(S)){var W=$[S];S==="style"?sc(r,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&rc(r,W)):S==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&vr(r,W):typeof W=="number"&&vr(r,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?W!=null&&S==="onScroll"&&Je("scroll",r):W!=null&&_(r,S,W,T))}switch(c){case"input":me(r),Yt(r,p,!1);break;case"textarea":me(r),Fo(r);break;case"option":p.value!=null&&r.setAttribute("value",""+ne(p.value));break;case"select":r.multiple=!!p.multiple,S=p.value,S!=null?un(r,!!p.multiple,S,!1):p.defaultValue!=null&&un(r,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=Dc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Rt(i),null;case 6:if(r&&i.stateNode!=null)jv(r,i,r.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(n(166));if(c=Jo(Ba.current),Jo(Yn.current),Bc(i)){if(p=i.stateNode,c=i.memoizedProps,p[Gn]=i,(S=p.nodeValue!==c)&&(r=Zt,r!==null))switch(r.tag){case 3:Mc(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Mc(p.nodeValue,c,(r.mode&1)!==0)}S&&(i.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Gn]=i,i.stateNode=p}return Rt(i),null;case 13:if(Ze(st),p=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&en!==null&&(i.mode&1)!==0&&(i.flags&128)===0)M0(),oi(),i.flags|=98560,S=!1;else if(S=Bc(i),p!==null&&p.dehydrated!==null){if(r===null){if(!S)throw Error(n(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Gn]=i}else oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),S=!1}else _n!==null&&(ip(_n),_n=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(st.current&1)!==0?gt===0&&(gt=3):cp())),i.updateQueue!==null&&(i.flags|=4),Rt(i),null);case 4:return li(),Yh(r,i),r===null&&Da(i.stateNode.containerInfo),Rt(i),null;case 10:return Ch(i.type._context),Rt(i),null;case 17:return Ht(i.type)&&Lc(),Rt(i),null;case 19:if(Ze(st),S=i.memoizedState,S===null)return Rt(i),null;if(p=(i.flags&128)!==0,T=S.rendering,T===null)if(p)Ka(S,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(T=Gc(r),T!==null){for(i.flags|=128,Ka(S,!1),p=T.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=c,c=i.child;c!==null;)S=c,r=p,S.flags&=14680066,T=S.alternate,T===null?(S.childLanes=0,S.lanes=r,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=T.childLanes,S.lanes=T.lanes,S.child=T.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=T.memoizedProps,S.memoizedState=T.memoizedState,S.updateQueue=T.updateQueue,S.type=T.type,r=T.dependencies,S.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Qe(st,st.current&1|2),i.child}r=r.sibling}S.tail!==null&&ot()>fi&&(i.flags|=128,p=!0,Ka(S,!1),i.lanes=4194304)}else{if(!p)if(r=Gc(T),r!==null){if(i.flags|=128,p=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Ka(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!et)return Rt(i),null}else 2*ot()-S.renderingStartTime>fi&&c!==1073741824&&(i.flags|=128,p=!0,Ka(S,!1),i.lanes=4194304);S.isBackwards?(T.sibling=i.child,i.child=T):(c=S.last,c!==null?c.sibling=T:i.child=T,S.last=T)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=ot(),i.sibling=null,c=st.current,Qe(st,p?c&1|2:c&1),i):(Rt(i),null);case 22:case 23:return lp(),p=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(i.flags|=8192),p&&(i.mode&1)!==0?(tn&1073741824)!==0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function s2(r,i){switch(yh(i),i.tag){case 1:return Ht(i.type)&&Lc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return li(),Ze(zt),Ze(Pt),Rh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Ph(i),null;case 13:if(Ze(st),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));oi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ze(st),null;case 4:return li(),null;case 10:return Ch(i.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var ru=!1,jt=!1,i2=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ui(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ct(r,i,p)}else c.current=null}function Qh(r,i,c){try{c()}catch(p){ct(r,i,p)}}var Iv=!1;function a2(r,i){if(lh=Cc,r=u0(),eh(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var T=0,$=-1,W=-1,ee=0,ae=0,ue=r,ie=null;t:for(;;){for(var ye;ue!==c||x!==0&&ue.nodeType!==3||($=T+x),ue!==S||p!==0&&ue.nodeType!==3||(W=T+p),ue.nodeType===3&&(T+=ue.nodeValue.length),(ye=ue.firstChild)!==null;)ie=ue,ue=ye;for(;;){if(ue===r)break t;if(ie===c&&++ee===x&&($=T),ie===S&&++ae===p&&(W=T),(ye=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=ye}c=$===-1||W===-1?null:{start:$,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(ch={focusedElem:r,selectionRange:c},Cc=!1,xe=i;xe!==null;)if(i=xe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,xe=r;else for(;xe!==null;){i=xe;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ce=we.memoizedProps,dt=we.memoizedState,X=i.stateNode,Y=X.getSnapshotBeforeUpdate(i.elementType===i.type?Ce:kn(i.type,Ce),dt);X.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var Z=i.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){ct(i,i.return,fe)}if(r=i.sibling,r!==null){r.return=i.return,xe=r;break}xe=i.return}return we=Iv,Iv=!1,we}function Ga(r,i,c){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&r)===r){var S=x.destroy;x.destroy=void 0,S!==void 0&&Qh(i,c,S)}x=x.next}while(x!==p)}}function ou(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==i)}}function Xh(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function Av(r){var i=r.alternate;i!==null&&(r.alternate=null,Av(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Gn],delete i[La],delete i[hh],delete i[WN],delete i[VN])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Mv(r){return r.tag===5||r.tag===3||r.tag===4}function Dv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jh(r,i,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Dc));else if(p!==4&&(r=r.child,r!==null))for(Jh(r,i,c),r=r.sibling;r!==null;)Jh(r,i,c),r=r.sibling}function Zh(r,i,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Zh(r,i,c),r=r.sibling;r!==null;)Zh(r,i,c),r=r.sibling}var Et=null,En=!1;function lo(r,i,c){for(c=c.child;c!==null;)Ov(r,i,c),c=c.sibling}function Ov(r,i,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Uo,c)}catch{}switch(c.tag){case 5:jt||ui(c,i);case 6:var p=Et,x=En;Et=null,lo(r,i,c),Et=p,En=x,Et!==null&&(En?(r=Et,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Et.removeChild(c.stateNode));break;case 18:Et!==null&&(En?(r=Et,c=c.stateNode,r.nodeType===8?fh(r.parentNode,c):r.nodeType===1&&fh(r,c),Ea(r)):fh(Et,c.stateNode));break;case 4:p=Et,x=En,Et=c.stateNode.containerInfo,En=!0,lo(r,i,c),Et=p,En=x;break;case 0:case 11:case 14:case 15:if(!jt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var S=x,T=S.destroy;S=S.tag,T!==void 0&&((S&2)!==0||(S&4)!==0)&&Qh(c,i,T),x=x.next}while(x!==p)}lo(r,i,c);break;case 1:if(!jt&&(ui(c,i),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){ct(c,i,$)}lo(r,i,c);break;case 21:lo(r,i,c);break;case 22:c.mode&1?(jt=(p=jt)||c.memoizedState!==null,lo(r,i,c),jt=p):lo(r,i,c);break;default:lo(r,i,c)}}function Lv(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new i2),i.forEach(function(p){var x=g2.bind(null,r,p);c.has(p)||(c.add(p),p.then(x,x))})}}function Nn(r,i){var c=i.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];try{var S=r,T=i,$=T;e:for(;$!==null;){switch($.tag){case 5:Et=$.stateNode,En=!1;break e;case 3:Et=$.stateNode.containerInfo,En=!0;break e;case 4:Et=$.stateNode.containerInfo,En=!0;break e}$=$.return}if(Et===null)throw Error(n(160));Ov(S,T,x),Et=null,En=!1;var W=x.alternate;W!==null&&(W.return=null),x.return=null}catch(ee){ct(x,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$v(i,r),i=i.sibling}function $v(r,i){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Nn(i,r),Xn(r),p&4){try{Ga(3,r,r.return),ou(3,r)}catch(Ce){ct(r,r.return,Ce)}try{Ga(5,r,r.return)}catch(Ce){ct(r,r.return,Ce)}}break;case 1:Nn(i,r),Xn(r),p&512&&c!==null&&ui(c,c.return);break;case 5:if(Nn(i,r),Xn(r),p&512&&c!==null&&ui(c,c.return),r.flags&32){var x=r.stateNode;try{vr(x,"")}catch(Ce){ct(r,r.return,Ce)}}if(p&4&&(x=r.stateNode,x!=null)){var S=r.memoizedProps,T=c!==null?c.memoizedProps:S,$=r.type,W=r.updateQueue;if(r.updateQueue=null,W!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&Oe(x,S),ua($,T);var ee=ua($,S);for(T=0;T<W.length;T+=2){var ae=W[T],ue=W[T+1];ae==="style"?sc(x,ue):ae==="dangerouslySetInnerHTML"?rc(x,ue):ae==="children"?vr(x,ue):_(x,ae,ue,ee)}switch($){case"input":Ye(x,S);break;case"textarea":$s(x,S);break;case"select":var ie=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ye=S.value;ye!=null?un(x,!!S.multiple,ye,!1):ie!==!!S.multiple&&(S.defaultValue!=null?un(x,!!S.multiple,S.defaultValue,!0):un(x,!!S.multiple,S.multiple?[]:"",!1))}x[La]=S}catch(Ce){ct(r,r.return,Ce)}}break;case 6:if(Nn(i,r),Xn(r),p&4){if(r.stateNode===null)throw Error(n(162));x=r.stateNode,S=r.memoizedProps;try{x.nodeValue=S}catch(Ce){ct(r,r.return,Ce)}}break;case 3:if(Nn(i,r),Xn(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ea(i.containerInfo)}catch(Ce){ct(r,r.return,Ce)}break;case 4:Nn(i,r),Xn(r);break;case 13:Nn(i,r),Xn(r),x=r.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(np=ot())),p&4&&Lv(r);break;case 22:if(ae=c!==null&&c.memoizedState!==null,r.mode&1?(jt=(ee=jt)||ae,Nn(i,r),jt=ee):Nn(i,r),Xn(r),p&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!ae&&(r.mode&1)!==0)for(xe=r,ae=r.child;ae!==null;){for(ue=xe=ae;xe!==null;){switch(ie=xe,ye=ie.child,ie.tag){case 0:case 11:case 14:case 15:Ga(4,ie,ie.return);break;case 1:ui(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){p=ie,c=ie.return;try{i=p,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Ce){ct(p,c,Ce)}}break;case 5:ui(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Hv(ue);continue}}ye!==null?(ye.return=ie,xe=ye):Hv(ue)}ae=ae.sibling}e:for(ae=null,ue=r;;){if(ue.tag===5){if(ae===null){ae=ue;try{x=ue.stateNode,ee?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=ue.stateNode,W=ue.memoizedProps.style,T=W!=null&&W.hasOwnProperty("display")?W.display:null,$.style.display=oc("display",T))}catch(Ce){ct(r,r.return,Ce)}}}else if(ue.tag===6){if(ae===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Ce){ct(r,r.return,Ce)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===r)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===r)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===r)break e;ae===ue&&(ae=null),ue=ue.return}ae===ue&&(ae=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Nn(i,r),Xn(r),p&4&&Lv(r);break;case 21:break;default:Nn(i,r),Xn(r)}}function Xn(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(Mv(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(vr(x,""),p.flags&=-33);var S=Dv(r);Zh(r,S,x);break;case 3:case 4:var T=p.stateNode.containerInfo,$=Dv(r);Jh(r,$,T);break;default:throw Error(n(161))}}catch(W){ct(r,r.return,W)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function l2(r,i,c){xe=r,Fv(r)}function Fv(r,i,c){for(var p=(r.mode&1)!==0;xe!==null;){var x=xe,S=x.child;if(x.tag===22&&p){var T=x.memoizedState!==null||ru;if(!T){var $=x.alternate,W=$!==null&&$.memoizedState!==null||jt;$=ru;var ee=jt;if(ru=T,(jt=W)&&!ee)for(xe=x;xe!==null;)T=xe,W=T.child,T.tag===22&&T.memoizedState!==null?Bv(x):W!==null?(W.return=T,xe=W):Bv(x);for(;S!==null;)xe=S,Fv(S),S=S.sibling;xe=x,ru=$,jt=ee}zv(r)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,xe=S):zv(r)}}function zv(r){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:jt||ou(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!jt)if(c===null)p.componentDidMount();else{var x=i.elementType===i.type?c.memoizedProps:kn(i.type,c.memoizedProps);p.componentDidUpdate(x,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&H0(i,S,p);break;case 3:var T=i.updateQueue;if(T!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}H0(i,T,c)}break;case 5:var $=i.stateNode;if(c===null&&i.flags&4){c=$;var W=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var ae=ee.memoizedState;if(ae!==null){var ue=ae.dehydrated;ue!==null&&Ea(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||i.flags&512&&Xh(i)}catch(ie){ct(i,i.return,ie)}}if(i===r){xe=null;break}if(c=i.sibling,c!==null){c.return=i.return,xe=c;break}xe=i.return}}function Hv(r){for(;xe!==null;){var i=xe;if(i===r){xe=null;break}var c=i.sibling;if(c!==null){c.return=i.return,xe=c;break}xe=i.return}}function Bv(r){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{ou(4,i)}catch(W){ct(i,c,W)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var x=i.return;try{p.componentDidMount()}catch(W){ct(i,x,W)}}var S=i.return;try{Xh(i)}catch(W){ct(i,S,W)}break;case 5:var T=i.return;try{Xh(i)}catch(W){ct(i,T,W)}}}catch(W){ct(i,i.return,W)}if(i===r){xe=null;break}var $=i.sibling;if($!==null){$.return=i.return,xe=$;break}xe=i.return}}var c2=Math.ceil,su=P.ReactCurrentDispatcher,ep=P.ReactCurrentOwner,gn=P.ReactCurrentBatchConfig,We=0,St=null,ft=null,Nt=0,tn=0,di=ro(0),gt=0,Ya=null,es=0,iu=0,tp=0,Qa=null,Wt=null,np=0,fi=1/0,Er=null,au=!1,rp=null,co=null,lu=!1,uo=null,cu=0,Xa=0,op=null,uu=-1,du=0;function Mt(){return(We&6)!==0?ot():uu!==-1?uu:uu=ot()}function fo(r){return(r.mode&1)===0?1:(We&2)!==0&&Nt!==0?Nt&-Nt:qN.transition!==null?(du===0&&(du=Us()),du):(r=Ge,r!==0||(r=window.event,r=r===void 0?16:Vy(r.type)),r)}function Pn(r,i,c,p){if(50<Xa)throw Xa=0,op=null,Error(n(185));qo(r,c,p),((We&2)===0||r!==St)&&(r===St&&((We&2)===0&&(iu|=c),gt===4&&ho(r,Nt)),Vt(r,p),c===1&&We===0&&(i.mode&1)===0&&(fi=ot()+500,Fc&&so()))}function Vt(r,i){var c=r.callbackNode;Ff(r,i);var p=Vs(r,r===St?Nt:0);if(p===0)c!==null&&mc(c),r.callbackNode=null,r.callbackPriority=0;else if(i=p&-p,r.callbackPriority!==i){if(c!=null&&mc(c),i===1)r.tag===0?UN(Vv.bind(null,r)):T0(Vv.bind(null,r)),HN(function(){(We&6)===0&&so()}),c=null;else{switch(Oy(p)){case 1:c=xa;break;case 4:c=yc;break;case 16:c=Hs;break;case 536870912:c=vc;break;default:c=Hs}c=Jv(c,Wv.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function Wv(r,i){if(uu=-1,du=0,(We&6)!==0)throw Error(n(327));var c=r.callbackNode;if(hi()&&r.callbackNode!==c)return null;var p=Vs(r,r===St?Nt:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||i)i=fu(r,p);else{i=p;var x=We;We|=2;var S=qv();(St!==r||Nt!==i)&&(Er=null,fi=ot()+500,ns(r,i));do try{f2();break}catch($){Uv(r,$)}while(!0);Sh(),su.current=S,We=x,ft!==null?i=0:(St=null,Nt=0,i=gt)}if(i!==0){if(i===2&&(x=wa(r),x!==0&&(p=x,i=sp(r,x))),i===1)throw c=Ya,ns(r,0),ho(r,p),Vt(r,ot()),c;if(i===6)ho(r,p);else{if(x=r.current.alternate,(p&30)===0&&!u2(x)&&(i=fu(r,p),i===2&&(S=wa(r),S!==0&&(p=S,i=sp(r,S))),i===1))throw c=Ya,ns(r,0),ho(r,p),Vt(r,ot()),c;switch(r.finishedWork=x,r.finishedLanes=p,i){case 0:case 1:throw Error(n(345));case 2:rs(r,Wt,Er);break;case 3:if(ho(r,p),(p&130023424)===p&&(i=np+500-ot(),10<i)){if(Vs(r,0)!==0)break;if(x=r.suspendedLanes,(x&p)!==p){Mt(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=dh(rs.bind(null,r,Wt,Er),i);break}rs(r,Wt,Er);break;case 4:if(ho(r,p),(p&4194240)===p)break;for(i=r.eventTimes,x=-1;0<p;){var T=31-Xt(p);S=1<<T,T=i[T],T>x&&(x=T),p&=~S}if(p=x,p=ot()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*c2(p/1960))-p,10<p){r.timeoutHandle=dh(rs.bind(null,r,Wt,Er),p);break}rs(r,Wt,Er);break;case 5:rs(r,Wt,Er);break;default:throw Error(n(329))}}}return Vt(r,ot()),r.callbackNode===c?Wv.bind(null,r):null}function sp(r,i){var c=Qa;return r.current.memoizedState.isDehydrated&&(ns(r,i).flags|=256),r=fu(r,i),r!==2&&(i=Wt,Wt=c,i!==null&&ip(i)),r}function ip(r){Wt===null?Wt=r:Wt.push.apply(Wt,r)}function u2(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var x=c[p],S=x.getSnapshot;x=x.value;try{if(!Cn(S(),x))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ho(r,i){for(i&=~tp,i&=~iu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-Xt(i),p=1<<c;r[c]=-1,i&=~p}}function Vv(r){if((We&6)!==0)throw Error(n(327));hi();var i=Vs(r,0);if((i&1)===0)return Vt(r,ot()),null;var c=fu(r,i);if(r.tag!==0&&c===2){var p=wa(r);p!==0&&(i=p,c=sp(r,p))}if(c===1)throw c=Ya,ns(r,0),ho(r,i),Vt(r,ot()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,rs(r,Wt,Er),Vt(r,ot()),null}function ap(r,i){var c=We;We|=1;try{return r(i)}finally{We=c,We===0&&(fi=ot()+500,Fc&&so())}}function ts(r){uo!==null&&uo.tag===0&&(We&6)===0&&hi();var i=We;We|=1;var c=gn.transition,p=Ge;try{if(gn.transition=null,Ge=1,r)return r()}finally{Ge=p,gn.transition=c,We=i,(We&6)===0&&so()}}function lp(){tn=di.current,Ze(di)}function ns(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,zN(c)),ft!==null)for(c=ft.return;c!==null;){var p=c;switch(yh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Lc();break;case 3:li(),Ze(zt),Ze(Pt),Rh();break;case 5:Ph(p);break;case 4:li();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Ch(p.type._context);break;case 22:case 23:lp()}c=c.return}if(St=r,ft=r=po(r.current,null),Nt=tn=i,gt=0,Ya=null,tp=iu=es=0,Wt=Qa=null,Xo!==null){for(i=0;i<Xo.length;i++)if(c=Xo[i],p=c.interleaved,p!==null){c.interleaved=null;var x=p.next,S=c.pending;if(S!==null){var T=S.next;S.next=x,p.next=T}c.pending=p}Xo=null}return r}function Uv(r,i){do{var c=ft;try{if(Sh(),Yc.current=Zc,Qc){for(var p=it.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Qc=!1}if(Zo=0,bt=mt=it=null,Wa=!1,Va=0,ep.current=null,c===null||c.return===null){gt=1,Ya=i,ft=null;break}e:{var S=r,T=c.return,$=c,W=i;if(i=Nt,$.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ee=W,ae=$,ue=ae.tag;if((ae.mode&1)===0&&(ue===0||ue===11||ue===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=gv(T);if(ye!==null){ye.flags&=-257,yv(ye,T,$,S,i),ye.mode&1&&mv(S,ee,i),i=ye,W=ee;var we=i.updateQueue;if(we===null){var Ce=new Set;Ce.add(W),i.updateQueue=Ce}else we.add(W);break e}else{if((i&1)===0){mv(S,ee,i),cp();break e}W=Error(n(426))}}else if(et&&$.mode&1){var dt=gv(T);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),yv(dt,T,$,S,i),wh(ci(W,$));break e}}S=W=ci(W,$),gt!==4&&(gt=2),Qa===null?Qa=[S]:Qa.push(S),S=T;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var X=hv(S,W,i);z0(S,X);break e;case 1:$=W;var Y=S.type,Z=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(co===null||!co.has(Z)))){S.flags|=65536,i&=-i,S.lanes|=i;var fe=pv(S,$,i);z0(S,fe);break e}}S=S.return}while(S!==null)}Gv(c)}catch(ke){i=ke,ft===c&&c!==null&&(ft=c=c.return);continue}break}while(!0)}function qv(){var r=su.current;return su.current=Zc,r===null?Zc:r}function cp(){(gt===0||gt===3||gt===2)&&(gt=4),St===null||(es&268435455)===0&&(iu&268435455)===0||ho(St,Nt)}function fu(r,i){var c=We;We|=2;var p=qv();(St!==r||Nt!==i)&&(Er=null,ns(r,i));do try{d2();break}catch(x){Uv(r,x)}while(!0);if(Sh(),We=c,su.current=p,ft!==null)throw Error(n(261));return St=null,Nt=0,gt}function d2(){for(;ft!==null;)Kv(ft)}function f2(){for(;ft!==null&&!If();)Kv(ft)}function Kv(r){var i=Xv(r.alternate,r,tn);r.memoizedProps=r.pendingProps,i===null?Gv(r):ft=i,ep.current=null}function Gv(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=o2(c,i,tn),c!==null){ft=c;return}}else{if(c=s2(c,i),c!==null){c.flags&=32767,ft=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,ft=null;return}}if(i=i.sibling,i!==null){ft=i;return}ft=i=r}while(i!==null);gt===0&&(gt=5)}function rs(r,i,c){var p=Ge,x=gn.transition;try{gn.transition=null,Ge=1,h2(r,i,c,p)}finally{gn.transition=x,Ge=p}return null}function h2(r,i,c,p){do hi();while(uo!==null);if((We&6)!==0)throw Error(n(327));c=r.finishedWork;var x=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var S=c.lanes|c.childLanes;if(wc(r,S),r===St&&(ft=St=null,Nt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||lu||(lu=!0,Jv(Hs,function(){return hi(),null})),S=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||S){S=gn.transition,gn.transition=null;var T=Ge;Ge=1;var $=We;We|=4,ep.current=null,a2(r,c),$v(c,r),AN(ch),Cc=!!lh,ch=lh=null,r.current=c,l2(c),gc(),We=$,Ge=T,gn.transition=S}else r.current=c;if(lu&&(lu=!1,uo=r,cu=x),S=r.pendingLanes,S===0&&(co=null),Df(c.stateNode),Vt(r,ot()),i!==null)for(p=r.onRecoverableError,c=0;c<i.length;c++)x=i[c],p(x.value,{componentStack:x.stack,digest:x.digest});if(au)throw au=!1,r=rp,rp=null,r;return(cu&1)!==0&&r.tag!==0&&hi(),S=r.pendingLanes,(S&1)!==0?r===op?Xa++:(Xa=0,op=r):Xa=0,so(),null}function hi(){if(uo!==null){var r=Oy(cu),i=gn.transition,c=Ge;try{if(gn.transition=null,Ge=16>r?16:r,uo===null)var p=!1;else{if(r=uo,uo=null,cu=0,(We&6)!==0)throw Error(n(331));var x=We;for(We|=4,xe=r.current;xe!==null;){var S=xe,T=S.child;if((xe.flags&16)!==0){var $=S.deletions;if($!==null){for(var W=0;W<$.length;W++){var ee=$[W];for(xe=ee;xe!==null;){var ae=xe;switch(ae.tag){case 0:case 11:case 15:Ga(8,ae,S)}var ue=ae.child;if(ue!==null)ue.return=ae,xe=ue;else for(;xe!==null;){ae=xe;var ie=ae.sibling,ye=ae.return;if(Av(ae),ae===ee){xe=null;break}if(ie!==null){ie.return=ye,xe=ie;break}xe=ye}}}var we=S.alternate;if(we!==null){var Ce=we.child;if(Ce!==null){we.child=null;do{var dt=Ce.sibling;Ce.sibling=null,Ce=dt}while(Ce!==null)}}xe=S}}if((S.subtreeFlags&2064)!==0&&T!==null)T.return=S,xe=T;else e:for(;xe!==null;){if(S=xe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ga(9,S,S.return)}var X=S.sibling;if(X!==null){X.return=S.return,xe=X;break e}xe=S.return}}var Y=r.current;for(xe=Y;xe!==null;){T=xe;var Z=T.child;if((T.subtreeFlags&2064)!==0&&Z!==null)Z.return=T,xe=Z;else e:for(T=Y;xe!==null;){if($=xe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:ou(9,$)}}catch(ke){ct($,$.return,ke)}if($===T){xe=null;break e}var fe=$.sibling;if(fe!==null){fe.return=$.return,xe=fe;break e}xe=$.return}}if(We=x,so(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Uo,r)}catch{}p=!0}return p}finally{Ge=c,gn.transition=i}}return!1}function Yv(r,i,c){i=ci(c,i),i=hv(r,i,1),r=ao(r,i,1),i=Mt(),r!==null&&(qo(r,1,i),Vt(r,i))}function ct(r,i,c){if(r.tag===3)Yv(r,r,c);else for(;i!==null;){if(i.tag===3){Yv(i,r,c);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(co===null||!co.has(p))){r=ci(c,r),r=pv(i,r,1),i=ao(i,r,1),r=Mt(),i!==null&&(qo(i,1,r),Vt(i,r));break}}i=i.return}}function p2(r,i,c){var p=r.pingCache;p!==null&&p.delete(i),i=Mt(),r.pingedLanes|=r.suspendedLanes&c,St===r&&(Nt&c)===c&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>ot()-np?ns(r,0):tp|=c),Vt(r,i)}function Qv(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var c=Mt();r=Cr(r,i),r!==null&&(qo(r,i,c),Vt(r,c))}function m2(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),Qv(r,c)}function g2(r,i){var c=0;switch(r.tag){case 13:var p=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(i),Qv(r,c)}var Xv;Xv=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||zt.current)Bt=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return Bt=!1,r2(r,i,c);Bt=(r.flags&131072)!==0}else Bt=!1,et&&(i.flags&1048576)!==0&&R0(i,Hc,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;nu(r,i),r=i.pendingProps;var x=ti(i,Pt.current);ai(i,c),x=Ah(null,i,p,r,x,c);var S=Mh();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ht(p)?(S=!0,$c(i)):S=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Eh(i),x.updater=eu,i.stateNode=x,x._reactInternals=i,zh(i,p,r,c),i=Vh(null,i,p,!0,S,c)):(i.tag=0,et&&S&&gh(i),At(null,i,x,c),i=i.child),i;case 16:p=i.elementType;e:{switch(nu(r,i),r=i.pendingProps,x=p._init,p=x(p._payload),i.type=p,x=i.tag=v2(p),r=kn(p,r),x){case 0:i=Wh(null,i,p,r,c);break e;case 1:i=Cv(null,i,p,r,c);break e;case 11:i=vv(null,i,p,r,c);break e;case 14:i=xv(null,i,p,kn(p.type,r),c);break e}throw Error(n(306,p,""))}return i;case 0:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:kn(p,x),Wh(r,i,p,x,c);case 1:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:kn(p,x),Cv(r,i,p,x,c);case 3:e:{if(_v(i),r===null)throw Error(n(387));p=i.pendingProps,S=i.memoizedState,x=S.element,F0(r,i),Kc(i,p,null,c);var T=i.memoizedState;if(p=T.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){x=ci(Error(n(423)),i),i=kv(r,i,p,c,x);break e}else if(p!==x){x=ci(Error(n(424)),i),i=kv(r,i,p,c,x);break e}else for(en=no(i.stateNode.containerInfo.firstChild),Zt=i,et=!0,_n=null,c=L0(i,null,p,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(oi(),p===x){i=kr(r,i,c);break e}At(r,i,p,c)}i=i.child}return i;case 5:return B0(i),r===null&&xh(i),p=i.type,x=i.pendingProps,S=r!==null?r.memoizedProps:null,T=x.children,uh(p,x)?T=null:S!==null&&uh(p,S)&&(i.flags|=32),Sv(r,i),At(r,i,T,c),i.child;case 6:return r===null&&xh(i),null;case 13:return Ev(r,i,c);case 4:return Nh(i,i.stateNode.containerInfo),p=i.pendingProps,r===null?i.child=si(i,null,p,c):At(r,i,p,c),i.child;case 11:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:kn(p,x),vv(r,i,p,x,c);case 7:return At(r,i,i.pendingProps,c),i.child;case 8:return At(r,i,i.pendingProps.children,c),i.child;case 12:return At(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(p=i.type._context,x=i.pendingProps,S=i.memoizedProps,T=x.value,Qe(Vc,p._currentValue),p._currentValue=T,S!==null)if(Cn(S.value,T)){if(S.children===x.children&&!zt.current){i=kr(r,i,c);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var $=S.dependencies;if($!==null){T=S.child;for(var W=$.firstContext;W!==null;){if(W.context===p){if(S.tag===1){W=_r(-1,c&-c),W.tag=2;var ee=S.updateQueue;if(ee!==null){ee=ee.shared;var ae=ee.pending;ae===null?W.next=W:(W.next=ae.next,ae.next=W),ee.pending=W}}S.lanes|=c,W=S.alternate,W!==null&&(W.lanes|=c),_h(S.return,c,i),$.lanes|=c;break}W=W.next}}else if(S.tag===10)T=S.type===i.type?null:S.child;else if(S.tag===18){if(T=S.return,T===null)throw Error(n(341));T.lanes|=c,$=T.alternate,$!==null&&($.lanes|=c),_h(T,c,i),T=S.sibling}else T=S.child;if(T!==null)T.return=S;else for(T=S;T!==null;){if(T===i){T=null;break}if(S=T.sibling,S!==null){S.return=T.return,T=S;break}T=T.return}S=T}At(r,i,x.children,c),i=i.child}return i;case 9:return x=i.type,p=i.pendingProps.children,ai(i,c),x=pn(x),p=p(x),i.flags|=1,At(r,i,p,c),i.child;case 14:return p=i.type,x=kn(p,i.pendingProps),x=kn(p.type,x),xv(r,i,p,x,c);case 15:return wv(r,i,i.type,i.pendingProps,c);case 17:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:kn(p,x),nu(r,i),i.tag=1,Ht(p)?(r=!0,$c(i)):r=!1,ai(i,c),dv(i,p,x),zh(i,p,x,c),Vh(null,i,p,!0,r,c);case 19:return Pv(r,i,c);case 22:return bv(r,i,c)}throw Error(n(156,i.tag))};function Jv(r,i){return pc(r,i)}function y2(r,i,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(r,i,c,p){return new y2(r,i,c,p)}function up(r){return r=r.prototype,!(!r||!r.isReactComponent)}function v2(r){if(typeof r=="function")return up(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Q)return 14}return 2}function po(r,i){var c=r.alternate;return c===null?(c=yn(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function hu(r,i,c,p,x,S){var T=2;if(p=r,typeof r=="function")up(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case R:return os(c.children,x,S,i);case O:T=8,x|=8;break;case H:return r=yn(12,c,i,x|2),r.elementType=H,r.lanes=S,r;case J:return r=yn(13,c,i,x),r.elementType=J,r.lanes=S,r;case L:return r=yn(19,c,i,x),r.elementType=L,r.lanes=S,r;case q:return pu(c,x,S,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:T=10;break e;case M:T=9;break e;case U:T=11;break e;case Q:T=14;break e;case z:T=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=yn(T,c,i,x),i.elementType=r,i.type=p,i.lanes=S,i}function os(r,i,c,p){return r=yn(7,r,p,i),r.lanes=c,r}function pu(r,i,c,p){return r=yn(22,r,p,i),r.elementType=q,r.lanes=c,r.stateNode={isHidden:!1},r}function dp(r,i,c){return r=yn(6,r,null,i),r.lanes=c,r}function fp(r,i,c){return i=yn(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function x2(r,i,c,p,x){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function hp(r,i,c,p,x,S,T,$,W){return r=new x2(r,i,c,$,W),i===1?(i=1,S===!0&&(i|=8)):i=0,S=yn(3,null,null,i),r.current=S,S.stateNode=r,S.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(S),r}function w2(r,i,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:r,containerInfo:i,implementation:c}}function Zv(r){if(!r)return oo;r=r._reactInternals;e:{if(qn(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Ht(c))return N0(r,c,i)}return i}function ex(r,i,c,p,x,S,T,$,W){return r=hp(c,p,!0,r,x,S,T,$,W),r.context=Zv(null),c=r.current,p=Mt(),x=fo(c),S=_r(p,x),S.callback=i??null,ao(c,S,x),r.current.lanes=x,qo(r,x,p),Vt(r,p),r}function mu(r,i,c,p){var x=i.current,S=Mt(),T=fo(x);return c=Zv(c),i.context===null?i.context=c:i.pendingContext=c,i=_r(S,T),i.payload={element:r},p=p===void 0?null:p,p!==null&&(i.callback=p),r=ao(x,i,T),r!==null&&(Pn(r,x,T,S),qc(r,x,T)),T}function gu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function tx(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function pp(r,i){tx(r,i),(r=r.alternate)&&tx(r,i)}function b2(){return null}var nx=typeof reportError=="function"?reportError:function(r){console.error(r)};function mp(r){this._internalRoot=r}yu.prototype.render=mp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));mu(r,i,null,null)},yu.prototype.unmount=mp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ts(function(){mu(null,r,null,null)}),i[xr]=null}};function yu(r){this._internalRoot=r}yu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fy();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Zr.length&&i!==0&&i<Zr[c].priority;c++);Zr.splice(c,0,r),c===0&&By(r)}};function gp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function vu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function rx(){}function S2(r,i,c,p,x){if(x){if(typeof p=="function"){var S=p;p=function(){var ee=gu(T);S.call(ee)}}var T=ex(i,p,r,0,null,!1,!1,"",rx);return r._reactRootContainer=T,r[xr]=T.current,Da(r.nodeType===8?r.parentNode:r),ts(),T}for(;x=r.lastChild;)r.removeChild(x);if(typeof p=="function"){var $=p;p=function(){var ee=gu(W);$.call(ee)}}var W=hp(r,0,!1,null,null,!1,!1,"",rx);return r._reactRootContainer=W,r[xr]=W.current,Da(r.nodeType===8?r.parentNode:r),ts(function(){mu(i,W,c,p)}),W}function xu(r,i,c,p,x){var S=c._reactRootContainer;if(S){var T=S;if(typeof x=="function"){var $=x;x=function(){var W=gu(T);$.call(W)}}mu(i,T,r,x)}else T=S2(c,i,r,x,p);return gu(T)}Ly=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=Kn(i.pendingLanes);c!==0&&(zf(i,c|1),Vt(i,ot()),(We&6)===0&&(fi=ot()+500,so()))}break;case 13:ts(function(){var p=Cr(r,1);if(p!==null){var x=Mt();Pn(p,r,1,x)}}),pp(r,1)}},Hf=function(r){if(r.tag===13){var i=Cr(r,134217728);if(i!==null){var c=Mt();Pn(i,r,134217728,c)}pp(r,134217728)}},$y=function(r){if(r.tag===13){var i=fo(r),c=Cr(r,i);if(c!==null){var p=Mt();Pn(c,r,i,p)}pp(r,i)}},Fy=function(){return Ge},zy=function(r,i){var c=Ge;try{return Ge=r,i()}finally{Ge=c}},ha=function(r,i,c){switch(i){case"input":if(Ye(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var p=c[i];if(p!==r&&p.form===r.form){var x=Oc(p);if(!x)throw Error(n(90));he(p),Ye(p,x)}}}break;case"textarea":$s(r,c);break;case"select":i=c.value,i!=null&&un(r,!!c.multiple,i,!1)}},cc=ap,uc=ts;var C2={usingClientEntryPoint:!1,Events:[$a,Zs,Oc,ac,lc,ap]},Ja={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_2={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=fc(r),r===null?null:r.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||b2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Uo=wu.inject(_2),dn=wu}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2,Ut.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(i))throw Error(n(200));return w2(r,i,null,c)},Ut.createRoot=function(r,i){if(!gp(r))throw Error(n(299));var c=!1,p="",x=nx;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=hp(r,1,!1,null,null,c,!1,p,x),r[xr]=i.current,Da(r.nodeType===8?r.parentNode:r),new mp(i)},Ut.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=fc(i),r=r===null?null:r.stateNode,r},Ut.flushSync=function(r){return ts(r)},Ut.hydrate=function(r,i,c){if(!vu(i))throw Error(n(200));return xu(null,r,i,!0,c)},Ut.hydrateRoot=function(r,i,c){if(!gp(r))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,x=!1,S="",T=nx;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),i=ex(i,null,r,1,c??null,x,!1,S,T),r[xr]=i.current,Da(r),p)for(r=0;r<p.length;r++)c=p[r],x=c._getVersion,x=x(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,x]:i.mutableSourceEagerHydrationData.push(c,x);return new yu(i)},Ut.render=function(r,i,c){if(!vu(i))throw Error(n(200));return xu(null,r,i,!1,c)},Ut.unmountComponentAtNode=function(r){if(!vu(r))throw Error(n(40));return r._reactRootContainer?(ts(function(){xu(null,null,r,!1,function(){r._reactRootContainer=null,r[xr]=null})}),!0):!1},Ut.unstable_batchedUpdates=ap,Ut.unstable_renderSubtreeIntoContainer=function(r,i,c,p){if(!vu(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return xu(r,i,c,!1,p)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var fx;function Ub(){if(fx)return wp.exports;fx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wp.exports=I2(),wp.exports}var hx;function A2(){if(hx)return Su;hx=1;var e=Ub();return Su.createRoot=e.createRoot,Su.hydrateRoot=e.hydrateRoot,Su}var M2=A2(),ea=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},D2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},bo,ag,Mb,O2=(Mb=class{constructor(){Ee(this,bo,D2);Ee(this,ag,!1)}setTimeoutProvider(e){ge(this,bo,e)}setTimeout(e,t){return B(this,bo).setTimeout(e,t)}clearTimeout(e){B(this,bo).clearTimeout(e)}setInterval(e,t){return B(this,bo).setInterval(e,t)}clearInterval(e){B(this,bo).clearInterval(e)}},bo=new WeakMap,ag=new WeakMap,Mb),as=new O2;function L2(e){setTimeout(e,0)}var Cs=typeof window>"u"||"Deno"in globalThis;function Lt(){}function $2(e,t){return typeof e=="function"?e(t):e}function Zp(e){return typeof e=="number"&&e>=0&&e!==1/0}function qb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ro(e,t){return typeof e=="function"?e(t):e}function xn(e,t){return typeof e=="function"?e(t):e}function px(e,t){const{type:n="all",exact:o,fetchStatus:s,predicate:a,queryKey:l,stale:u}=e;if(l){if(o){if(t.queryHash!==ug(l,t.options))return!1}else if(!fl(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||a&&!a(t))}function mx(e,t){const{exact:n,status:o,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(_s(t.options.mutationKey)!==_s(a))return!1}else if(!fl(t.options.mutationKey,a))return!1}return!(o&&t.state.status!==o||s&&!s(t))}function ug(e,t){return((t==null?void 0:t.queryKeyHashFn)||_s)(e)}function _s(e){return JSON.stringify(e,(t,n)=>em(n)?Object.keys(n).sort().reduce((o,s)=>(o[s]=n[s],o),{}):n)}function fl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>fl(e[n],t[n])):!1}var F2=Object.prototype.hasOwnProperty;function Kb(e,t){if(e===t)return e;const n=gx(e)&&gx(t);if(!n&&!(em(e)&&em(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),l=a.length,u=n?new Array(l):{};let d=0;for(let h=0;h<l;h++){const m=n?h:a[h],g=e[m],v=t[m];if(g===v){u[m]=g,(n?h<s:F2.call(e,m))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){u[m]=v;continue}const w=Kb(g,v);u[m]=w,w===g&&d++}return s===l&&d===s?e:u}function od(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function gx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function em(e){if(!yx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yx(e){return Object.prototype.toString.call(e)==="[object Object]"}function z2(e){return new Promise(t=>{as.setTimeout(t,e)})}function tm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Kb(e,t):t}function H2(e,t,n=0){const o=[...e,t];return n&&o.length>n?o.slice(1):o}function B2(e,t,n=0){const o=[t,...e];return n&&o.length>n?o.slice(0,-1):o}var dg=Symbol();function Gb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Yb(e,t){return typeof e=="function"?e(...t):!!e}var cs,So,Ei,Db,W2=(Db=class extends ea{constructor(){super();Ee(this,cs);Ee(this,So);Ee(this,Ei);ge(this,Ei,t=>{if(!Cs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,So)||this.setEventListener(B(this,Ei))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,So))==null||t.call(this),ge(this,So,void 0))}setEventListener(t){var n;ge(this,Ei,t),(n=B(this,So))==null||n.call(this),ge(this,So,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){B(this,cs)!==t&&(ge(this,cs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,cs)=="boolean"?B(this,cs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cs=new WeakMap,So=new WeakMap,Ei=new WeakMap,Db),fg=new W2;function nm(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function o(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},n.reject=s=>{o({status:"rejected",reason:s}),t(s)},n}var V2=L2;function U2(){let e=[],t=0,n=u=>{u()},o=u=>{u()},s=V2;const a=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{o(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{o=u},setScheduler:u=>{s=u}}}var xt=U2(),Ni,Co,Pi,Ob,q2=(Ob=class extends ea{constructor(){super();Ee(this,Ni,!0);Ee(this,Co);Ee(this,Pi);ge(this,Pi,t=>{if(!Cs&&window.addEventListener){const n=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}}})}onSubscribe(){B(this,Co)||this.setEventListener(B(this,Pi))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Co))==null||t.call(this),ge(this,Co,void 0))}setEventListener(t){var n;ge(this,Pi,t),(n=B(this,Co))==null||n.call(this),ge(this,Co,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ni)!==t&&(ge(this,Ni,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return B(this,Ni)}},Ni=new WeakMap,Co=new WeakMap,Pi=new WeakMap,Ob),sd=new q2;function K2(e){return Math.min(1e3*2**e,3e4)}function Qb(e){return(e??"online")==="online"?sd.isOnline():!0}var rm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xb(e){let t=!1,n=0,o;const s=nm(),a=()=>s.status!=="pending",l=C=>{var k;if(!a()){const E=new rm(C);v(E),(k=e.onCancel)==null||k.call(e,E)}},u=()=>{t=!0},d=()=>{t=!1},h=()=>fg.isFocused()&&(e.networkMode==="always"||sd.isOnline())&&e.canRun(),m=()=>Qb(e.networkMode)&&e.canRun(),g=C=>{a()||(o==null||o(),s.resolve(C))},v=C=>{a()||(o==null||o(),s.reject(C))},w=()=>new Promise(C=>{var k;o=E=>{(a()||h())&&C(E)},(k=e.onPause)==null||k.call(e)}).then(()=>{var C;o=void 0,a()||(C=e.onContinue)==null||C.call(e)}),b=()=>{if(a())return;let C;const k=n===0?e.initialPromise:void 0;try{C=k??e.fn()}catch(E){C=Promise.reject(E)}Promise.resolve(C).then(g).catch(E=>{var A;if(a())return;const N=e.retry??(Cs?0:3),_=e.retryDelay??K2,P=typeof _=="function"?_(n,E):_,I=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(t||!I){v(E);return}n++,(A=e.onFail)==null||A.call(e,n,E),z2(P).then(()=>h()?void 0:w()).then(()=>{t?v(E):b()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(o==null||o(),s),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?b():w().then(b),s)}}var us,Lb,Jb=(Lb=class{constructor(){Ee(this,us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zp(this.gcTime)&&ge(this,us,as.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cs?1/0:300*1e3))}clearGcTimeout(){B(this,us)&&(as.clearTimeout(B(this,us)),ge(this,us,void 0))}},us=new WeakMap,Lb),ds,Ti,vn,fs,_t,Ol,hs,Rn,Tr,$b,G2=($b=class extends Jb{constructor(t){super();Ee(this,Rn);Ee(this,ds);Ee(this,Ti);Ee(this,vn);Ee(this,fs);Ee(this,_t);Ee(this,Ol);Ee(this,hs);ge(this,hs,!1),ge(this,Ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,fs,t.client),ge(this,vn,B(this,fs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,ds,xx(this.options)),this.state=t.state??B(this,ds),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,_t))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Ol),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=xx(this.options);n.data!==void 0&&(this.setState(vx(n.data,n.dataUpdatedAt)),ge(this,ds,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,vn).remove(this)}setData(t,n){const o=tm(this.state.data,t,this.options);return Le(this,Rn,Tr).call(this,{data:o,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),o}setState(t,n){Le(this,Rn,Tr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var o,s;const n=(o=B(this,_t))==null?void 0:o.promise;return(s=B(this,_t))==null||s.cancel(t),n?n.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ds))}isActive(){return this.observers.some(t=>xn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ro(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qb(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,_t))==null||n.continue()}onOnline(){var n;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,_t))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,vn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,_t)&&(B(this,hs)?B(this,_t).cancel({revert:!0}):B(this,_t).cancelRetry()),this.scheduleGc()),B(this,vn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Le(this,Rn,Tr).call(this,{type:"invalidate"})}async fetch(t,n){var d,h,m,g,v,w,b,C,k,E,N,_;if(this.state.fetchStatus!=="idle"&&((d=B(this,_t))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,_t))return B(this,_t).continueRetry(),B(this,_t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(I=>I.options.queryFn);P&&this.setOptions(P.options)}const o=new AbortController,s=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ge(this,hs,!0),o.signal)})},a=()=>{const P=Gb(this.options,n),A=(()=>{const R={client:B(this,fs),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return ge(this,hs,!1),this.options.persister?this.options.persister(P,A,this):P(A)},u=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,fs),state:this.state,fetchFn:a};return s(P),P})();(h=this.options.behavior)==null||h.onFetch(u,this),ge(this,Ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Le(this,Rn,Tr).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),ge(this,_t,Xb({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:P=>{P instanceof rm&&P.revert&&this.setState({...B(this,Ti),fetchStatus:"idle"}),o.abort()},onFail:(P,I)=>{Le(this,Rn,Tr).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Le(this,Rn,Tr).call(this,{type:"pause"})},onContinue:()=>{Le(this,Rn,Tr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const P=await B(this,_t).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(w=(v=B(this,vn).config).onSuccess)==null||w.call(v,P,this),(C=(b=B(this,vn).config).onSettled)==null||C.call(b,P,this.state.error,this),P}catch(P){if(P instanceof rm){if(P.silent)return B(this,_t).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Le(this,Rn,Tr).call(this,{type:"error",error:P}),(E=(k=B(this,vn).config).onError)==null||E.call(k,P,this),(_=(N=B(this,vn).config).onSettled)==null||_.call(N,this.state.data,P,this),P}finally{this.scheduleGc()}}},ds=new WeakMap,Ti=new WeakMap,vn=new WeakMap,fs=new WeakMap,_t=new WeakMap,Ol=new WeakMap,hs=new WeakMap,Rn=new WeakSet,Tr=function(t){const n=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...Zb(o.data,this.options),fetchMeta:t.meta??null};case"success":const s={...o,...vx(t.data,t.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Ti,t.manual?s:void 0),s;case"error":const a=t.error;return{...o,error:a,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=n(this.state),xt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),B(this,vn).notify({query:this,type:"updated",action:t})})},$b);function Zb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,o=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qt,ze,Ll,Dt,ps,Ri,jr,_o,$l,ji,Ii,ms,gs,ko,Ai,Ke,ol,om,sm,im,am,lm,cm,um,e1,Fb,Y2=(Fb=class extends ea{constructor(t,n){super();Ee(this,Ke);Ee(this,qt);Ee(this,ze);Ee(this,Ll);Ee(this,Dt);Ee(this,ps);Ee(this,Ri);Ee(this,jr);Ee(this,_o);Ee(this,$l);Ee(this,ji);Ee(this,Ii);Ee(this,ms);Ee(this,gs);Ee(this,ko);Ee(this,Ai,new Set);this.options=n,ge(this,qt,t),ge(this,_o,null),ge(this,jr,nm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,ze).addObserver(this),wx(B(this,ze),this.options)?Le(this,Ke,ol).call(this):this.updateResult(),Le(this,Ke,am).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dm(B(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dm(B(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Le(this,Ke,lm).call(this),Le(this,Ke,cm).call(this),B(this,ze).removeObserver(this)}setOptions(t){const n=this.options,o=B(this,ze);if(this.options=B(this,qt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,B(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Le(this,Ke,um).call(this),B(this,ze).setOptions(this.options),n._defaulted&&!od(this.options,n)&&B(this,qt).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,ze),observer:this});const s=this.hasListeners();s&&bx(B(this,ze),o,this.options,n)&&Le(this,Ke,ol).call(this),this.updateResult(),s&&(B(this,ze)!==o||xn(this.options.enabled,B(this,ze))!==xn(n.enabled,B(this,ze))||Ro(this.options.staleTime,B(this,ze))!==Ro(n.staleTime,B(this,ze)))&&Le(this,Ke,om).call(this);const a=Le(this,Ke,sm).call(this);s&&(B(this,ze)!==o||xn(this.options.enabled,B(this,ze))!==xn(n.enabled,B(this,ze))||a!==B(this,ko))&&Le(this,Ke,im).call(this,a)}getOptimisticResult(t){const n=B(this,qt).getQueryCache().build(B(this,qt),t),o=this.createResult(n,t);return X2(this,o)&&(ge(this,Dt,o),ge(this,Ri,this.options),ge(this,ps,B(this,ze).state)),o}getCurrentResult(){return B(this,Dt)}trackResult(t,n){return new Proxy(t,{get:(o,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,jr).status==="pending"&&B(this,jr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(o,s))})}trackProp(t){B(this,Ai).add(t)}getCurrentQuery(){return B(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,qt).defaultQueryOptions(t),o=B(this,qt).getQueryCache().build(B(this,qt),n);return o.fetch().then(()=>this.createResult(o,n))}fetch(t){return Le(this,Ke,ol).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Dt)))}createResult(t,n){var H;const o=B(this,ze),s=this.options,a=B(this,Dt),l=B(this,ps),u=B(this,Ri),h=t!==o?t.state:B(this,Ll),{state:m}=t;let g={...m},v=!1,w;if(n._optimisticResults){const K=this.hasListeners(),M=!K&&wx(t,n),U=K&&bx(t,o,n,s);(M||U)&&(g={...g,...Zb(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:k}=g;w=g.data;let E=!1;if(n.placeholderData!==void 0&&w===void 0&&k==="pending"){let K;a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(K=a.data,E=!0):K=typeof n.placeholderData=="function"?n.placeholderData((H=B(this,Ii))==null?void 0:H.state.data,B(this,Ii)):n.placeholderData,K!==void 0&&(k="success",w=tm(a==null?void 0:a.data,K,n),v=!0)}if(n.select&&w!==void 0&&!E)if(a&&w===(l==null?void 0:l.data)&&n.select===B(this,$l))w=B(this,ji);else try{ge(this,$l,n.select),w=n.select(w),w=tm(a==null?void 0:a.data,w,n),ge(this,ji,w),ge(this,_o,null)}catch(K){ge(this,_o,K)}B(this,_o)&&(b=B(this,_o),w=B(this,ji),C=Date.now(),k="error");const N=g.fetchStatus==="fetching",_=k==="pending",P=k==="error",I=_&&N,A=w!==void 0,O={status:k,fetchStatus:g.fetchStatus,isPending:_,isSuccess:k==="success",isError:P,isInitialLoading:I,isLoading:I,data:w,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!_,isLoadingError:P&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&A,isStale:hg(t,n),refetch:this.refetch,promise:B(this,jr),isEnabled:xn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=J=>{O.status==="error"?J.reject(O.error):O.data!==void 0&&J.resolve(O.data)},M=()=>{const J=ge(this,jr,O.promise=nm());K(J)},U=B(this,jr);switch(U.status){case"pending":t.queryHash===o.queryHash&&K(U);break;case"fulfilled":(O.status==="error"||O.data!==U.value)&&M();break;case"rejected":(O.status!=="error"||O.error!==U.reason)&&M();break}}return O}updateResult(){const t=B(this,Dt),n=this.createResult(B(this,ze),this.options);if(ge(this,ps,B(this,ze).state),ge(this,Ri,this.options),B(this,ps).data!==void 0&&ge(this,Ii,B(this,ze)),od(n,t))return;ge(this,Dt,n);const o=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!B(this,Ai).size)return!0;const l=new Set(a??B(this,Ai));return this.options.throwOnError&&l.add("error"),Object.keys(B(this,Dt)).some(u=>{const d=u;return B(this,Dt)[d]!==t[d]&&l.has(d)})};Le(this,Ke,e1).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Le(this,Ke,am).call(this)}},qt=new WeakMap,ze=new WeakMap,Ll=new WeakMap,Dt=new WeakMap,ps=new WeakMap,Ri=new WeakMap,jr=new WeakMap,_o=new WeakMap,$l=new WeakMap,ji=new WeakMap,Ii=new WeakMap,ms=new WeakMap,gs=new WeakMap,ko=new WeakMap,Ai=new WeakMap,Ke=new WeakSet,ol=function(t){Le(this,Ke,um).call(this);let n=B(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Lt)),n},om=function(){Le(this,Ke,lm).call(this);const t=Ro(this.options.staleTime,B(this,ze));if(Cs||B(this,Dt).isStale||!Zp(t))return;const o=qb(B(this,Dt).dataUpdatedAt,t)+1;ge(this,ms,as.setTimeout(()=>{B(this,Dt).isStale||this.updateResult()},o))},sm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,ze)):this.options.refetchInterval)??!1},im=function(t){Le(this,Ke,cm).call(this),ge(this,ko,t),!(Cs||xn(this.options.enabled,B(this,ze))===!1||!Zp(B(this,ko))||B(this,ko)===0)&&ge(this,gs,as.setInterval(()=>{(this.options.refetchIntervalInBackground||fg.isFocused())&&Le(this,Ke,ol).call(this)},B(this,ko)))},am=function(){Le(this,Ke,om).call(this),Le(this,Ke,im).call(this,Le(this,Ke,sm).call(this))},lm=function(){B(this,ms)&&(as.clearTimeout(B(this,ms)),ge(this,ms,void 0))},cm=function(){B(this,gs)&&(as.clearInterval(B(this,gs)),ge(this,gs,void 0))},um=function(){const t=B(this,qt).getQueryCache().build(B(this,qt),this.options);if(t===B(this,ze))return;const n=B(this,ze);ge(this,ze,t),ge(this,Ll,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},e1=function(t){xt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,Dt))}),B(this,qt).getQueryCache().notify({query:B(this,ze),type:"observerResultsUpdated"})})},Fb);function Q2(e,t){return xn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wx(e,t){return Q2(e,t)||e.state.data!==void 0&&dm(e,t,t.refetchOnMount)}function dm(e,t,n){if(xn(t.enabled,e)!==!1&&Ro(t.staleTime,e)!=="static"){const o=typeof n=="function"?n(e):n;return o==="always"||o!==!1&&hg(e,t)}return!1}function bx(e,t,n,o){return(e!==t||xn(o.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&hg(e,n)}function hg(e,t){return xn(t.enabled,e)!==!1&&e.isStaleByTime(Ro(t.staleTime,e))}function X2(e,t){return!od(e.getCurrentResult(),t)}function Sx(e){return{onFetch:(t,n)=>{var m,g,v,w,b;const o=t.options,s=(v=(g=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,a=((w=t.state.data)==null?void 0:w.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let C=!1;const k=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},E=Gb(t.options,t.fetchOptions),N=async(_,P,I)=>{if(C)return Promise.reject();if(P==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:P,direction:I?"backward":"forward",meta:t.options.meta};return k(M),M})(),O=await E(R),{maxPages:H}=t.options,K=I?B2:H2;return{pages:K(_.pages,O,H),pageParams:K(_.pageParams,P,H)}};if(s&&a.length){const _=s==="backward",P=_?J2:Cx,I={pages:a,pageParams:l},A=P(o,I);u=await N(I,A,_)}else{const _=e??a.length;do{const P=d===0?l[0]??o.initialPageParam:Cx(o,u);if(d>0&&P==null)break;u=await N(u,P),d++}while(d<_)}return u};t.options.persister?t.fetchFn=()=>{var C,k;return(k=(C=t.options).persister)==null?void 0:k.call(C,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Cx(e,{pages:t,pageParams:n}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,n[o],n):void 0}function J2(e,{pages:t,pageParams:n}){var o;return t.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,t[0],t,n[0],n):void 0}var Fl,Zn,Ot,ys,er,xo,zb,Z2=(zb=class extends Jb{constructor(t){super();Ee(this,er);Ee(this,Fl);Ee(this,Zn);Ee(this,Ot);Ee(this,ys);ge(this,Fl,t.client),this.mutationId=t.mutationId,ge(this,Ot,t.mutationCache),ge(this,Zn,[]),this.state=t.state||t1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Zn).includes(t)||(B(this,Zn).push(t),this.clearGcTimeout(),B(this,Ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Zn,B(this,Zn).filter(n=>n!==t)),this.scheduleGc(),B(this,Ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():B(this,Ot).remove(this))}continue(){var t;return((t=B(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,m,g,v,w,b,C,k,E,N,_,P,I,A,R,O,H;const n=()=>{Le(this,er,xo).call(this,{type:"continue"})},o={client:B(this,Fl),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,ys,Xb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(K,M)=>{Le(this,er,xo).call(this,{type:"failed",failureCount:K,error:M})},onPause:()=>{Le(this,er,xo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Ot).canRun(this)}));const s=this.state.status==="pending",a=!B(this,ys).canStart();try{if(s)n();else{Le(this,er,xo).call(this,{type:"pending",variables:t,isPaused:a}),await((u=(l=B(this,Ot).config).onMutate)==null?void 0:u.call(l,t,this,o));const M=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t,o));M!==this.state.context&&Le(this,er,xo).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const K=await B(this,ys).start();return await((g=(m=B(this,Ot).config).onSuccess)==null?void 0:g.call(m,K,t,this.state.context,this,o)),await((w=(v=this.options).onSuccess)==null?void 0:w.call(v,K,t,this.state.context,o)),await((C=(b=B(this,Ot).config).onSettled)==null?void 0:C.call(b,K,null,this.state.variables,this.state.context,this,o)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,K,null,t,this.state.context,o)),Le(this,er,xo).call(this,{type:"success",data:K}),K}catch(K){try{throw await((_=(N=B(this,Ot).config).onError)==null?void 0:_.call(N,K,t,this.state.context,this,o)),await((I=(P=this.options).onError)==null?void 0:I.call(P,K,t,this.state.context,o)),await((R=(A=B(this,Ot).config).onSettled)==null?void 0:R.call(A,void 0,K,this.state.variables,this.state.context,this,o)),await((H=(O=this.options).onSettled)==null?void 0:H.call(O,void 0,K,t,this.state.context,o)),K}finally{Le(this,er,xo).call(this,{type:"error",error:K})}}finally{B(this,Ot).runNext(this)}}},Fl=new WeakMap,Zn=new WeakMap,Ot=new WeakMap,ys=new WeakMap,er=new WeakSet,xo=function(t){const n=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xt.batch(()=>{B(this,Zn).forEach(o=>{o.onMutationUpdate(t)}),B(this,Ot).notify({mutation:this,type:"updated",action:t})})},zb);function t1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ir,jn,zl,Hb,eP=(Hb=class extends ea{constructor(t={}){super();Ee(this,Ir);Ee(this,jn);Ee(this,zl);this.config=t,ge(this,Ir,new Set),ge(this,jn,new Map),ge(this,zl,0)}build(t,n,o){const s=new Z2({client:t,mutationCache:this,mutationId:++bu(this,zl)._,options:t.defaultMutationOptions(n),state:o});return this.add(s),s}add(t){B(this,Ir).add(t);const n=Cu(t);if(typeof n=="string"){const o=B(this,jn).get(n);o?o.push(t):B(this,jn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,Ir).delete(t)){const n=Cu(t);if(typeof n=="string"){const o=B(this,jn).get(n);if(o)if(o.length>1){const s=o.indexOf(t);s!==-1&&o.splice(s,1)}else o[0]===t&&B(this,jn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Cu(t);if(typeof n=="string"){const o=B(this,jn).get(n),s=o==null?void 0:o.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var o;const n=Cu(t);if(typeof n=="string"){const s=(o=B(this,jn).get(n))==null?void 0:o.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{B(this,Ir).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,Ir).clear(),B(this,jn).clear()})}getAll(){return Array.from(B(this,Ir))}find(t){const n={exact:!0,...t};return this.getAll().find(o=>mx(n,o))}findAll(t={}){return this.getAll().filter(n=>mx(t,n))}notify(t){xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Lt))))}},Ir=new WeakMap,jn=new WeakMap,zl=new WeakMap,Hb);function Cu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ar,Eo,Kt,Mr,zr,Uu,fm,Bb,tP=(Bb=class extends ea{constructor(n,o){super();Ee(this,zr);Ee(this,Ar);Ee(this,Eo);Ee(this,Kt);Ee(this,Mr);ge(this,Ar,n),this.setOptions(o),this.bindMethods(),Le(this,zr,Uu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const o=this.options;this.options=B(this,Ar).defaultMutationOptions(n),od(this.options,o)||B(this,Ar).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Kt),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&_s(o.mutationKey)!==_s(this.options.mutationKey)?this.reset():((s=B(this,Kt))==null?void 0:s.state.status)==="pending"&&B(this,Kt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,Kt))==null||n.removeObserver(this)}onMutationUpdate(n){Le(this,zr,Uu).call(this),Le(this,zr,fm).call(this,n)}getCurrentResult(){return B(this,Eo)}reset(){var n;(n=B(this,Kt))==null||n.removeObserver(this),ge(this,Kt,void 0),Le(this,zr,Uu).call(this),Le(this,zr,fm).call(this)}mutate(n,o){var s;return ge(this,Mr,o),(s=B(this,Kt))==null||s.removeObserver(this),ge(this,Kt,B(this,Ar).getMutationCache().build(B(this,Ar),this.options)),B(this,Kt).addObserver(this),B(this,Kt).execute(n)}},Ar=new WeakMap,Eo=new WeakMap,Kt=new WeakMap,Mr=new WeakMap,zr=new WeakSet,Uu=function(){var o;const n=((o=B(this,Kt))==null?void 0:o.state)??t1();ge(this,Eo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fm=function(n){xt.batch(()=>{var o,s,a,l,u,d,h,m;if(B(this,Mr)&&this.hasListeners()){const g=B(this,Eo).variables,v=B(this,Eo).context,w={client:B(this,Ar),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(o=B(this,Mr)).onSuccess)==null||s.call(o,n.data,g,v,w),(l=(a=B(this,Mr)).onSettled)==null||l.call(a,n.data,null,g,v,w)):(n==null?void 0:n.type)==="error"&&((d=(u=B(this,Mr)).onError)==null||d.call(u,n.error,g,v,w),(m=(h=B(this,Mr)).onSettled)==null||m.call(h,void 0,n.error,g,v,w))}this.listeners.forEach(g=>{g(B(this,Eo))})})},Bb),tr,Wb,nP=(Wb=class extends ea{constructor(t={}){super();Ee(this,tr);this.config=t,ge(this,tr,new Map)}build(t,n,o){const s=n.queryKey,a=n.queryHash??ug(s,n);let l=this.get(a);return l||(l=new G2({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:o,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){B(this,tr).has(t.queryHash)||(B(this,tr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,tr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,tr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,tr).get(t)}getAll(){return[...B(this,tr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(o=>px(n,o))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(o=>px(t,o)):n}notify(t){xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tr=new WeakMap,Wb),ut,No,Po,Mi,Di,To,Oi,Li,Vb,rP=(Vb=class{constructor(e={}){Ee(this,ut);Ee(this,No);Ee(this,Po);Ee(this,Mi);Ee(this,Di);Ee(this,To);Ee(this,Oi);Ee(this,Li);ge(this,ut,e.queryCache||new nP),ge(this,No,e.mutationCache||new eP),ge(this,Po,e.defaultOptions||{}),ge(this,Mi,new Map),ge(this,Di,new Map),ge(this,To,0)}mount(){bu(this,To)._++,B(this,To)===1&&(ge(this,Oi,fg.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,ut).onFocus())})),ge(this,Li,sd.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,ut).onOnline())})))}unmount(){var e,t;bu(this,To)._--,B(this,To)===0&&((e=B(this,Oi))==null||e.call(this),ge(this,Oi,void 0),(t=B(this,Li))==null||t.call(this),ge(this,Li,void 0))}isFetching(e){return B(this,ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,No).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,ut).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,ut).build(this,t),o=n.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ro(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return B(this,ut).findAll(e).map(({queryKey:t,state:n})=>{const o=n.data;return[t,o]})}setQueryData(e,t,n){const o=this.defaultQueryOptions({queryKey:e}),s=B(this,ut).get(o.queryHash),a=s==null?void 0:s.state.data,l=$2(t,a);if(l!==void 0)return B(this,ut).build(this,o).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return xt.batch(()=>B(this,ut).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,ut).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,ut);xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,ut);return xt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},o=xt.batch(()=>B(this,ut).findAll(e).map(s=>s.cancel(n)));return Promise.all(o).then(Lt).catch(Lt)}invalidateQueries(e,t={}){return xt.batch(()=>(B(this,ut).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},o=xt.batch(()=>B(this,ut).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Lt)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(Lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,ut).build(this,t);return n.isStaleByTime(Ro(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lt).catch(Lt)}fetchInfiniteQuery(e){return e.behavior=Sx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lt).catch(Lt)}ensureInfiniteQueryData(e){return e.behavior=Sx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sd.isOnline()?B(this,No).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,ut)}getMutationCache(){return B(this,No)}getDefaultOptions(){return B(this,Po)}setDefaultOptions(e){ge(this,Po,e)}setQueryDefaults(e,t){B(this,Mi).set(_s(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Mi).values()],n={};return t.forEach(o=>{fl(e,o.queryKey)&&Object.assign(n,o.defaultOptions)}),n}setMutationDefaults(e,t){B(this,Di).set(_s(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Di).values()],n={};return t.forEach(o=>{fl(e,o.mutationKey)&&Object.assign(n,o.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ug(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,ut).clear(),B(this,No).clear()}},ut=new WeakMap,No=new WeakMap,Po=new WeakMap,Mi=new WeakMap,Di=new WeakMap,To=new WeakMap,Oi=new WeakMap,Li=new WeakMap,Vb),n1=y.createContext(void 0),wn=e=>{const t=y.useContext(n1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oP=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(n1.Provider,{value:e,children:t})),r1=y.createContext(!1),sP=()=>y.useContext(r1);r1.Provider;function iP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var aP=y.createContext(iP()),lP=()=>y.useContext(aP),cP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},uP=e=>{y.useEffect(()=>{e.clearReset()},[e])},dP=({result:e,errorResetBoundary:t,throwOnError:n,query:o,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(s&&e.data===void 0||Yb(n,[e.error,o])),fP=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...s)=>n(o(...s)):n(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hP=(e,t)=>e.isLoading&&e.isFetching&&!t,pP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_x=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function mP(e,t,n){var g,v,w,b,C;const o=sP(),s=lP(),a=wn(),l=a.defaultQueryOptions(e);(v=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,l),l._optimisticResults=o?"isRestoring":"optimistic",fP(l),cP(l,s),uP(s);const u=!a.getQueryCache().get(l.queryHash),[d]=y.useState(()=>new t(a,l)),h=d.getOptimisticResult(l),m=!o&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(k=>{const E=m?d.subscribe(xt.batchCalls(k)):Lt;return d.updateResult(),E},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),y.useEffect(()=>{d.setOptions(l)},[l,d]),pP(l,h))throw _x(l,d,s);if(dP({result:h,errorResetBoundary:s,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((b=(w=a.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||b.call(w,l,h),l.experimental_prefetchInRender&&!Cs&&hP(h,o)){const k=u?_x(l,d,s):(C=a.getQueryCache().get(l.queryHash))==null?void 0:C.promise;k==null||k.catch(Lt).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?h:d.trackResult(h)}function ks(e,t){return mP(e,Y2)}function Ds(e,t){const n=wn(),[o]=y.useState(()=>new tP(n,e));y.useEffect(()=>{o.setOptions(e)},[o,e]);const s=y.useSyncExternalStore(y.useCallback(l=>o.subscribe(xt.batchCalls(l)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),a=y.useCallback((l,u)=>{o.mutate(l,u).catch(Lt)},[o]);if(s.error&&Yb(o.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kx="popstate";function gP(e={}){function t(o,s){let{pathname:a,search:l,hash:u}=o.location;return hm("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:hl(s)}return vP(t,n,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yP(){return Math.random().toString(36).substring(2,10)}function Ex(e,t){return{usr:e.state,key:e.key,idx:t}}function hm(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ta(t):t,state:n,key:t&&t.key||o||yP()}}function hl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function vP(e,t,n,o={}){let{window:s=document.defaultView,v5Compat:a=!1}=o,l=s.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let k=m(),E=k==null?null:k-h;h=k,d&&d({action:u,location:C.location,delta:E})}function v(k,E){u="PUSH";let N=hm(C.location,k,E);h=m()+1;let _=Ex(N,h),P=C.createHref(N);try{l.pushState(_,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(P)}a&&d&&d({action:u,location:C.location,delta:1})}function w(k,E){u="REPLACE";let N=hm(C.location,k,E);h=m();let _=Ex(N,h),P=C.createHref(N);l.replaceState(_,"",P),a&&d&&d({action:u,location:C.location,delta:0})}function b(k){return xP(k)}let C={get action(){return u},get location(){return e(s,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(kx,g),d=k,()=>{s.removeEventListener(kx,g),d=null}},createHref(k){return t(s,k)},createURL:b,encodeLocation(k){let E=b(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(k){return l.go(k)}};return C}function xP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:hl(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function o1(e,t,n="/"){return wP(e,t,n,!1)}function wP(e,t,n,o){let s=typeof t=="string"?ta(t):t,a=Hr(s.pathname||"/",n);if(a==null)return null;let l=s1(e);bP(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=IP(a);u=RP(l[d],h,o)}return u}function s1(e,t=[],n=[],o="",s=!1){let a=(l,u,d=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&d)return;lt(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let g=$r([o,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s1(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:PP(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let h of i1(l.path))a(l,u,!0,h)}),t}function i1(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(o.length===0)return s?[a,""]:[a];let l=i1(o.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function bP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TP(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var SP=/^:[\w-]+$/,CP=3,_P=2,kP=1,EP=10,NP=-2,Nx=e=>e==="*";function PP(e,t){let n=e.split("/"),o=n.length;return n.some(Nx)&&(o+=NP),t&&(o+=_P),n.filter(s=>!Nx(s)).reduce((s,a)=>s+(SP.test(a)?CP:a===""?kP:EP),o)}function TP(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function RP(e,t,n=!1){let{routesMeta:o}=e,s={},a="/",l=[];for(let u=0;u<o.length;++u){let d=o[u],h=u===o.length-1,m=a==="/"?t:t.slice(a.length)||"/",g=id({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!g&&h&&n&&!o[o.length-1].route.index&&(g=id({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:$r([a,g.pathname]),pathnameBase:LP($r([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=$r([a,g.pathnameBase]))}return l}function id(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=jP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:o.reduce((h,{paramName:m,isOptional:g},v)=>{if(m==="*"){let b=u[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=u[v];return g&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function jP(e,t=!1,n=!0){Fn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(o.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function IP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}var AP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MP=e=>AP.test(e);function DP(e,t="/"){let{pathname:n,search:o="",hash:s=""}=typeof e=="string"?ta(e):e,a;if(n)if(MP(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Px(n.substring(1),"/"):a=Px(n,t)}else a=t;return{pathname:a,search:$P(o),hash:FP(s)}}function Px(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cp(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a1(e){let t=OP(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function l1(e,t,n,o=!1){let s;typeof e=="string"?s=ta(e):(s={...e},lt(!s.pathname||!s.pathname.includes("?"),Cp("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Cp("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Cp("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!o&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=DP(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var $r=e=>e.join("/").replace(/\/\/+/g,"/"),LP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$P=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function HP(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c1=["POST","PUT","PATCH","DELETE"];new Set(c1);var BP=["GET",...c1];new Set(BP);var na=y.createContext(null);na.displayName="DataRouter";var Dd=y.createContext(null);Dd.displayName="DataRouterState";y.createContext(!1);var u1=y.createContext({isTransitioning:!1});u1.displayName="ViewTransition";var WP=y.createContext(new Map);WP.displayName="Fetchers";var VP=y.createContext(null);VP.displayName="Await";var Bn=y.createContext(null);Bn.displayName="Navigation";var Bl=y.createContext(null);Bl.displayName="Location";var ur=y.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var pg=y.createContext(null);pg.displayName="RouteError";function UP(e,{relative:t}={}){lt(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=y.useContext(Bn),{hash:s,pathname:a,search:l}=Vl(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:$r([n,a])),o.createHref({pathname:u,search:l,hash:s})}function Wl(){return y.useContext(Bl)!=null}function Os(){return lt(Wl(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Bl).location}var d1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f1(e){y.useContext(Bn).static||y.useLayoutEffect(e)}function qP(){let{isDataRoute:e}=y.useContext(ur);return e?aT():KP()}function KP(){lt(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(na),{basename:t,navigator:n}=y.useContext(Bn),{matches:o}=y.useContext(ur),{pathname:s}=Os(),a=JSON.stringify(a1(o)),l=y.useRef(!1);return f1(()=>{l.current=!0}),y.useCallback((d,h={})=>{if(Fn(l.current,d1),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=l1(d,JSON.parse(a),s,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:$r([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,a,s,e])}var GP=y.createContext(null);function YP(e){let t=y.useContext(ur).outlet;return y.useMemo(()=>t&&y.createElement(GP.Provider,{value:e},t),[t,e])}function Vl(e,{relative:t}={}){let{matches:n}=y.useContext(ur),{pathname:o}=Os(),s=JSON.stringify(a1(n));return y.useMemo(()=>l1(e,JSON.parse(s),o,t==="path"),[e,s,o,t])}function QP(e,t){return h1(e,t)}function h1(e,t,n,o,s){var N;lt(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(Bn),{matches:l}=y.useContext(ur),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let _=g&&g.path||"";p1(h,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=Os(),w;if(t){let _=typeof t=="string"?ta(t):t;lt(m==="/"||((N=_.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),w=_}else w=v;let b=w.pathname||"/",C=b;if(m!=="/"){let _=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=o1(e,{pathname:C});Fn(g||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Fn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=tT(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:$r([m,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:$r([m,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),l,n,o,s);return t&&E?y.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function XP(){let e=iT(),t=zP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,l)}var JP=y.createElement(XP,null),ZP=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(ur.Provider,{value:this.props.routeContext},y.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eT({routeContext:e,match:t,children:n}){let o=y.useContext(na);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ur.Provider,{value:e},n)}function tT(e,t=[],n=null,o=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:w}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let h=n&&o?(m,g)=>{var v,w;o(m,{location:n.location,params:((w=(v=n.matches)==null?void 0:v[0])==null?void 0:w.params)??{},unstable_pattern:HP(n.matches),errorInfo:g})}:void 0;return a.reduceRight((m,g,v)=>{let w,b=!1,C=null,k=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||JP,u&&(d<0&&v===0?(p1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):d===v&&(b=!0,k=g.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,v+1)),N=()=>{let _;return w?_=C:b?_=k:g.route.Component?_=y.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=m,y.createElement(eT,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:_})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?y.createElement(ZP,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):N()},null)}function mg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(e){let t=y.useContext(na);return lt(t,mg(e)),t}function rT(e){let t=y.useContext(Dd);return lt(t,mg(e)),t}function oT(e){let t=y.useContext(ur);return lt(t,mg(e)),t}function gg(e){let t=oT(e),n=t.matches[t.matches.length-1];return lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sT(){return gg("useRouteId")}function iT(){var o;let e=y.useContext(pg),t=rT("useRouteError"),n=gg("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[n]}function aT(){let{router:e}=nT("useNavigate"),t=gg("useNavigate"),n=y.useRef(!1);return f1(()=>{n.current=!0}),y.useCallback(async(s,a={})=>{Fn(n.current,d1),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Tx={};function p1(e,t,n){!t&&!Tx[e]&&(Tx[e]=!0,Fn(!1,n))}y.memo(lT);function lT({routes:e,future:t,state:n,unstable_onError:o}){return h1(e,void 0,n,o,t)}function cT(e){return YP(e.context)}function Jn(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uT({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){lt(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[u,s,a,l]);typeof n=="string"&&(n=ta(n));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:w="default"}=n,b=y.useMemo(()=>{let C=Hr(h,u);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:w},navigationType:o}},[u,h,m,g,v,w,o]);return Fn(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:y.createElement(Bn.Provider,{value:d},y.createElement(Bl.Provider,{children:t,value:b}))}function dT({children:e,location:t}){return QP(pm(e),t)}function pm(e,t=[]){let n=[];return y.Children.forEach(e,(o,s)=>{if(!y.isValidElement(o))return;let a=[...t,s];if(o.type===y.Fragment){n.push.apply(n,pm(o.props.children,a));return}lt(o.type===Jn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let l={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(l.children=pm(o.props.children,a)),n.push(l)}),n}var qu="get",Ku="application/x-www-form-urlencoded";function Od(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function fT(e){return Od(e)&&e.tagName.toLowerCase()==="button"}function hT(e){return Od(e)&&e.tagName.toLowerCase()==="form"}function pT(e){return Od(e)&&e.tagName.toLowerCase()==="input"}function mT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gT(e,t){return e.button===0&&(!t||t==="_self")&&!mT(e)}var _u=null;function yT(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var vT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(e){return e!=null&&!vT.has(e)?(Fn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ku}"`),null):e}function xT(e,t){let n,o,s,a,l;if(hT(e)){let u=e.getAttribute("action");o=u?Hr(u,t):null,n=e.getAttribute("method")||qu,s=_p(e.getAttribute("enctype"))||Ku,a=new FormData(e)}else if(fT(e)||pT(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(o=d?Hr(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||qu,s=_p(e.getAttribute("formenctype"))||_p(u.getAttribute("enctype"))||Ku,a=new FormData(u,e),!yT()){let{name:h,type:m,value:g}=e;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(Od(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qu,o=null,s=Ku,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wT(e,t,n){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${n}`:t&&Hr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function bT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ST(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CT(e,t,n){let o=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await bT(a,n);return l.links?l.links():[]}return[]}));return NT(o.flat(1).filter(ST).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Rx(e,t,n,o,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?t.filter((d,h)=>{var g;let m=o.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _T(e,t,{includeHydrateFallback:n}={}){return kT(e.map(o=>{let s=t.routes[o.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function kT(e){return[...new Set(e)]}function ET(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function NT(e,t){let n=new Set;return new Set(t),e.reduce((o,s)=>{let a=JSON.stringify(ET(s));return n.has(a)||(n.add(a),o.push({key:a,link:s})),o},[])}function m1(){let e=y.useContext(na);return yg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function PT(){let e=y.useContext(Dd);return yg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vg=y.createContext(void 0);vg.displayName="FrameworkContext";function g1(){let e=y.useContext(vg);return yg(e,"You must render this element inside a <HydratedRouter> element"),e}function TT(e,t){let n=y.useContext(vg),[o,s]=y.useState(!1),[a,l]=y.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,v=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=E=>{E.forEach(N=>{l(N.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[e]),y.useEffect(()=>{if(o){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[o]);let w=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:el(u,w),onBlur:el(d,b),onMouseEnter:el(h,w),onMouseLeave:el(m,b),onTouchStart:el(g,w)}]:[!1,v,{}]}function el(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function RT({page:e,...t}){let{router:n}=m1(),o=y.useMemo(()=>o1(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?y.createElement(IT,{page:e,matches:o,...t}):null}function jT(e){let{manifest:t,routeModules:n}=g1(),[o,s]=y.useState([]);return y.useEffect(()=>{let a=!1;return CT(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),o}function IT({page:e,matches:t,...n}){let o=Os(),{manifest:s,routeModules:a}=g1(),{basename:l}=m1(),{loaderData:u,matches:d}=PT(),h=y.useMemo(()=>Rx(e,t,d,s,o,"data"),[e,t,d,s,o]),m=y.useMemo(()=>Rx(e,t,d,s,o,"assets"),[e,t,d,s,o]),g=y.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let b=new Set,C=!1;if(t.forEach(E=>{var _;let N=s.routes[E.route.id];!N||!N.hasLoader||(!h.some(P=>P.route.id===E.route.id)&&E.route.id in u&&((_=a[E.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?C=!0:b.add(E.route.id))}),b.size===0)return[];let k=wT(e,l,"data");return C&&b.size>0&&k.searchParams.set("_routes",t.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[l,u,o,s,h,t,e,a]),v=y.useMemo(()=>_T(m,s),[m,s]),w=jT(m);return y.createElement(y.Fragment,null,g.map(b=>y.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>y.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:C})=>y.createElement("link",{key:b,nonce:n.nonce,...C})))}function AT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y1&&(window.__reactRouterVersion="7.10.1")}catch{}function MT({basename:e,children:t,unstable_useTransitions:n,window:o}){let s=y.useRef();s.current==null&&(s.current=gP({window:o,v5Compat:!0}));let a=s.current,[l,u]=y.useState({action:a.action,location:a.location}),d=y.useCallback(h=>{n===!1?u(h):y.startTransition(()=>u(h))},[n]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.createElement(uT,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n===!0})}var v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pl=y.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,...v},w){let{basename:b,unstable_useTransitions:C}=y.useContext(Bn),k=typeof h=="string"&&v1.test(h),E,N=!1;if(typeof h=="string"&&k&&(E=h,y1))try{let K=new URL(window.location.href),M=h.startsWith("//")?new URL(K.protocol+h):new URL(h),U=Hr(M.pathname,b);M.origin===K.origin&&U!=null?h=U+M.search+M.hash:N=!0}catch{Fn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=UP(h,{relative:s}),[P,I,A]=TT(o,v),R=LT(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:g,unstable_useTransitions:C});function O(K){t&&t(K),K.defaultPrevented||R(K)}let H=y.createElement("a",{...v,...A,href:E||_,onClick:N||a?t:O,ref:AT(w,I),target:d,"data-discover":!k&&n==="render"?"true":void 0});return P&&!k?y.createElement(y.Fragment,null,H,y.createElement(RT,{page:_})):H});pl.displayName="Link";var x1=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...h},m){let g=Vl(l,{relative:h.relative}),v=Os(),w=y.useContext(Dd),{navigator:b,basename:C}=y.useContext(Bn),k=w!=null&&BT(g)&&u===!0,E=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,N=v.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&C&&(_=Hr(_,C)||_);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let I=N===E||!s&&N.startsWith(E)&&N.charAt(P)==="/",A=_!=null&&(_===E||!s&&_.startsWith(E)&&_.charAt(E.length)==="/"),R={isActive:I,isPending:A,isTransitioning:k},O=I?t:void 0,H;typeof o=="function"?H=o(R):H=[o,I?"active":null,A?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(R):a;return y.createElement(pl,{...h,"aria-current":O,className:H,ref:m,style:K,to:l,viewTransition:u},typeof d=="function"?d(R):d)});x1.displayName="NavLink";var DT=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:s,state:a,method:l=qu,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...v},w)=>{let{unstable_useTransitions:b}=y.useContext(Bn),C=zT(),k=HT(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&v1.test(u),_=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,A=(I==null?void 0:I.getAttribute("formmethod"))||l,R=()=>C(I||P.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:g});b&&n!==!1?y.startTransition(()=>R()):R()};return y.createElement("form",{ref:w,method:E,action:k,onSubmit:o?d:_,...v,"data-discover":!N&&e==="render"?"true":void 0})});DT.displayName="Form";function OT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w1(e){let t=y.useContext(na);return lt(t,OT(e)),t}function LT(e,{target:t,replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l,unstable_useTransitions:u}={}){let d=qP(),h=Os(),m=Vl(e,{relative:a});return y.useCallback(g=>{if(gT(g,t)){g.preventDefault();let v=n!==void 0?n:hl(h)===hl(m),w=()=>d(e,{replace:v,state:o,preventScrollReset:s,relative:a,viewTransition:l});u?y.startTransition(()=>w()):w()}},[h,d,m,n,o,t,e,s,a,l,u])}var $T=0,FT=()=>`__${String(++$T)}__`;function zT(){let{router:e}=w1("useSubmit"),{basename:t}=y.useContext(Bn),n=sT(),o=e.fetch,s=e.navigate;return y.useCallback(async(a,l={})=>{let{action:u,method:d,encType:h,formData:m,body:g}=xT(a,t);if(l.navigate===!1){let v=l.fetcherKey||FT();await o(v,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await s(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[o,s,t,n])}function HT(e,{relative:t}={}){let{basename:n}=y.useContext(Bn),o=y.useContext(ur);lt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...Vl(e||".",{relative:t})},l=Os();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:$r([n,a.pathname])),hl(a)}function BT(e,{relative:t}={}){let n=y.useContext(u1);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=w1("useViewTransitionState"),s=Vl(e,{relative:t});if(!n.isTransitioning)return!1;let a=Hr(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=Hr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return id(s.pathname,l)!=null||id(s.pathname,a)!=null}var Ul=Ub();const WT=lg(Ul),b1=y.createContext(null);function VT({children:e}){const[t,n]=y.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"dark"),[o,s]=y.useState("dark");return y.useEffect(()=>{const a=document.documentElement,l=()=>{let h="dark";t==="system"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=t,s(h),h==="dark"?(a.classList.add("dark"),a.classList.remove("light")):(a.classList.add("light"),a.classList.remove("dark"))};l(),localStorage.setItem("theme",t);const u=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{t==="system"&&l()};return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[t]),f.jsx(b1.Provider,{value:{theme:t,resolvedTheme:o,setTheme:n},children:e})}function UT(){const e=y.useContext(b1);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S1=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:l,...u},d)=>y.createElement("svg",{ref:d,...KT,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:S1("lucide",s),...u},[...l.map(([h,m])=>y.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const n=y.forwardRef(({className:o,...s},a)=>y.createElement(GT,{ref:a,iconNode:t,className:S1(`lucide-${qT(e)}`,o),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Ne("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Ne("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Ne("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ne("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ne("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Ne("Orbit",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M10.4 21.9a10 10 0 0 0 9.941-15.416",key:"eohfx2"}],["path",{d:"M13.5 2.1a10 10 0 0 0-9.841 15.416",key:"19pvbm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Ne("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Ne("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Ne("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Ne("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Ne("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Ne("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Ne("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Ne("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vR=[{to:"/",icon:eR,label:"Dashboard"},{to:"/agents",icon:Fi,label:"Agents"},{to:"/jobs",icon:wg,label:"Jobs"},{to:"/workflows",icon:vs,label:"Workflows"},{to:"/settings",icon:N1,label:"Settings"}];function xR(){const{theme:e,setTheme:t}=UT(),n=[{value:"light",icon:pR,label:"Light"},{value:"dark",icon:oR,label:"Dark"},{value:"system",icon:rR,label:"System"}];return f.jsx("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-slate-200 dark:bg-slate-700",children:n.map(({value:o,icon:s,label:a})=>f.jsx("button",{onClick:()=>t(o),className:`p-1.5 rounded-md transition-colors ${e===o?"bg-white dark:bg-slate-600 text-orbit-600 dark:text-orbit-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,title:a,children:f.jsx(s,{className:"w-4 h-4"})},o))})}function wR(){return f.jsxs("div",{className:"flex h-screen bg-slate-100 dark:bg-slate-900 transition-colors",children:[f.jsxs("aside",{className:"w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 flex flex-col transition-colors",children:[f.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-orbit-600 rounded-lg",children:f.jsx(sR,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"OrbitMesh"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Control Center"})]})]})}),f.jsx("nav",{className:"flex-1 p-4",children:f.jsx("ul",{className:"space-y-1",children:vR.map(({to:e,icon:t,label:n})=>f.jsx("li",{children:f.jsxs(x1,{to:e,end:e==="/",className:({isActive:o})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${o?"bg-orbit-600 text-white":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsx(t,{className:"w-5 h-5"}),f.jsx("span",{children:n})]})},e))})}),f.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Theme"}),f.jsx(xR,{})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Server Online"})]})]})]}),f.jsx("main",{className:"flex-1 overflow-auto",children:f.jsx(cT,{})})]})}const bR="/api";async function Wn(e,t){const n=await fetch(`${bR}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!n.ok){const o=await n.text();throw new Error(o||`API error: ${n.status}`)}return n.json()}async function T1(){return Wn("/agents")}async function R1(e){const t=e?`?status=${e}`:"";return Wn(`/jobs${t}`)}async function SR(e){return Wn("/jobs",{method:"POST",body:JSON.stringify(e)})}async function CR(e){await Wn(`/jobs/${e}/cancel`,{method:"POST"})}async function _R(){return Wn("/workflows")}async function kR(e){return Wn("/workflows/instances")}async function ER(e,t){return Wn(`/workflows/${e}/start`,{method:"POST",body:JSON.stringify({input:t})})}async function NR(e){return Wn("/workflows",{method:"POST",body:JSON.stringify(e)})}async function PR(){return Wn("/tokens")}async function j1(e){return Wn("/tokens",{method:"POST",body:JSON.stringify(e)})}async function TR(e){await Wn(`/tokens/${e}`,{method:"DELETE"})}function RR(e,t,n){var s;const o=["orbit-agent",`--server-url "${e}"`,`--token "${t}"`];return n!=null&&n.name&&o.push(`--name "${n.name}"`),n!=null&&n.group&&o.push(`--group "${n.group}"`),(s=n==null?void 0:n.tags)!=null&&s.length&&o.push(`--tags "${n.tags.join(",")}"`),o.join(` \\
  `)}function jR(e,t,n){var a;const o=(n==null?void 0:n.image)||"orbitmesh/agent:latest",s=[`-e ORBIT_SERVER_URL="${e}"`,`-e ORBIT_TOKEN="${t}"`];return n!=null&&n.name&&s.push(`-e ORBIT_AGENT_NAME="${n.name}"`),n!=null&&n.group&&s.push(`-e ORBIT_AGENT_GROUP="${n.group}"`),(a=n==null?void 0:n.tags)!=null&&a.length&&s.push(`-e ORBIT_AGENT_TAGS="${n.tags.join(",")}"`),`docker run -d \\
  ${s.join(` \\
  `)} \\
  ${o}`}function ku({title:e,value:t,icon:n,color:o}){return f.jsx("div",{className:"card",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:t})]}),f.jsx("div",{className:`p-3 rounded-lg ${o}`,children:f.jsx(n,{className:"w-6 h-6 text-white"})})]})})}function IR({status:e}){const t={Ready:"status-ready",Running:"status-busy",Disconnected:"status-disconnected",Created:"status-pending",Initializing:"status-pending",Paused:"bg-blue-500/20 text-blue-600 dark:text-blue-400",Stopping:"bg-orange-500/20 text-orange-600 dark:text-orange-400",Stopped:"bg-slate-500/20 text-slate-600 dark:text-slate-400",Faulted:"bg-red-500/20 text-red-600 dark:text-red-400"};return f.jsx("span",{className:`status-badge ${t[e]||"status-pending"}`,children:e})}function AR({status:e}){const t={Pending:"bg-slate-500/20 text-slate-600 dark:text-slate-400",Assigned:"bg-blue-500/20 text-blue-600 dark:text-blue-400",Running:"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400",Completed:"bg-green-500/20 text-green-600 dark:text-green-400",Failed:"bg-red-500/20 text-red-600 dark:text-red-400",Cancelled:"bg-slate-500/20 text-slate-600 dark:text-slate-400",TimedOut:"bg-orange-500/20 text-orange-600 dark:text-orange-400"};return f.jsx("span",{className:`status-badge ${t[e]||"status-pending"}`,children:e})}function MR(){const{data:e=[]}=ks({queryKey:["agents"],queryFn:T1}),{data:t=[]}=ks({queryKey:["jobs"],queryFn:()=>R1()}),n={total:e.length,ready:e.filter(l=>l.status==="Ready").length,busy:e.filter(l=>l.status==="Running").length,disconnected:e.filter(l=>l.status==="Disconnected").length},o={pending:t.filter(l=>l.status==="Pending").length,running:t.filter(l=>["Running","Assigned"].includes(l.status)).length,completed:t.filter(l=>l.status==="Completed").length,failed:t.filter(l=>l.status==="Failed").length},s=t.slice(0,5),a=e.slice(0,5);return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Dashboard"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Overview of your OrbitMesh cluster"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsx(ku,{title:"Total Agents",value:n.total,icon:Fi,color:"bg-orbit-600"}),f.jsx(ku,{title:"Ready Agents",value:n.ready,icon:ad,color:"bg-green-600"}),f.jsx(ku,{title:"Running Jobs",value:o.running,icon:ll,color:"bg-yellow-600"}),f.jsx(ku,{title:"Pending Jobs",value:o.pending,icon:jo,color:"bg-blue-600"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Recent Agents"}),f.jsx(pl,{to:"/agents",className:"text-sm text-orbit-600 dark:text-orbit-400 hover:text-orbit-500 dark:hover:text-orbit-300",children:"View all "})]}),a.length===0?f.jsx("p",{className:"text-slate-500 text-center py-8",children:"No agents connected"}):f.jsx("div",{className:"space-y-3",children:a.map(l=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fi,{className:"w-5 h-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:l.name}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:[l.capabilities.length," capabilities"]})]})]}),f.jsx(IR,{status:l.status})]},l.id))})]}),f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Recent Jobs"}),f.jsx(pl,{to:"/jobs",className:"text-sm text-orbit-600 dark:text-orbit-400 hover:text-orbit-500 dark:hover:text-orbit-300",children:"View all "})]}),s.length===0?f.jsx("p",{className:"text-slate-500 text-center py-8",children:"No jobs submitted"}):f.jsx("div",{className:"space-y-3",children:s.map(l=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(wg,{className:"w-5 h-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:l.command}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:new Date(l.createdAt).toLocaleString()})]})]}),f.jsx(AR,{status:l.status})]},l.id))})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Job Statistics"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx(jo,{className:"w-8 h-8 text-blue-500 dark:text-blue-400 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o.pending}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Pending"})]}),f.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx(ll,{className:"w-8 h-8 text-yellow-500 dark:text-yellow-400 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o.running}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Running"})]}),f.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx(ad,{className:"w-8 h-8 text-green-500 dark:text-green-400 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o.completed}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Completed"})]}),f.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx(ml,{className:"w-8 h-8 text-red-500 dark:text-red-400 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o.failed}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Failed"})]})]})]})]})}function DR({status:e}){const t={Ready:"status-ready",Running:"status-busy",Disconnected:"status-disconnected",Created:"status-pending",Initializing:"status-pending",Paused:"bg-blue-500/20 text-blue-600 dark:text-blue-400",Stopping:"bg-orange-500/20 text-orange-600 dark:text-orange-400",Stopped:"bg-slate-500/20 text-slate-600 dark:text-slate-400",Faulted:"bg-red-500/20 text-red-600 dark:text-red-400"};return f.jsx("span",{className:`status-badge ${t[e]||"status-pending"}`,children:e})}function OR({isOpen:e,onClose:t,serverUrl:n}){const[o,s]=y.useState(""),[a,l]=y.useState(""),[u,d]=y.useState(""),[h,m]=y.useState(null),[g,v]=y.useState(null),[w,b]=y.useState("cli"),C=wn(),k=Ds({mutationFn:j1,onSuccess:A=>{m(A.token||""),C.invalidateQueries({queryKey:["tokens"]})}}),E=()=>{k.mutate({name:o||`agent-${Date.now()}`,scopes:["agent:connect"]})},N=h?RR(n,h,{name:a||void 0,group:u||void 0}):"",_=h?jR(n,h,{name:a||void 0,group:u||void 0}):"",P=async A=>{const R=A==="cli"?N:_;await navigator.clipboard.writeText(R),v(A),setTimeout(()=>v(null),2e3)},I=()=>{s(""),l(""),d(""),m(null),v(null),t()};return e?f.jsx("div",{className:"modal-backdrop",children:f.jsxs("div",{className:"modal-content w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add New Agent"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Generate a token and connection command for a new agent"})]}),f.jsx("div",{className:"p-6 space-y-6",children:h?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:f.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm",children:" Copy this token now. It will not be shown again."})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>b("cli"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${w==="cli"?"bg-orbit-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[f.jsx(mR,{className:"w-4 h-4"}),"CLI Command"]}),f.jsxs("button",{onClick:()=>b("docker"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${w==="docker"?"bg-orbit-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[f.jsx(QT,{className:"w-4 h-4"}),"Docker Command"]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("pre",{className:"bg-slate-100 dark:bg-slate-900 rounded-lg p-4 text-sm text-slate-700 dark:text-slate-300 overflow-x-auto",children:w==="cli"?N:_}),f.jsx("button",{onClick:()=>P(w),className:"absolute top-2 right-2 p-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:g===w?f.jsx(xg,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):f.jsx(bg,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})})]}),f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Instructions"}),f.jsxs("ol",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-2 list-decimal list-inside",children:[f.jsx("li",{children:"Copy the command above"}),f.jsx("li",{children:"Run it on the machine where you want to deploy the agent"}),f.jsx("li",{children:"The agent will automatically connect and appear in this list"})]})]})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Token Name"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"my-agent-token",value:o,onChange:A=>s(A.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Agent Name (optional)"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"worker-01",value:a,onChange:A=>l(A.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Agent Group (optional)"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"production",value:u,onChange:A=>d(A.target.value)})]})]}),f.jsx("button",{onClick:E,disabled:k.isPending,className:"btn-primary w-full",children:k.isPending?"Generating...":"Generate Token"})]})}),f.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:f.jsx("button",{onClick:I,className:"btn-secondary",children:h?"Done":"Cancel"})})]})}):null}function LR(){const[e,t]=y.useState(!1),n=wn(),{data:o=[],isLoading:s}=ks({queryKey:["agents"],queryFn:T1}),a=typeof window<"u"?`${window.location.protocol}//${window.location.host}`:"http://localhost:5000",l={ready:o.filter(u=>u.status==="Ready"),busy:o.filter(u=>u.status==="Running"),disconnected:o.filter(u=>u.status==="Disconnected")};return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Agents"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your distributed agents"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>n.invalidateQueries({queryKey:["agents"]}),className:"btn-secondary flex items-center gap-2",children:[f.jsx(Io,{className:"w-4 h-4"}),"Refresh"]}),f.jsxs("button",{onClick:()=>t(!0),className:"btn-primary flex items-center gap-2",children:[f.jsx(gl,{className:"w-4 h-4"}),"Add Agent"]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsx("div",{className:"card",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ready"}),f.jsx("span",{className:"text-slate-900 dark:text-white font-bold ml-auto",children:l.ready.length})]})}),f.jsx("div",{className:"card",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Busy"}),f.jsx("span",{className:"text-slate-900 dark:text-white font-bold ml-auto",children:l.busy.length})]})}),f.jsx("div",{className:"card",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Disconnected"}),f.jsx("span",{className:"text-slate-900 dark:text-white font-bold ml-auto",children:l.disconnected.length})]})})]}),f.jsx("div",{className:"card",children:s?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Io,{className:"w-8 h-8 text-slate-400 animate-spin mx-auto mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading agents..."})]}):o.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Fi,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No agents connected"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Add your first agent to start distributing work"}),f.jsx("button",{onClick:()=>t(!0),className:"btn-primary",children:"Add Agent"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-header",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Name"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Status"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Group"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Capabilities"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Last Heartbeat"})]})}),f.jsx("tbody",{children:o.map(u=>f.jsxs("tr",{className:"table-row",children:[f.jsx("td",{className:"py-3 px-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fi,{className:"w-5 h-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:u.name}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 font-mono",children:u.id})]})]})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(DR,{status:u.status})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:u.group||"-"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsxs("div",{className:"flex flex-wrap gap-1",children:[u.capabilities.slice(0,3).map(d=>f.jsx("span",{className:"px-2 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs text-slate-700 dark:text-slate-300",children:d.name},d.name)),u.capabilities.length>3&&f.jsxs("span",{className:"px-2 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs text-slate-500 dark:text-slate-400",children:["+",u.capabilities.length-3]})]})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.lastHeartbeat?new Date(u.lastHeartbeat).toLocaleString():"-"})})]},u.id))})]})})}),f.jsx(OR,{isOpen:e,onClose:()=>t(!1),serverUrl:a})]})}function $R({status:e}){const t={Pending:{class:"bg-slate-500/20 text-slate-600 dark:text-slate-400",icon:jo},Assigned:{class:"bg-blue-500/20 text-blue-600 dark:text-blue-400",icon:ll},Acknowledged:{class:"bg-blue-500/20 text-blue-600 dark:text-blue-400",icon:ll},Running:{class:"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400",icon:ll},Completed:{class:"bg-green-500/20 text-green-600 dark:text-green-400",icon:ad},Failed:{class:"bg-red-500/20 text-red-600 dark:text-red-400",icon:ml},Cancelled:{class:"bg-slate-500/20 text-slate-600 dark:text-slate-400",icon:ml},TimedOut:{class:"bg-orange-500/20 text-orange-600 dark:text-orange-400",icon:mm}},{class:n,icon:o}=t[e]||t.Pending;return f.jsxs("span",{className:`status-badge flex items-center gap-1 ${n}`,children:[f.jsx(o,{className:"w-3 h-3"}),e]})}function FR({isOpen:e,onClose:t}){const[n,o]=y.useState(""),[s,a]=y.useState(""),[l,u]=y.useState("5"),[d,h]=y.useState(""),m=wn(),g=Ds({mutationFn:SR,onSuccess:()=>{m.invalidateQueries({queryKey:["jobs"]}),w()}}),v=()=>{let b;if(d.trim())try{b=JSON.parse(d)}catch{alert("Invalid JSON payload");return}g.mutate({command:n,pattern:s||void 0,priority:parseInt(l),payload:b})},w=()=>{o(""),a(""),u("5"),h(""),t()};return e?f.jsx("div",{className:"modal-backdrop",children:f.jsxs("div",{className:"modal-content w-full max-w-lg",children:[f.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Submit Job"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Create a new job to be executed by an agent"})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Command *"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"e.g., process-data, run-analysis",value:n,onChange:b=>o(b.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Agent Pattern (optional)"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"e.g., worker-*, group:production",value:s,onChange:b=>a(b.target.value)}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty to let the scheduler choose the best agent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Priority (1-10)"}),f.jsx("input",{type:"number",min:"1",max:"10",className:"input w-24",value:l,onChange:b=>u(b.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payload (JSON, optional)"}),f.jsx("textarea",{className:"input w-full h-32 font-mono text-sm",placeholder:'{"key": "value"}',value:d,onChange:b=>h(b.target.value)})]})]}),f.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[f.jsx("button",{onClick:w,className:"btn-secondary",children:"Cancel"}),f.jsx("button",{onClick:v,disabled:!n.trim()||g.isPending,className:"btn-primary",children:g.isPending?"Submitting...":"Submit Job"})]})]})}):null}function Ix(){const[e,t]=y.useState(!1),[n,o]=y.useState(""),s=wn(),{data:a=[],isLoading:l}=ks({queryKey:["jobs",n],queryFn:()=>R1(n||void 0)}),u=Ds({mutationFn:CR,onSuccess:()=>{s.invalidateQueries({queryKey:["jobs"]})}}),d=[{value:"",label:"All Statuses"},{value:"Pending",label:"Pending"},{value:"Running",label:"Running"},{value:"Completed",label:"Completed"},{value:"Failed",label:"Failed"}],h=m=>["Pending","Assigned","Acknowledged","Running"].includes(m);return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Jobs"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"View and manage job executions"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("select",{className:"input",value:n,onChange:m=>o(m.target.value),children:d.map(m=>f.jsx("option",{value:m.value,children:m.label},m.value))}),f.jsxs("button",{onClick:()=>s.invalidateQueries({queryKey:["jobs"]}),className:"btn-secondary flex items-center gap-2",children:[f.jsx(Io,{className:"w-4 h-4"}),"Refresh"]}),f.jsxs("button",{onClick:()=>t(!0),className:"btn-primary flex items-center gap-2",children:[f.jsx(gl,{className:"w-4 h-4"}),"Submit Job"]})]})]}),f.jsx("div",{className:"card",children:l?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Io,{className:"w-8 h-8 text-slate-400 animate-spin mx-auto mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading jobs..."})]}):a.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(wg,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No jobs found"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:n?"No jobs match the selected filter":"Submit your first job to get started"}),f.jsx("button",{onClick:()=>t(!0),className:"btn-primary",children:"Submit Job"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-header",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Job ID"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Command"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Status"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Agent"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Created"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Progress"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Actions"})]})}),f.jsx("tbody",{children:a.map(m=>f.jsxs("tr",{className:"table-row",children:[f.jsx("td",{className:"py-3 px-4",children:f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:[m.id.substring(0,8),"..."]})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:m.command})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx($R,{status:m.status})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:m.agentId?m.agentId.substring(0,8)+"...":"-"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(m.createdAt).toLocaleString()})}),f.jsx("td",{className:"py-3 px-4",children:m.progress?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-24 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-orbit-500 transition-all",style:{width:`${m.progress.percentage}%`}})}),f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[m.progress.percentage,"%"]})]}):f.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"-"})}),f.jsx("td",{className:"py-3 px-4 text-right",children:h(m.status)&&f.jsx("button",{onClick:()=>u.mutate(m.id),disabled:u.isPending,className:"text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300 text-sm",children:"Cancel"})})]},m.id))})]})})}),f.jsx(FR,{isOpen:e,onClose:()=>t(!1)})]})}function pt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=pt(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var zR={value:()=>{}};function $d(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Gu(n)}function Gu(e){this._=e}function HR(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Gu.prototype=$d.prototype={constructor:Gu,on:function(e,t){var n=this._,o=HR(e+"",n),s,a=-1,l=o.length;if(arguments.length<2){for(;++a<l;)if((s=(e=o[a]).type)&&(s=BR(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(s=(e=o[a]).type)n[s]=Ax(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Ax(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gu(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,a;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],o=0,s=a.length;o<s;++o)a[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,a=o.length;s<a;++s)o[s].value.apply(t,n)}};function BR(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function Ax(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=zR,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var gm="http://www.w3.org/1999/xhtml";const Mx={svg:"http://www.w3.org/2000/svg",xhtml:gm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Mx.hasOwnProperty(t)?{space:Mx[t],local:e}:e}function WR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gm&&t.documentElement.namespaceURI===gm?t.createElement(e):t.createElementNS(n,e)}}function VR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function I1(e){var t=Fd(e);return(t.local?VR:WR)(t)}function UR(){}function jg(e){return e==null?UR:function(){return this.querySelector(e)}}function qR(e){typeof e!="function"&&(e=jg(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,u=o[s]=new Array(l),d,h,m=0;m<l;++m)(d=a[m])&&(h=e.call(d,d.__data__,m,a))&&("__data__"in d&&(h.__data__=d.__data__),u[m]=h);return new cn(o,this._parents)}function KR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GR(){return[]}function A1(e){return e==null?GR:function(){return this.querySelectorAll(e)}}function YR(e){return function(){return KR(e.apply(this,arguments))}}function QR(e){typeof e=="function"?e=YR(e):e=A1(e);for(var t=this._groups,n=t.length,o=[],s=[],a=0;a<n;++a)for(var l=t[a],u=l.length,d,h=0;h<u;++h)(d=l[h])&&(o.push(e.call(d,d.__data__,h,l)),s.push(d));return new cn(o,s)}function M1(e){return function(){return this.matches(e)}}function D1(e){return function(t){return t.matches(e)}}var XR=Array.prototype.find;function JR(e){return function(){return XR.call(this.children,e)}}function ZR(){return this.firstElementChild}function ej(e){return this.select(e==null?ZR:JR(typeof e=="function"?e:D1(e)))}var tj=Array.prototype.filter;function nj(){return Array.from(this.children)}function rj(e){return function(){return tj.call(this.children,e)}}function oj(e){return this.selectAll(e==null?nj:rj(typeof e=="function"?e:D1(e)))}function sj(e){typeof e!="function"&&(e=M1(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,u=o[s]=[],d,h=0;h<l;++h)(d=a[h])&&e.call(d,d.__data__,h,a)&&u.push(d);return new cn(o,this._parents)}function O1(e){return new Array(e.length)}function ij(){return new cn(this._enter||this._groups.map(O1),this._parents)}function ld(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ld.prototype={constructor:ld,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aj(e){return function(){return e}}function lj(e,t,n,o,s,a){for(var l=0,u,d=t.length,h=a.length;l<h;++l)(u=t[l])?(u.__data__=a[l],o[l]=u):n[l]=new ld(e,a[l]);for(;l<d;++l)(u=t[l])&&(s[l]=u)}function cj(e,t,n,o,s,a,l){var u,d,h=new Map,m=t.length,g=a.length,v=new Array(m),w;for(u=0;u<m;++u)(d=t[u])&&(v[u]=w=l.call(d,d.__data__,u,t)+"",h.has(w)?s[u]=d:h.set(w,d));for(u=0;u<g;++u)w=l.call(e,a[u],u,a)+"",(d=h.get(w))?(o[u]=d,d.__data__=a[u],h.delete(w)):n[u]=new ld(e,a[u]);for(u=0;u<m;++u)(d=t[u])&&h.get(v[u])===d&&(s[u]=d)}function uj(e){return e.__data__}function dj(e,t){if(!arguments.length)return Array.from(this,uj);var n=t?cj:lj,o=this._parents,s=this._groups;typeof e!="function"&&(e=aj(e));for(var a=s.length,l=new Array(a),u=new Array(a),d=new Array(a),h=0;h<a;++h){var m=o[h],g=s[h],v=g.length,w=fj(e.call(m,m&&m.__data__,h,o)),b=w.length,C=u[h]=new Array(b),k=l[h]=new Array(b),E=d[h]=new Array(v);n(m,g,C,k,E,w,t);for(var N=0,_=0,P,I;N<b;++N)if(P=C[N]){for(N>=_&&(_=N+1);!(I=k[_])&&++_<b;);P._next=I||null}}return l=new cn(l,o),l._enter=u,l._exit=d,l}function fj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hj(){return new cn(this._exit||this._groups.map(O1),this._parents)}function pj(e,t,n){var o=this.enter(),s=this,a=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),o&&s?o.merge(s).order():s}function mj(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,a=o.length,l=Math.min(s,a),u=new Array(s),d=0;d<l;++d)for(var h=n[d],m=o[d],g=h.length,v=u[d]=new Array(g),w,b=0;b<g;++b)(w=h[b]||m[b])&&(v[b]=w);for(;d<s;++d)u[d]=n[d];return new cn(u,this._parents)}function gj(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,a=o[s],l;--s>=0;)(l=o[s])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function yj(e){e||(e=vj);function t(g,v){return g&&v?e(g.__data__,v.__data__):!g-!v}for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a){for(var l=n[a],u=l.length,d=s[a]=new Array(u),h,m=0;m<u;++m)(h=l[m])&&(d[m]=h);d.sort(t)}return new cn(s,this._parents).order()}function vj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xj(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wj(){return Array.from(this)}function bj(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,a=o.length;s<a;++s){var l=o[s];if(l)return l}return null}function Sj(){let e=0;for(const t of this)++e;return e}function Cj(){return!this.node()}function _j(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],a=0,l=s.length,u;a<l;++a)(u=s[a])&&e.call(u,u.__data__,a,s);return this}function kj(e){return function(){this.removeAttribute(e)}}function Ej(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nj(e,t){return function(){this.setAttribute(e,t)}}function Pj(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Tj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Rj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jj(e,t){var n=Fd(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Ej:kj:typeof t=="function"?n.local?Rj:Tj:n.local?Pj:Nj)(n,t))}function L1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ij(e){return function(){this.style.removeProperty(e)}}function Aj(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Mj(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Dj(e,t,n){return arguments.length>1?this.each((t==null?Ij:typeof t=="function"?Mj:Aj)(e,t,n??"")):zi(this.node(),e)}function zi(e,t){return e.style.getPropertyValue(t)||L1(e).getComputedStyle(e,null).getPropertyValue(t)}function Oj(e){return function(){delete this[e]}}function Lj(e,t){return function(){this[e]=t}}function $j(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Fj(e,t){return arguments.length>1?this.each((t==null?Oj:typeof t=="function"?$j:Lj)(e,t)):this.node()[e]}function $1(e){return e.trim().split(/^|\s+/)}function Ig(e){return e.classList||new F1(e)}function F1(e){this._node=e,this._names=$1(e.getAttribute("class")||"")}F1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z1(e,t){for(var n=Ig(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function H1(e,t){for(var n=Ig(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function zj(e){return function(){z1(this,e)}}function Hj(e){return function(){H1(this,e)}}function Bj(e,t){return function(){(t.apply(this,arguments)?z1:H1)(this,e)}}function Wj(e,t){var n=$1(e+"");if(arguments.length<2){for(var o=Ig(this.node()),s=-1,a=n.length;++s<a;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Bj:t?zj:Hj)(n,t))}function Vj(){this.textContent=""}function Uj(e){return function(){this.textContent=e}}function qj(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kj(e){return arguments.length?this.each(e==null?Vj:(typeof e=="function"?qj:Uj)(e)):this.node().textContent}function Gj(){this.innerHTML=""}function Yj(e){return function(){this.innerHTML=e}}function Qj(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xj(e){return arguments.length?this.each(e==null?Gj:(typeof e=="function"?Qj:Yj)(e)):this.node().innerHTML}function Jj(){this.nextSibling&&this.parentNode.appendChild(this)}function Zj(){return this.each(Jj)}function eI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tI(){return this.each(eI)}function nI(e){var t=typeof e=="function"?e:I1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rI(){return null}function oI(e,t){var n=typeof e=="function"?e:I1(e),o=t==null?rI:typeof t=="function"?t:jg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function sI(){var e=this.parentNode;e&&e.removeChild(this)}function iI(){return this.each(sI)}function aI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cI(e){return this.select(e?lI:aI)}function uI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dI(e){return function(t){e.call(this,t,this.__data__)}}function fI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function hI(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++o]=a;++o?t.length=o:delete this.__on}}}function pI(e,t,n){return function(){var o=this.__on,s,a=dI(t);if(o){for(var l=0,u=o.length;l<u;++l)if((s=o[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function mI(e,t,n){var o=fI(e+""),s,a=o.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,h=u.length,m;d<h;++d)for(s=0,m=u[d];s<a;++s)if((l=o[s]).type===m.type&&l.name===m.name)return m.value}return}for(u=t?pI:hI,s=0;s<a;++s)this.each(u(o[s],t,n));return this}function B1(e,t,n){var o=L1(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function gI(e,t){return function(){return B1(this,e,t)}}function yI(e,t){return function(){return B1(this,e,t.apply(this,arguments))}}function vI(e,t){return this.each((typeof t=="function"?yI:gI)(e,t))}function*xI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,a=o.length,l;s<a;++s)(l=o[s])&&(yield l)}var W1=[null];function cn(e,t){this._groups=e,this._parents=t}function ql(){return new cn([[document.documentElement]],W1)}function wI(){return this}cn.prototype=ql.prototype={constructor:cn,select:qR,selectAll:QR,selectChild:ej,selectChildren:oj,filter:sj,data:dj,enter:ij,exit:hj,join:pj,merge:mj,selection:wI,order:gj,sort:yj,call:xj,nodes:wj,node:bj,size:Sj,empty:Cj,each:_j,attr:jj,style:Dj,property:Fj,classed:Wj,text:Kj,html:Xj,raise:Zj,lower:tI,append:nI,insert:oI,remove:iI,clone:cI,datum:uI,on:mI,dispatch:vI,[Symbol.iterator]:xI};function on(e){return typeof e=="string"?new cn([[document.querySelector(e)]],[document.documentElement]):new cn([[e]],W1)}function bI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function In(e,t){if(e=bI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const SI={passive:!1},yl={capture:!0,passive:!1};function kp(e){e.stopImmediatePropagation()}function Si(e){e.preventDefault(),e.stopImmediatePropagation()}function V1(e){var t=e.document.documentElement,n=on(e).on("dragstart.drag",Si,yl);"onselectstart"in t?n.on("selectstart.drag",Si,yl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function U1(e,t){var n=e.document.documentElement,o=on(e).on("dragstart.drag",null);t&&(o.on("click.drag",Si,yl),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Eu=e=>()=>e;function ym(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:a,x:l,y:u,dx:d,dy:h,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:m}})}ym.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function CI(e){return!e.ctrlKey&&!e.button}function _I(){return this.parentNode}function kI(e,t){return t??{x:e.x,y:e.y}}function EI(){return navigator.maxTouchPoints||"ontouchstart"in this}function q1(){var e=CI,t=_I,n=kI,o=EI,s={},a=$d("start","drag","end"),l=0,u,d,h,m,g=0;function v(P){P.on("mousedown.drag",w).filter(o).on("touchstart.drag",k).on("touchmove.drag",E,SI).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(P,I){if(!(m||!e.call(this,P,I))){var A=_(this,t.call(this,P,I),P,I,"mouse");A&&(on(P.view).on("mousemove.drag",b,yl).on("mouseup.drag",C,yl),V1(P.view),kp(P),h=!1,u=P.clientX,d=P.clientY,A("start",P))}}function b(P){if(Si(P),!h){var I=P.clientX-u,A=P.clientY-d;h=I*I+A*A>g}s.mouse("drag",P)}function C(P){on(P.view).on("mousemove.drag mouseup.drag",null),U1(P.view,h),Si(P),s.mouse("end",P)}function k(P,I){if(e.call(this,P,I)){var A=P.changedTouches,R=t.call(this,P,I),O=A.length,H,K;for(H=0;H<O;++H)(K=_(this,R,P,I,A[H].identifier,A[H]))&&(kp(P),K("start",P,A[H]))}}function E(P){var I=P.changedTouches,A=I.length,R,O;for(R=0;R<A;++R)(O=s[I[R].identifier])&&(Si(P),O("drag",P,I[R]))}function N(P){var I=P.changedTouches,A=I.length,R,O;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<A;++R)(O=s[I[R].identifier])&&(kp(P),O("end",P,I[R]))}function _(P,I,A,R,O,H){var K=a.copy(),M=In(H||A,I),U,J,L;if((L=n.call(P,new ym("beforestart",{sourceEvent:A,target:v,identifier:O,active:l,x:M[0],y:M[1],dx:0,dy:0,dispatch:K}),R))!=null)return U=L.x-M[0]||0,J=L.y-M[1]||0,function Q(z,q,j){var F=M,G;switch(z){case"start":s[O]=Q,G=l++;break;case"end":delete s[O],--l;case"drag":M=In(j||q,I),G=l;break}K.call(z,P,new ym(z,{sourceEvent:q,subject:L,target:v,identifier:O,active:G,x:M[0]+U,y:M[1]+J,dx:M[0]-F[0],dy:M[1]-F[1],dispatch:K}),R)}}return v.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Eu(!!P),v):e},v.container=function(P){return arguments.length?(t=typeof P=="function"?P:Eu(P),v):t},v.subject=function(P){return arguments.length?(n=typeof P=="function"?P:Eu(P),v):n},v.touchable=function(P){return arguments.length?(o=typeof P=="function"?P:Eu(!!P),v):o},v.on=function(){var P=a.on.apply(a,arguments);return P===a?v:P},v.clickDistance=function(P){return arguments.length?(g=(P=+P)*P,v):Math.sqrt(g)},v}function Ag(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function K1(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Kl(){}var vl=.7,cd=1/vl,Ci="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NI=/^#([0-9a-f]{3,8})$/,PI=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),TI=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),RI=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${xl}\\)$`),jI=new RegExp(`^rgba\\(${sr},${sr},${sr},${xl}\\)$`),II=new RegExp(`^hsl\\(${xl},${sr},${sr}\\)$`),AI=new RegExp(`^hsla\\(${xl},${sr},${sr},${xl}\\)$`),Dx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ag(Kl,Es,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ox,formatHex:Ox,formatHex8:MI,formatHsl:DI,formatRgb:Lx,toString:Lx});function Ox(){return this.rgb().formatHex()}function MI(){return this.rgb().formatHex8()}function DI(){return G1(this).formatHsl()}function Lx(){return this.rgb().formatRgb()}function Es(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$x(t):n===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PI.exec(e))?new Gt(t[1],t[2],t[3],1):(t=TI.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RI.exec(e))?Nu(t[1],t[2],t[3],t[4]):(t=jI.exec(e))?Nu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=II.exec(e))?Hx(t[1],t[2]/100,t[3]/100,1):(t=AI.exec(e))?Hx(t[1],t[2]/100,t[3]/100,t[4]):Dx.hasOwnProperty(e)?$x(Dx[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function $x(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function Nu(e,t,n,o){return o<=0&&(e=t=n=NaN),new Gt(e,t,n,o)}function OI(e){return e instanceof Kl||(e=Es(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function vm(e,t,n,o){return arguments.length===1?OI(e):new Gt(e,t,n,o??1)}function Gt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ag(Gt,vm,K1(Kl,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vl:Math.pow(vl,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(xs(this.r),xs(this.g),xs(this.b),ud(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fx,formatHex:Fx,formatHex8:LI,formatRgb:zx,toString:zx}));function Fx(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}`}function LI(){return`#${ls(this.r)}${ls(this.g)}${ls(this.b)}${ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function zx(){const e=ud(this.opacity);return`${e===1?"rgb(":"rgba("}${xs(this.r)}, ${xs(this.g)}, ${xs(this.b)}${e===1?")":`, ${e})`}`}function ud(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ls(e){return e=xs(e),(e<16?"0":"")+e.toString(16)}function Hx(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,o)}function G1(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Kl||(e=Es(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),a=Math.max(t,n,o),l=NaN,u=a-s,d=(a+s)/2;return u?(t===a?l=(n-o)/u+(n<o)*6:n===a?l=(o-t)/u+2:l=(t-n)/u+4,u/=d<.5?a+s:2-a-s,l*=60):u=d>0&&d<1?0:l,new Mn(l,u,d,e.opacity)}function $I(e,t,n,o){return arguments.length===1?G1(e):new Mn(e,t,n,o??1)}function Mn(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ag(Mn,$I,K1(Kl,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vl:Math.pow(vl,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,s=2*n-o;return new Gt(Ep(e>=240?e-240:e+120,s,o),Ep(e,s,o),Ep(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new Mn(Bx(this.h),Pu(this.s),Pu(this.l),ud(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ud(this.opacity);return`${e===1?"hsl(":"hsla("}${Bx(this.h)}, ${Pu(this.s)*100}%, ${Pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bx(e){return e=(e||0)%360,e<0?e+360:e}function Pu(e){return Math.max(0,Math.min(1,e||0))}function Ep(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Mg=e=>()=>e;function FI(e,t){return function(n){return e+n*t}}function zI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function HI(e){return(e=+e)==1?Y1:function(t,n){return n-t?zI(t,n,e):Mg(isNaN(t)?n:t)}}function Y1(e,t){var n=t-e;return n?FI(e,n):Mg(isNaN(e)?t:e)}const dd=(function e(t){var n=HI(t);function o(s,a){var l=n((s=vm(s)).r,(a=vm(a)).r),u=n(s.g,a.g),d=n(s.b,a.b),h=Y1(s.opacity,a.opacity);return function(m){return s.r=l(m),s.g=u(m),s.b=d(m),s.opacity=h(m),s+""}}return o.gamma=e,o})(1);function BI(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),s;return function(a){for(s=0;s<n;++s)o[s]=e[s]*(1-a)+t[s]*a;return o}}function WI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VI(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,s=new Array(o),a=new Array(n),l;for(l=0;l<o;++l)s[l]=ul(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<o;++l)a[l]=s[l](u);return a}}function UI(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function nr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qI(e,t){var n={},o={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=ul(e[s],t[s]):o[s]=t[s];return function(a){for(s in n)o[s]=n[s](a);return o}}var xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Np=new RegExp(xm.source,"g");function KI(e){return function(){return e}}function GI(e){return function(t){return e(t)+""}}function Q1(e,t){var n=xm.lastIndex=Np.lastIndex=0,o,s,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(o=xm.exec(e))&&(s=Np.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(o=o[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:nr(o,s)})),n=Np.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?GI(d[0].x):KI(t):(t=d.length,function(h){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(h);return u.join("")})}function ul(e,t){var n=typeof t,o;return t==null||n==="boolean"?Mg(t):(n==="number"?nr:n==="string"?(o=Es(t))?(t=o,dd):Q1:t instanceof Es?dd:t instanceof Date?UI:WI(t)?BI:Array.isArray(t)?VI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qI:nr)(e,t)}var Wx=180/Math.PI,wm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X1(e,t,n,o,s,a){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*o)&&(n-=e*d,o-=t*d),(u=Math.sqrt(n*n+o*o))&&(n/=u,o/=u,d/=u),e*o<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*Wx,skewX:Math.atan(d)*Wx,scaleX:l,scaleY:u}}var Tu;function YI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wm:X1(t.a,t.b,t.c,t.d,t.e,t.f)}function QI(e){return e==null||(Tu||(Tu=document.createElementNS("http://www.w3.org/2000/svg","g")),Tu.setAttribute("transform",e),!(e=Tu.transform.baseVal.consolidate()))?wm:(e=e.matrix,X1(e.a,e.b,e.c,e.d,e.e,e.f))}function J1(e,t,n,o){function s(h){return h.length?h.pop()+" ":""}function a(h,m,g,v,w,b){if(h!==g||m!==v){var C=w.push("translate(",null,t,null,n);b.push({i:C-4,x:nr(h,g)},{i:C-2,x:nr(m,v)})}else(g||v)&&w.push("translate("+g+t+v+n)}function l(h,m,g,v){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),v.push({i:g.push(s(g)+"rotate(",null,o)-2,x:nr(h,m)})):m&&g.push(s(g)+"rotate("+m+o)}function u(h,m,g,v){h!==m?v.push({i:g.push(s(g)+"skewX(",null,o)-2,x:nr(h,m)}):m&&g.push(s(g)+"skewX("+m+o)}function d(h,m,g,v,w,b){if(h!==g||m!==v){var C=w.push(s(w)+"scale(",null,",",null,")");b.push({i:C-4,x:nr(h,g)},{i:C-2,x:nr(m,v)})}else(g!==1||v!==1)&&w.push(s(w)+"scale("+g+","+v+")")}return function(h,m){var g=[],v=[];return h=e(h),m=e(m),a(h.translateX,h.translateY,m.translateX,m.translateY,g,v),l(h.rotate,m.rotate,g,v),u(h.skewX,m.skewX,g,v),d(h.scaleX,h.scaleY,m.scaleX,m.scaleY,g,v),h=m=null,function(w){for(var b=-1,C=v.length,k;++b<C;)g[(k=v[b]).i]=k.x(w);return g.join("")}}}var XI=J1(YI,"px, ","px)","deg)"),JI=J1(QI,", ",")",")"),ZI=1e-12;function Vx(e){return((e=Math.exp(e))+1/e)/2}function eA(e){return((e=Math.exp(e))-1/e)/2}function tA(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yu=(function e(t,n,o){function s(a,l){var u=a[0],d=a[1],h=a[2],m=l[0],g=l[1],v=l[2],w=m-u,b=g-d,C=w*w+b*b,k,E;if(C<ZI)E=Math.log(v/h)/t,k=function(R){return[u+R*w,d+R*b,h*Math.exp(t*R*E)]};else{var N=Math.sqrt(C),_=(v*v-h*h+o*C)/(2*h*n*N),P=(v*v-h*h-o*C)/(2*v*n*N),I=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(P*P+1)-P);E=(A-I)/t,k=function(R){var O=R*E,H=Vx(I),K=h/(n*N)*(H*tA(t*O+I)-eA(I));return[u+K*w,d+K*b,h*H/Vx(t*O+I)]}}return k.duration=E*1e3*t/Math.SQRT2,k}return s.rho=function(a){var l=Math.max(.001,+a),u=l*l,d=u*u;return e(l,u,d)},s})(Math.SQRT2,2,4);var Hi=0,sl=0,tl=0,Z1=1e3,fd,il,hd=0,Ns=0,zd=0,wl=typeof performance=="object"&&performance.now?performance:Date,eS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dg(){return Ns||(eS(nA),Ns=wl.now()+zd)}function nA(){Ns=0}function pd(){this._call=this._time=this._next=null}pd.prototype=tS.prototype={constructor:pd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Dg():+n)+(t==null?0:+t),!this._next&&il!==this&&(il?il._next=this:fd=this,il=this),this._call=e,this._time=n,bm()},stop:function(){this._call&&(this._call=null,this._time=1/0,bm())}};function tS(e,t,n){var o=new pd;return o.restart(e,t,n),o}function rA(){Dg(),++Hi;for(var e=fd,t;e;)(t=Ns-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hi}function Ux(){Ns=(hd=wl.now())+zd,Hi=sl=0;try{rA()}finally{Hi=0,sA(),Ns=0}}function oA(){var e=wl.now(),t=e-hd;t>Z1&&(zd-=t,hd=e)}function sA(){for(var e,t=fd,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fd=n);il=e,bm(o)}function bm(e){if(!Hi){sl&&(sl=clearTimeout(sl));var t=e-Ns;t>24?(e<1/0&&(sl=setTimeout(Ux,e-wl.now()-zd)),tl&&(tl=clearInterval(tl))):(tl||(hd=wl.now(),tl=setInterval(oA,Z1)),Hi=1,eS(Ux))}}function qx(e,t,n){var o=new pd;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var iA=$d("start","end","cancel","interrupt"),aA=[],nS=0,Kx=1,Sm=2,Qu=3,Gx=4,Cm=5,Xu=6;function Hd(e,t,n,o,s,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;lA(e,n,{name:t,index:o,group:s,on:iA,tween:aA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:nS})}function Og(e,t){var n=Vn(e,t);if(n.state>nS)throw new Error("too late; already scheduled");return n}function dr(e,t){var n=Vn(e,t);if(n.state>Qu)throw new Error("too late; already running");return n}function Vn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lA(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=tS(a,0,n.time);function a(h){n.state=Kx,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var m,g,v,w;if(n.state!==Kx)return d();for(m in o)if(w=o[m],w.name===n.name){if(w.state===Qu)return qx(l);w.state===Gx?(w.state=Xu,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete o[m]):+m<t&&(w.state=Xu,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete o[m])}if(qx(function(){n.state===Qu&&(n.state=Gx,n.timer.restart(u,n.delay,n.time),u(h))}),n.state=Sm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sm){for(n.state=Qu,s=new Array(v=n.tween.length),m=0,g=-1;m<v;++m)(w=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(s[++g]=w);s.length=g+1}}function u(h){for(var m=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(d),n.state=Cm,1),g=-1,v=s.length;++g<v;)s[g].call(e,m);n.state===Cm&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Xu,n.timer.stop(),delete o[t];for(var h in o)return;delete e.__transition}}function Ju(e,t){var n=e.__transition,o,s,a=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((o=n[l]).name!==t){a=!1;continue}s=o.state>Sm&&o.state<Cm,o.state=Xu,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[l]}a&&delete e.__transition}}function cA(e){return this.each(function(){Ju(this,e)})}function uA(e,t){var n,o;return function(){var s=dr(this,e),a=s.tween;if(a!==n){o=n=a;for(var l=0,u=o.length;l<u;++l)if(o[l].name===t){o=o.slice(),o.splice(l,1);break}}s.tween=o}}function dA(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var a=dr(this,e),l=a.tween;if(l!==o){s=(o=l).slice();for(var u={name:t,value:n},d=0,h=s.length;d<h;++d)if(s[d].name===t){s[d]=u;break}d===h&&s.push(u)}a.tween=s}}function fA(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Vn(this.node(),n).tween,s=0,a=o.length,l;s<a;++s)if((l=o[s]).name===e)return l.value;return null}return this.each((t==null?uA:dA)(n,e,t))}function Lg(e,t,n){var o=e._id;return e.each(function(){var s=dr(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Vn(s,o).value[t]}}function rS(e,t){var n;return(typeof t=="number"?nr:t instanceof Es?dd:(n=Es(t))?(t=n,dd):Q1)(e,t)}function hA(e){return function(){this.removeAttribute(e)}}function pA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mA(e,t,n){var o,s=n+"",a;return function(){var l=this.getAttribute(e);return l===s?null:l===o?a:a=t(o=l,n)}}function gA(e,t,n){var o,s=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===o?a:a=t(o=l,n)}}function yA(e,t,n){var o,s,a;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===o&&d===s?a:(s=d,a=t(o=l,u)))}}function vA(e,t,n){var o,s,a;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===o&&d===s?a:(s=d,a=t(o=l,u)))}}function xA(e,t){var n=Fd(e),o=n==="transform"?JI:rS;return this.attrTween(e,typeof t=="function"?(n.local?vA:yA)(n,o,Lg(this,"attr."+e,t)):t==null?(n.local?pA:hA)(n):(n.local?gA:mA)(n,o,t))}function wA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function SA(e,t){var n,o;function s(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&bA(e,a)),n}return s._value=t,s}function CA(e,t){var n,o;function s(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&wA(e,a)),n}return s._value=t,s}function _A(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Fd(e);return this.tween(n,(o.local?SA:CA)(o,t))}function kA(e,t){return function(){Og(this,e).delay=+t.apply(this,arguments)}}function EA(e,t){return t=+t,function(){Og(this,e).delay=t}}function NA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kA:EA)(t,e)):Vn(this.node(),t).delay}function PA(e,t){return function(){dr(this,e).duration=+t.apply(this,arguments)}}function TA(e,t){return t=+t,function(){dr(this,e).duration=t}}function RA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PA:TA)(t,e)):Vn(this.node(),t).duration}function jA(e,t){if(typeof t!="function")throw new Error;return function(){dr(this,e).ease=t}}function IA(e){var t=this._id;return arguments.length?this.each(jA(t,e)):Vn(this.node(),t).ease}function AA(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dr(this,e).ease=n}}function MA(e){if(typeof e!="function")throw new Error;return this.each(AA(this._id,e))}function DA(e){typeof e!="function"&&(e=M1(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],l=a.length,u=o[s]=[],d,h=0;h<l;++h)(d=a[h])&&e.call(d,d.__data__,h,a)&&u.push(d);return new Br(o,this._parents,this._name,this._id)}function OA(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,a=Math.min(o,s),l=new Array(o),u=0;u<a;++u)for(var d=t[u],h=n[u],m=d.length,g=l[u]=new Array(m),v,w=0;w<m;++w)(v=d[w]||h[w])&&(g[w]=v);for(;u<o;++u)l[u]=t[u];return new Br(l,this._parents,this._name,this._id)}function LA(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $A(e,t,n){var o,s,a=LA(t)?Og:dr;return function(){var l=a(this,e),u=l.on;u!==o&&(s=(o=u).copy()).on(t,n),l.on=s}}function FA(e,t){var n=this._id;return arguments.length<2?Vn(this.node(),n).on.on(e):this.each($A(n,e,t))}function zA(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HA(){return this.on("end.remove",zA(this._id))}function BA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jg(e));for(var o=this._groups,s=o.length,a=new Array(s),l=0;l<s;++l)for(var u=o[l],d=u.length,h=a[l]=new Array(d),m,g,v=0;v<d;++v)(m=u[v])&&(g=e.call(m,m.__data__,v,u))&&("__data__"in m&&(g.__data__=m.__data__),h[v]=g,Hd(h[v],t,n,v,h,Vn(m,n)));return new Br(a,this._parents,t,n)}function WA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=A1(e));for(var o=this._groups,s=o.length,a=[],l=[],u=0;u<s;++u)for(var d=o[u],h=d.length,m,g=0;g<h;++g)if(m=d[g]){for(var v=e.call(m,m.__data__,g,d),w,b=Vn(m,n),C=0,k=v.length;C<k;++C)(w=v[C])&&Hd(w,t,n,C,v,b);a.push(v),l.push(m)}return new Br(a,l,t,n)}var VA=ql.prototype.constructor;function UA(){return new VA(this._groups,this._parents)}function qA(e,t){var n,o,s;return function(){var a=zi(this,e),l=(this.style.removeProperty(e),zi(this,e));return a===l?null:a===n&&l===o?s:s=t(n=a,o=l)}}function oS(e){return function(){this.style.removeProperty(e)}}function KA(e,t,n){var o,s=n+"",a;return function(){var l=zi(this,e);return l===s?null:l===o?a:a=t(o=l,n)}}function GA(e,t,n){var o,s,a;return function(){var l=zi(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),zi(this,e))),l===d?null:l===o&&d===s?a:(s=d,a=t(o=l,u))}}function YA(e,t){var n,o,s,a="style."+t,l="end."+a,u;return function(){var d=dr(this,e),h=d.on,m=d.value[a]==null?u||(u=oS(t)):void 0;(h!==n||s!==m)&&(o=(n=h).copy()).on(l,s=m),d.on=o}}function QA(e,t,n){var o=(e+="")=="transform"?XI:rS;return t==null?this.styleTween(e,qA(e,o)).on("end.style."+e,oS(e)):typeof t=="function"?this.styleTween(e,GA(e,o,Lg(this,"style."+e,t))).each(YA(this._id,e)):this.styleTween(e,KA(e,o,t),n).on("end.style."+e,null)}function XA(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function JA(e,t,n){var o,s;function a(){var l=t.apply(this,arguments);return l!==s&&(o=(s=l)&&XA(e,l,n)),o}return a._value=t,a}function ZA(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,JA(e,t,n??""))}function eM(e){return function(){this.textContent=e}}function tM(e){return function(){var t=e(this);this.textContent=t??""}}function nM(e){return this.tween("text",typeof e=="function"?tM(Lg(this,"text",e)):eM(e==null?"":e+""))}function rM(e){return function(t){this.textContent=e.call(this,t)}}function oM(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&rM(s)),t}return o._value=e,o}function sM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,oM(e))}function iM(){for(var e=this._name,t=this._id,n=sS(),o=this._groups,s=o.length,a=0;a<s;++a)for(var l=o[a],u=l.length,d,h=0;h<u;++h)if(d=l[h]){var m=Vn(d,t);Hd(d,e,n,h,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Br(o,this._parents,e,n)}function aM(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(a,l){var u={value:l},d={value:function(){--s===0&&a()}};n.each(function(){var h=dr(this,o),m=h.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),h.on=t}),s===0&&a()})}var lM=0;function Br(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function sS(){return++lM}var Nr=ql.prototype;Br.prototype={constructor:Br,select:BA,selectAll:WA,selectChild:Nr.selectChild,selectChildren:Nr.selectChildren,filter:DA,merge:OA,selection:UA,transition:iM,call:Nr.call,nodes:Nr.nodes,node:Nr.node,size:Nr.size,empty:Nr.empty,each:Nr.each,on:FA,attr:xA,attrTween:_A,style:QA,styleTween:ZA,text:nM,textTween:sM,remove:HA,tween:fA,delay:NA,duration:RA,ease:IA,easeVarying:MA,end:aM,[Symbol.iterator]:Nr[Symbol.iterator]};function cM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uM={time:null,delay:0,duration:250,ease:cM};function dM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fM(e){var t,n;e instanceof Br?(t=e._id,e=e._name):(t=sS(),(n=uM).time=Dg(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,a=0;a<s;++a)for(var l=o[a],u=l.length,d,h=0;h<u;++h)(d=l[h])&&Hd(d,e,t,h,l,n||dM(d,t));return new Br(o,this._parents,e,t)}ql.prototype.interrupt=cA;ql.prototype.transition=fM;const Ru=e=>()=>e;function hM(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Lr(e,t,n){this.k=e,this.x=t,this.y=n}Lr.prototype={constructor:Lr,scale:function(e){return e===1?this:new Lr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Lr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bd=new Lr(1,0,0);iS.prototype=Lr.prototype;function iS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Bd;return e.__zoom}function Pp(e){e.stopImmediatePropagation()}function nl(e){e.preventDefault(),e.stopImmediatePropagation()}function pM(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yx(){return this.__zoom||Bd}function gM(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yM(){return navigator.maxTouchPoints||"ontouchstart"in this}function vM(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function aS(){var e=pM,t=mM,n=vM,o=gM,s=yM,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Yu,h=$d("start","zoom","end"),m,g,v,w=500,b=150,C=0,k=10;function E(L){L.property("__zoom",Yx).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",K).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(L,Q,z,q){var j=L.selection?L.selection():L;j.property("__zoom",Yx),L!==j?I(L,Q,z,q):j.interrupt().each(function(){A(this,arguments).event(q).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},E.scaleBy=function(L,Q,z,q){E.scaleTo(L,function(){var j=this.__zoom.k,F=typeof Q=="function"?Q.apply(this,arguments):Q;return j*F},z,q)},E.scaleTo=function(L,Q,z,q){E.transform(L,function(){var j=t.apply(this,arguments),F=this.__zoom,G=z==null?P(j):typeof z=="function"?z.apply(this,arguments):z,D=F.invert(G),V=typeof Q=="function"?Q.apply(this,arguments):Q;return n(_(N(F,V),G,D),j,l)},z,q)},E.translateBy=function(L,Q,z,q){E.transform(L,function(){return n(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),l)},null,q)},E.translateTo=function(L,Q,z,q,j){E.transform(L,function(){var F=t.apply(this,arguments),G=this.__zoom,D=q==null?P(F):typeof q=="function"?q.apply(this,arguments):q;return n(Bd.translate(D[0],D[1]).scale(G.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof z=="function"?-z.apply(this,arguments):-z),F,l)},q,j)};function N(L,Q){return Q=Math.max(a[0],Math.min(a[1],Q)),Q===L.k?L:new Lr(Q,L.x,L.y)}function _(L,Q,z){var q=Q[0]-z[0]*L.k,j=Q[1]-z[1]*L.k;return q===L.x&&j===L.y?L:new Lr(L.k,q,j)}function P(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function I(L,Q,z,q){L.on("start.zoom",function(){A(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(q).end()}).tween("zoom",function(){var j=this,F=arguments,G=A(j,F).event(q),D=t.apply(j,F),V=z==null?P(D):typeof z=="function"?z.apply(j,F):z,oe=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),re=j.__zoom,ce=typeof Q=="function"?Q.apply(j,F):Q,de=d(re.invert(V).concat(oe/re.k),ce.invert(V).concat(oe/ce.k));return function(te){if(te===1)te=ce;else{var ne=de(te),le=oe/ne[2];te=new Lr(le,V[0]-ne[0]*le,V[1]-ne[1]*le)}G.zoom(null,te)}})}function A(L,Q,z){return!z&&L.__zooming||new R(L,Q)}function R(L,Q){this.that=L,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,Q),this.taps=0}R.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,Q){return this.mouse&&L!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var Q=on(this.that).datum();h.call(L,this.that,new hM(L,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:h}),Q)}};function O(L,...Q){if(!e.apply(this,arguments))return;var z=A(this,Q).event(L),q=this.__zoom,j=Math.max(a[0],Math.min(a[1],q.k*Math.pow(2,o.apply(this,arguments)))),F=In(L);if(z.wheel)(z.mouse[0][0]!==F[0]||z.mouse[0][1]!==F[1])&&(z.mouse[1]=q.invert(z.mouse[0]=F)),clearTimeout(z.wheel);else{if(q.k===j)return;z.mouse=[F,q.invert(F)],Ju(this),z.start()}nl(L),z.wheel=setTimeout(G,b),z.zoom("mouse",n(_(N(q,j),z.mouse[0],z.mouse[1]),z.extent,l));function G(){z.wheel=null,z.end()}}function H(L,...Q){if(v||!e.apply(this,arguments))return;var z=L.currentTarget,q=A(this,Q,!0).event(L),j=on(L.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",oe,!0),F=In(L,z),G=L.clientX,D=L.clientY;V1(L.view),Pp(L),q.mouse=[F,this.__zoom.invert(F)],Ju(this),q.start();function V(re){if(nl(re),!q.moved){var ce=re.clientX-G,de=re.clientY-D;q.moved=ce*ce+de*de>C}q.event(re).zoom("mouse",n(_(q.that.__zoom,q.mouse[0]=In(re,z),q.mouse[1]),q.extent,l))}function oe(re){j.on("mousemove.zoom mouseup.zoom",null),U1(re.view,q.moved),nl(re),q.event(re).end()}}function K(L,...Q){if(e.apply(this,arguments)){var z=this.__zoom,q=In(L.changedTouches?L.changedTouches[0]:L,this),j=z.invert(q),F=z.k*(L.shiftKey?.5:2),G=n(_(N(z,F),q,j),t.apply(this,Q),l);nl(L),u>0?on(this).transition().duration(u).call(I,G,q,L):on(this).call(E.transform,G,q,L)}}function M(L,...Q){if(e.apply(this,arguments)){var z=L.touches,q=z.length,j=A(this,Q,L.changedTouches.length===q).event(L),F,G,D,V;for(Pp(L),G=0;G<q;++G)D=z[G],V=In(D,this),V=[V,this.__zoom.invert(V),D.identifier],j.touch0?!j.touch1&&j.touch0[2]!==V[2]&&(j.touch1=V,j.taps=0):(j.touch0=V,F=!0,j.taps=1+!!m);m&&(m=clearTimeout(m)),F&&(j.taps<2&&(g=V[0],m=setTimeout(function(){m=null},w)),Ju(this),j.start())}}function U(L,...Q){if(this.__zooming){var z=A(this,Q).event(L),q=L.changedTouches,j=q.length,F,G,D,V;for(nl(L),F=0;F<j;++F)G=q[F],D=In(G,this),z.touch0&&z.touch0[2]===G.identifier?z.touch0[0]=D:z.touch1&&z.touch1[2]===G.identifier&&(z.touch1[0]=D);if(G=z.that.__zoom,z.touch1){var oe=z.touch0[0],re=z.touch0[1],ce=z.touch1[0],de=z.touch1[1],te=(te=ce[0]-oe[0])*te+(te=ce[1]-oe[1])*te,ne=(ne=de[0]-re[0])*ne+(ne=de[1]-re[1])*ne;G=N(G,Math.sqrt(te/ne)),D=[(oe[0]+ce[0])/2,(oe[1]+ce[1])/2],V=[(re[0]+de[0])/2,(re[1]+de[1])/2]}else if(z.touch0)D=z.touch0[0],V=z.touch0[1];else return;z.zoom("touch",n(_(G,D,V),z.extent,l))}}function J(L,...Q){if(this.__zooming){var z=A(this,Q).event(L),q=L.changedTouches,j=q.length,F,G;for(Pp(L),v&&clearTimeout(v),v=setTimeout(function(){v=null},w),F=0;F<j;++F)G=q[F],z.touch0&&z.touch0[2]===G.identifier?delete z.touch0:z.touch1&&z.touch1[2]===G.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(G=In(G,this),Math.hypot(g[0]-G[0],g[1]-G[1])<k)){var D=on(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return E.wheelDelta=function(L){return arguments.length?(o=typeof L=="function"?L:Ru(+L),E):o},E.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Ru(!!L),E):e},E.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:Ru(!!L),E):s},E.extent=function(L){return arguments.length?(t=typeof L=="function"?L:Ru([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),E):t},E.scaleExtent=function(L){return arguments.length?(a[0]=+L[0],a[1]=+L[1],E):[a[0],a[1]]},E.translateExtent=function(L){return arguments.length?(l[0][0]=+L[0][0],l[1][0]=+L[1][0],l[0][1]=+L[0][1],l[1][1]=+L[1][1],E):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},E.constrain=function(L){return arguments.length?(n=L,E):n},E.duration=function(L){return arguments.length?(u=+L,E):u},E.interpolate=function(L){return arguments.length?(d=L,E):d},E.on=function(){var L=h.on.apply(h,arguments);return L===h?E:L},E.clickDistance=function(L){return arguments.length?(C=(L=+L)*L,E):Math.sqrt(C)},E.tapDistance=function(L){return arguments.length?(k=+L,E):k},E}const lr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lS=["Enter"," ","Escape"],cS={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Bi;(function(e){e.Strict="strict",e.Loose="loose"})(Bi||(Bi={}));var ws;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ws||(ws={}));var Sl;(function(e){e.Partial="partial",e.Full="full"})(Sl||(Sl={}));const uS={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Dr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dr||(Dr={}));var Cl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Cl||(Cl={}));var _e;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(_e||(_e={}));const Qx={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top};function dS(e){return e===null?null:e?"valid":"invalid"}const fS=e=>"id"in e&&"source"in e&&"target"in e,xM=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),$g=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Gl=(e,t=[0,0])=>{const{width:n,height:o}=qr(e),s=e.origin??t,a=n*s[0],l=o*s[1];return{x:e.position.x-a,y:e.position.y-l}},wM=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,s)=>{const a=typeof s=="string";let l=!t.nodeLookup&&!a?s:void 0;t.nodeLookup&&(l=a?t.nodeLookup.get(s):$g(s)?s:t.nodeLookup.get(s.id));const u=l?md(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Wd(o,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vd(n)},Yl=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Wd(n,md(s)),o=!0)}),o?Vd(n):{x:0,y:0,width:0,height:0}},Fg=(e,t,[n,o,s]=[0,0,1],a=!1,l=!1)=>{const u={...Xl(t,[n,o,s]),width:t.width/s,height:t.height/s},d=[];for(const h of e.values()){const{measured:m,selectable:g=!0,hidden:v=!1}=h;if(l&&!g||v)continue;const w=m.width??h.width??h.initialWidth??null,b=m.height??h.height??h.initialHeight??null,C=_l(u,Vi(h)),k=(w??0)*(b??0),E=a&&C>0;(!h.internals.handleBounds||E||C>=k||h.dragging)&&d.push(h)}return d},bM=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function SM(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!o||o.has(s.id))&&n.set(s.id,s)}),n}async function CM({nodes:e,width:t,height:n,panZoom:o,minZoom:s,maxZoom:a},l){if(e.size===0)return Promise.resolve(!0);const u=SM(e,l),d=Yl(u),h=zg(d,t,n,(l==null?void 0:l.minZoom)??s,(l==null?void 0:l.maxZoom)??a,(l==null?void 0:l.padding)??.1);return await o.setViewport(h,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function hS({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:s,onError:a}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:d,y:h}=u?u.internals.positionAbsolute:{x:0,y:0},m=l.origin??o;let g=l.extent||s;if(l.extent==="parent"&&!l.expandParent)if(!u)a==null||a("005",lr.error005());else{const w=u.measured.width,b=u.measured.height;w&&b&&(g=[[d,h],[d+w,h+b]])}else u&&Ui(l.extent)&&(g=[[l.extent[0][0]+d,l.extent[0][1]+h],[l.extent[1][0]+d,l.extent[1][1]+h]]);const v=Ui(g)?Ps(t,g,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(a==null||a("015",lr.error015())),{position:{x:v.x-d+(l.measured.width??0)*m[0],y:v.y-h+(l.measured.height??0)*m[1]},positionAbsolute:v}}async function _M({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:s}){const a=new Set(e.map(v=>v.id)),l=[];for(const v of n){if(v.deletable===!1)continue;const w=a.has(v.id),b=!w&&v.parentId&&l.find(C=>C.id===v.parentId);(w||b)&&l.push(v)}const u=new Set(t.map(v=>v.id)),d=o.filter(v=>v.deletable!==!1),m=bM(l,d);for(const v of d)u.has(v.id)&&!m.find(b=>b.id===v.id)&&m.push(v);if(!s)return{edges:m,nodes:l};const g=await s({nodes:l,edges:m});return typeof g=="boolean"?g?{edges:m,nodes:l}:{edges:[],nodes:[]}:g}const Wi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ps=(e={x:0,y:0},t,n)=>({x:Wi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Wi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function pS(e,t,n){const{width:o,height:s}=qr(n),{x:a,y:l}=n.internals.positionAbsolute;return Ps(e,[[a,l],[a+o,l+s]],t)}const Xx=(e,t,n)=>e<t?Wi(Math.abs(e-t),1,t)/t:e>n?-Wi(Math.abs(e-n),1,t)/t:0,mS=(e,t,n=15,o=40)=>{const s=Xx(e.x,o,t.width-o)*n,a=Xx(e.y,o,t.height-o)*n;return[s,a]},Wd=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_m=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Vd=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Vi=(e,t=[0,0])=>{var s,a;const{x:n,y:o}=$g(e)?e.internals.positionAbsolute:Gl(e,t);return{x:n,y:o,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},md=(e,t=[0,0])=>{var s,a;const{x:n,y:o}=$g(e)?e.internals.positionAbsolute:Gl(e,t);return{x:n,y:o,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:o+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},gS=(e,t)=>Vd(Wd(_m(e),_m(t))),_l=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Jx=e=>On(e.width)&&On(e.height)&&On(e.x)&&On(e.y),On=e=>!isNaN(e)&&isFinite(e),kM=(e,t)=>{},Ql=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Xl=({x:e,y:t},[n,o,s],a=!1,l=[1,1])=>{const u={x:(e-n)/s,y:(t-o)/s};return a?Ql(u,l):u},gd=({x:e,y:t},[n,o,s])=>({x:e*s+n,y:t*s+o});function pi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function EM(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=pi(e,n),s=pi(e,t);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof e=="object"){const o=pi(e.top??e.y??0,n),s=pi(e.bottom??e.y??0,n),a=pi(e.left??e.x??0,t),l=pi(e.right??e.x??0,t);return{top:o,right:l,bottom:s,left:a,x:a+l,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function NM(e,t,n,o,s,a){const{x:l,y:u}=gd(e,[t,n,o]),{x:d,y:h}=gd({x:e.x+e.width,y:e.y+e.height},[t,n,o]),m=s-d,g=a-h;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(m),bottom:Math.floor(g)}}const zg=(e,t,n,o,s,a)=>{const l=EM(a,t,n),u=(t-l.x)/e.width,d=(n-l.y)/e.height,h=Math.min(u,d),m=Wi(h,o,s),g=e.x+e.width/2,v=e.y+e.height/2,w=t/2-g*m,b=n/2-v*m,C=NM(e,w,b,m,t,n),k={left:Math.min(C.left-l.left,0),top:Math.min(C.top-l.top,0),right:Math.min(C.right-l.right,0),bottom:Math.min(C.bottom-l.bottom,0)};return{x:w-k.left+k.right,y:b-k.top+k.bottom,zoom:m}},kl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ui(e){return e!=null&&e!=="parent"}function qr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function yS(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function vS(e,t={width:0,height:0},n,o,s){const a={...e},l=o.get(n);if(l){const u=l.origin||s;a.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],a.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return a}function Zx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function PM(){let e,t;return{promise:new Promise((o,s)=>{e=o,t=s}),resolve:e,reject:t}}function TM(e){return{...cS,...e||{}}}function dl(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:s}){const{x:a,y:l}=Ln(e),u=Xl({x:a-((s==null?void 0:s.left)??0),y:l-((s==null?void 0:s.top)??0)},o),{x:d,y:h}=n?Ql(u,t):u;return{xSnapped:d,ySnapped:h,...u}}const Hg=e=>({width:e.offsetWidth,height:e.offsetHeight}),xS=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},RM=["INPUT","SELECT","TEXTAREA"];function wS(e){var o,s;const t=((s=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:RM.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const bS=e=>"clientX"in e,Ln=(e,t)=>{var a,l;const n=bS(e),o=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,s=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},ew=(e,t,n,o,s)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:s,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/o,y:(u.top-n.top)/o,...Hg(l)}})};function SS({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u}){const d=e*.125+s*.375+l*.375+n*.125,h=t*.125+a*.375+u*.375+o*.125,m=Math.abs(d-e),g=Math.abs(h-t);return[d,h,m,g]}function ju(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function tw({pos:e,x1:t,y1:n,x2:o,y2:s,c:a}){switch(e){case _e.Left:return[t-ju(t-o,a),n];case _e.Right:return[t+ju(o-t,a),n];case _e.Top:return[t,n-ju(n-s,a)];case _e.Bottom:return[t,n+ju(s-n,a)]}}function CS({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:o,targetY:s,targetPosition:a=_e.Top,curvature:l=.25}){const[u,d]=tw({pos:n,x1:e,y1:t,x2:o,y2:s,c:l}),[h,m]=tw({pos:a,x1:o,y1:s,x2:e,y2:t,c:l}),[g,v,w,b]=SS({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:h,targetControlY:m});return[`M${e},${t} C${u},${d} ${h},${m} ${o},${s}`,g,v,w,b]}function _S({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,l=Math.abs(o-t)/2,u=o<t?o+l:o-l;return[a,u,s,l]}function jM({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:s=!1,zIndexMode:a="basic"}){if(a==="manual")return o;const l=s&&n?o+1e3:o,u=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return l+u}function IM({sourceNode:e,targetNode:t,width:n,height:o,transform:s}){const a=Wd(md(e),md(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const l={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:o/s[2]};return _l(l,Vd(a))>0}const AM=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,MM=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),kS=(e,t,n={})=>{if(!e.source||!e.target)return t;const o=n.getEdgeId||AM;let s;return fS(e)?s={...e}:s={...e,id:o(e)},MM(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function ES({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[s,a,l,u]=_S({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,s,a,l,u]}const nw={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},DM=({source:e,sourcePosition:t=_e.Bottom,target:n})=>t===_e.Left||t===_e.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},rw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function OM({source:e,sourcePosition:t=_e.Bottom,target:n,targetPosition:o=_e.Top,center:s,offset:a,stepPosition:l}){const u=nw[t],d=nw[o],h={x:e.x+u.x*a,y:e.y+u.y*a},m={x:n.x+d.x*a,y:n.y+d.y*a},g=DM({source:h,sourcePosition:t,target:m}),v=g.x!==0?"x":"y",w=g[v];let b=[],C,k;const E={x:0,y:0},N={x:0,y:0},[,,_,P]=_S({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[v]*d[v]===-1){v==="x"?(C=s.x??h.x+(m.x-h.x)*l,k=s.y??(h.y+m.y)/2):(C=s.x??(h.x+m.x)/2,k=s.y??h.y+(m.y-h.y)*l);const A=[{x:C,y:h.y},{x:C,y:m.y}],R=[{x:h.x,y:k},{x:m.x,y:k}];u[v]===w?b=v==="x"?A:R:b=v==="x"?R:A}else{const A=[{x:h.x,y:m.y}],R=[{x:m.x,y:h.y}];if(v==="x"?b=u.x===w?R:A:b=u.y===w?A:R,t===o){const U=Math.abs(e[v]-n[v]);if(U<=a){const J=Math.min(a-1,a-U);u[v]===w?E[v]=(h[v]>e[v]?-1:1)*J:N[v]=(m[v]>n[v]?-1:1)*J}}if(t!==o){const U=v==="x"?"y":"x",J=u[v]===d[U],L=h[U]>m[U],Q=h[U]<m[U];(u[v]===1&&(!J&&L||J&&Q)||u[v]!==1&&(!J&&Q||J&&L))&&(b=v==="x"?A:R)}const O={x:h.x+E.x,y:h.y+E.y},H={x:m.x+N.x,y:m.y+N.y},K=Math.max(Math.abs(O.x-b[0].x),Math.abs(H.x-b[0].x)),M=Math.max(Math.abs(O.y-b[0].y),Math.abs(H.y-b[0].y));K>=M?(C=(O.x+H.x)/2,k=b[0].y):(C=b[0].x,k=(O.y+H.y)/2)}return[[e,{x:h.x+E.x,y:h.y+E.y},...b,{x:m.x+N.x,y:m.y+N.y},n],C,k,_,P]}function LM(e,t,n,o){const s=Math.min(rw(e,t)/2,rw(t,n)/2,o),{x:a,y:l}=t;if(e.x===a&&a===n.x||e.y===l&&l===n.y)return`L${a} ${l}`;if(e.y===l){const h=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${a+s*h},${l}Q ${a},${l} ${a},${l+s*m}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${a},${l+s*d}Q ${a},${l} ${a+s*u},${l}`}function km({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:o,targetY:s,targetPosition:a=_e.Top,borderRadius:l=5,centerX:u,centerY:d,offset:h=20,stepPosition:m=.5}){const[g,v,w,b,C]=OM({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:s},targetPosition:a,center:{x:u,y:d},offset:h,stepPosition:m});return[g.reduce((E,N,_)=>{let P="";return _>0&&_<g.length-1?P=LM(g[_-1],N,g[_+1],l):P=`${_===0?"M":"L"}${N.x} ${N.y}`,E+=P,E},""),v,w,b,C]}function ow(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function $M(e){var g;const{sourceNode:t,targetNode:n}=e;if(!ow(t)||!ow(n))return null;const o=t.internals.handleBounds||sw(t.handles),s=n.internals.handleBounds||sw(n.handles),a=iw((o==null?void 0:o.source)??[],e.sourceHandle),l=iw(e.connectionMode===Bi.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!a||!l)return(g=e.onError)==null||g.call(e,"008",lr.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(a==null?void 0:a.position)||_e.Bottom,d=(l==null?void 0:l.position)||_e.Top,h=Ts(t,a,u),m=Ts(n,l,d);return{sourceX:h.x,sourceY:h.y,targetX:m.x,targetY:m.y,sourcePosition:u,targetPosition:d}}function sw(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function Ts(e,t,n=_e.Left,o=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,a=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??qr(e);if(o)return{x:s+l/2,y:a+u/2};switch((t==null?void 0:t.position)??n){case _e.Top:return{x:s+l/2,y:a};case _e.Right:return{x:s+l,y:a+u/2};case _e.Bottom:return{x:s+l/2,y:a+u};case _e.Left:return{x:s,y:a+u/2}}}function iw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Em(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function FM(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:s}){const a=new Set;return e.reduce((l,u)=>([u.markerStart||o,u.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const h=Em(d,t);a.has(h)||(l.push({id:h,color:d.color||n,...d}),a.add(h))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const NS=1e3,zM=10,Bg={nodeOrigin:[0,0],nodeExtent:bl,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},HM={...Bg,checkEquality:!0};function Wg(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function BM(e,t,n){const o=Wg(Bg,n);for(const s of e.values())if(s.parentId)Ug(s,e,t,o);else{const a=Gl(s,o.nodeOrigin),l=Ui(s.extent)?s.extent:o.nodeExtent,u=Ps(a,l,qr(s));s.internals.positionAbsolute=u}}function WM(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],o=[];for(const s of e.handles){const a={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(a):s.type==="target"&&o.push(a)}return{source:n,target:o}}function Vg(e){return e==="manual"}function Nm(e,t,n,o={}){var h,m;const s=Wg(HM,o),a={i:0},l=new Map(t),u=s!=null&&s.elevateNodesOnSelect&&!Vg(s.zIndexMode)?NS:0;let d=e.length>0;t.clear(),n.clear();for(const g of e){let v=l.get(g.id);if(s.checkEquality&&g===(v==null?void 0:v.internals.userNode))t.set(g.id,v);else{const w=Gl(g,s.nodeOrigin),b=Ui(g.extent)?g.extent:s.nodeExtent,C=Ps(w,b,qr(g));v={...s.defaults,...g,measured:{width:(h=g.measured)==null?void 0:h.width,height:(m=g.measured)==null?void 0:m.height},internals:{positionAbsolute:C,handleBounds:WM(g,v),z:PS(g,u,s.zIndexMode),userNode:g}},t.set(g.id,v)}(v.measured===void 0||v.measured.width===void 0||v.measured.height===void 0)&&!v.hidden&&(d=!1),g.parentId&&Ug(v,t,n,o,a)}return d}function VM(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ug(e,t,n,o,s){const{elevateNodesOnSelect:a,nodeOrigin:l,nodeExtent:u,zIndexMode:d}=Wg(Bg,o),h=e.parentId,m=t.get(h);if(!m){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}VM(e,n),s&&!m.parentId&&m.internals.rootParentIndex===void 0&&d==="auto"&&(m.internals.rootParentIndex=++s.i,m.internals.z=m.internals.z+s.i*zM),s&&m.internals.rootParentIndex!==void 0&&(s.i=m.internals.rootParentIndex);const g=a&&!Vg(d)?NS:0,{x:v,y:w,z:b}=UM(e,m,l,u,g,d),{positionAbsolute:C}=e.internals,k=v!==C.x||w!==C.y;(k||b!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:k?{x:v,y:w}:C,z:b}})}function PS(e,t,n){const o=On(e.zIndex)?e.zIndex:0;return Vg(n)?o:o+(e.selected?t:0)}function UM(e,t,n,o,s,a){const{x:l,y:u}=t.internals.positionAbsolute,d=qr(e),h=Gl(e,n),m=Ui(e.extent)?Ps(h,e.extent,d):h;let g=Ps({x:l+m.x,y:u+m.y},o,d);e.extent==="parent"&&(g=pS(g,d,t));const v=PS(e,s,a),w=t.internals.z??0;return{x:g.x,y:g.y,z:w>=v?w+1:v}}function qg(e,t,n,o=[0,0]){var l;const s=[],a=new Map;for(const u of e){const d=t.get(u.parentId);if(!d)continue;const h=((l=a.get(u.parentId))==null?void 0:l.expandedRect)??Vi(d),m=gS(h,u.rect);a.set(u.parentId,{expandedRect:m,parent:d})}return a.size>0&&a.forEach(({expandedRect:u,parent:d},h)=>{var _;const m=d.internals.positionAbsolute,g=qr(d),v=d.origin??o,w=u.x<m.x?Math.round(Math.abs(m.x-u.x)):0,b=u.y<m.y?Math.round(Math.abs(m.y-u.y)):0,C=Math.max(g.width,Math.round(u.width)),k=Math.max(g.height,Math.round(u.height)),E=(C-g.width)*v[0],N=(k-g.height)*v[1];(w>0||b>0||E||N)&&(s.push({id:h,type:"position",position:{x:d.position.x-w+E,y:d.position.y-b+N}}),(_=n.get(h))==null||_.forEach(P=>{e.some(I=>I.id===P.id)||s.push({id:P.id,type:"position",position:{x:P.position.x+w,y:P.position.y+b}})})),(g.width<u.width||g.height<u.height||w||b)&&s.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:C+(w?v[0]*w-E:0),height:k+(b?v[1]*b-N:0)}})}),s}function qM(e,t,n,o,s,a,l){const u=o==null?void 0:o.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const h=[],m=window.getComputedStyle(u),{m22:g}=new window.DOMMatrixReadOnly(m.transform),v=[];for(const w of e.values()){const b=t.get(w.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const C=Hg(w.nodeElement),k=b.measured.width!==C.width||b.measured.height!==C.height;if(!!(C.width&&C.height&&(k||!b.internals.handleBounds||w.force))){const N=w.nodeElement.getBoundingClientRect(),_=Ui(b.extent)?b.extent:a;let{positionAbsolute:P}=b.internals;b.parentId&&b.extent==="parent"?P=pS(P,C,t.get(b.parentId)):_&&(P=Ps(P,_,C));const I={...b,measured:C,internals:{...b.internals,positionAbsolute:P,handleBounds:{source:ew("source",w.nodeElement,N,g,b.id),target:ew("target",w.nodeElement,N,g,b.id)}}};t.set(b.id,I),b.parentId&&Ug(I,t,n,{nodeOrigin:s,zIndexMode:l}),d=!0,k&&(h.push({id:b.id,type:"dimensions",dimensions:C}),b.expandParent&&b.parentId&&v.push({id:b.id,parentId:b.parentId,rect:Vi(I,s)}))}}if(v.length>0){const w=qg(v,t,n,s);h.push(...w)}return{changes:h,updatedInternals:d}}async function KM({delta:e,panZoom:t,transform:n,translateExtent:o,width:s,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,a]],o),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function aw(e,t,n,o,s,a){let l=s;const u=o.get(l)||new Map;o.set(l,u.set(n,t)),l=`${s}-${e}`;const d=o.get(l)||new Map;if(o.set(l,d.set(n,t)),a){l=`${s}-${e}-${a}`;const h=o.get(l)||new Map;o.set(l,h.set(n,t))}}function TS(e,t,n){e.clear(),t.clear();for(const o of n){const{source:s,target:a,sourceHandle:l=null,targetHandle:u=null}=o,d={edgeId:o.id,source:s,target:a,sourceHandle:l,targetHandle:u},h=`${s}-${l}--${a}-${u}`,m=`${a}-${u}--${s}-${l}`;aw("source",d,m,e,s,l),aw("target",d,h,e,a,u),t.set(o.id,o)}}function RS(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:RS(n,t):!1}function lw(e,t,n){var s;let o=e;do{if((s=o==null?void 0:o.matches)!=null&&s.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function GM(e,t,n,o){const s=new Map;for(const[a,l]of e)if((l.selected||l.id===o)&&(!l.parentId||!RS(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(a);u&&s.set(a,{id:a,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function Tp({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var l,u,d;const s=[];for(const[h,m]of t){const g=(l=n.get(h))==null?void 0:l.internals.userNode;g&&s.push({...g,position:m.position,dragging:o})}if(!e)return[s[0],s];const a=(u=n.get(e))==null?void 0:u.internals.userNode;return[a?{...a,position:((d=t.get(e))==null?void 0:d.position)||a.position,dragging:o}:s[0],s]}function YM({dragItems:e,snapGrid:t,x:n,y:o}){const s=e.values().next().value;if(!s)return null;const a={x:n-s.distance.x,y:o-s.distance.y},l=Ql(a,t);return{x:l.x-a.x,y:l.y-a.y}}function QM({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:s}){let a={x:null,y:null},l=0,u=new Map,d=!1,h={x:0,y:0},m=null,g=!1,v=null,w=!1,b=!1,C=null;function k({noDragClassName:N,handleSelector:_,domNode:P,isSelectable:I,nodeId:A,nodeClickDistance:R=0}){v=on(P);function O({x:U,y:J}){const{nodeLookup:L,nodeExtent:Q,snapGrid:z,snapToGrid:q,nodeOrigin:j,onNodeDrag:F,onSelectionDrag:G,onError:D,updateNodePositions:V}=t();a={x:U,y:J};let oe=!1;const re=u.size>1,ce=re&&Q?_m(Yl(u)):null,de=re&&q?YM({dragItems:u,snapGrid:z,x:U,y:J}):null;for(const[te,ne]of u){if(!L.has(te))continue;let le={x:U-ne.distance.x,y:J-ne.distance.y};q&&(le=de?{x:Math.round(le.x+de.x),y:Math.round(le.y+de.y)}:Ql(le,z));let pe=null;if(re&&Q&&!ne.extent&&ce){const{positionAbsolute:ve}=ne.internals,Ie=ve.x-ce.x+Q[0][0],He=ve.x+ne.measured.width-ce.x2+Q[1][0],Oe=ve.y-ce.y+Q[0][1],Ye=ve.y+ne.measured.height-ce.y2+Q[1][1];pe=[[Ie,Oe],[He,Ye]]}const{position:me,positionAbsolute:he}=hS({nodeId:te,nextPosition:le,nodeLookup:L,nodeExtent:pe||Q,nodeOrigin:j,onError:D});oe=oe||ne.position.x!==me.x||ne.position.y!==me.y,ne.position=me,ne.internals.positionAbsolute=he}if(b=b||oe,!!oe&&(V(u,!0),C&&(o||F||!A&&G))){const[te,ne]=Tp({nodeId:A,dragItems:u,nodeLookup:L});o==null||o(C,u,te,ne),F==null||F(C,te,ne),A||G==null||G(C,ne)}}async function H(){if(!m)return;const{transform:U,panBy:J,autoPanSpeed:L,autoPanOnNodeDrag:Q}=t();if(!Q){d=!1,cancelAnimationFrame(l);return}const[z,q]=mS(h,m,L);(z!==0||q!==0)&&(a.x=(a.x??0)-z/U[2],a.y=(a.y??0)-q/U[2],await J({x:z,y:q})&&O(a)),l=requestAnimationFrame(H)}function K(U){var re;const{nodeLookup:J,multiSelectionActive:L,nodesDraggable:Q,transform:z,snapGrid:q,snapToGrid:j,selectNodesOnDrag:F,onNodeDragStart:G,onSelectionDragStart:D,unselectNodesAndEdges:V}=t();g=!0,(!F||!I)&&!L&&A&&((re=J.get(A))!=null&&re.selected||V()),I&&F&&A&&(e==null||e(A));const oe=dl(U.sourceEvent,{transform:z,snapGrid:q,snapToGrid:j,containerBounds:m});if(a=oe,u=GM(J,Q,oe,A),u.size>0&&(n||G||!A&&D)){const[ce,de]=Tp({nodeId:A,dragItems:u,nodeLookup:J});n==null||n(U.sourceEvent,u,ce,de),G==null||G(U.sourceEvent,ce,de),A||D==null||D(U.sourceEvent,de)}}const M=q1().clickDistance(R).on("start",U=>{const{domNode:J,nodeDragThreshold:L,transform:Q,snapGrid:z,snapToGrid:q}=t();m=(J==null?void 0:J.getBoundingClientRect())||null,w=!1,b=!1,C=U.sourceEvent,L===0&&K(U),a=dl(U.sourceEvent,{transform:Q,snapGrid:z,snapToGrid:q,containerBounds:m}),h=Ln(U.sourceEvent,m)}).on("drag",U=>{const{autoPanOnNodeDrag:J,transform:L,snapGrid:Q,snapToGrid:z,nodeDragThreshold:q,nodeLookup:j}=t(),F=dl(U.sourceEvent,{transform:L,snapGrid:Q,snapToGrid:z,containerBounds:m});if(C=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||A&&!j.has(A))&&(w=!0),!w){if(!d&&J&&g&&(d=!0,H()),!g){const G=Ln(U.sourceEvent,m),D=G.x-h.x,V=G.y-h.y;Math.sqrt(D*D+V*V)>q&&K(U)}(a.x!==F.xSnapped||a.y!==F.ySnapped)&&u&&g&&(h=Ln(U.sourceEvent,m),O(F))}}).on("end",U=>{if(!(!g||w)&&(d=!1,g=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:J,updateNodePositions:L,onNodeDragStop:Q,onSelectionDragStop:z}=t();if(b&&(L(u,!1),b=!1),s||Q||!A&&z){const[q,j]=Tp({nodeId:A,dragItems:u,nodeLookup:J,dragging:!1});s==null||s(U.sourceEvent,u,q,j),Q==null||Q(U.sourceEvent,q,j),A||z==null||z(U.sourceEvent,j)}}}).filter(U=>{const J=U.target;return!U.button&&(!N||!lw(J,`.${N}`,P))&&(!_||lw(J,_,P))});v.call(M)}function E(){v==null||v.on(".drag",null)}return{update:k,destroy:E}}function XM(e,t,n){const o=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())_l(s,Vi(a))>0&&o.push(a);return o}const JM=250;function ZM(e,t,n,o){var u,d;let s=[],a=1/0;const l=XM(e,n,t+JM);for(const h of l){const m=[...((u=h.internals.handleBounds)==null?void 0:u.source)??[],...((d=h.internals.handleBounds)==null?void 0:d.target)??[]];for(const g of m){if(o.nodeId===g.nodeId&&o.type===g.type&&o.id===g.id)continue;const{x:v,y:w}=Ts(h,g,g.position,!0),b=Math.sqrt(Math.pow(v-e.x,2)+Math.pow(w-e.y,2));b>t||(b<a?(s=[{...g,x:v,y:w}],a=b):b===a&&s.push({...g,x:v,y:w}))}}if(!s.length)return null;if(s.length>1){const h=o.type==="source"?"target":"source";return s.find(m=>m.type===h)??s[0]}return s[0]}function jS(e,t,n,o,s,a=!1){var h,m,g;const l=o.get(e);if(!l)return null;const u=s==="strict"?(h=l.internals.handleBounds)==null?void 0:h[t]:[...((m=l.internals.handleBounds)==null?void 0:m.source)??[],...((g=l.internals.handleBounds)==null?void 0:g.target)??[]],d=(n?u==null?void 0:u.find(v=>v.id===n):u==null?void 0:u[0])??null;return d&&a?{...d,...Ts(l,d,d.position,!0)}:d}function IS(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function e4(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const AS=()=>!0;function t4(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:s,edgeUpdaterType:a,isTarget:l,domNode:u,nodeLookup:d,lib:h,autoPanOnConnect:m,flowId:g,panBy:v,cancelConnection:w,onConnectStart:b,onConnect:C,onConnectEnd:k,isValidConnection:E=AS,onReconnectEnd:N,updateConnection:_,getTransform:P,getFromHandle:I,autoPanSpeed:A,dragThreshold:R=1,handleDomNode:O}){const H=xS(e.target);let K=0,M;const{x:U,y:J}=Ln(e),L=IS(a,O),Q=u==null?void 0:u.getBoundingClientRect();let z=!1;if(!Q||!L)return;const q=jS(s,L,o,d,t);if(!q)return;let j=Ln(e,Q),F=!1,G=null,D=!1,V=null;function oe(){if(!m||!Q)return;const[me,he]=mS(j,Q,A);v({x:me,y:he}),K=requestAnimationFrame(oe)}const re={...q,nodeId:s,type:L,position:q.position},ce=d.get(s);let te={inProgress:!0,isValid:null,from:Ts(ce,re,_e.Left,!0),fromHandle:re,fromPosition:re.position,fromNode:ce,to:j,toHandle:null,toPosition:Qx[re.position],toNode:null,pointer:j};function ne(){z=!0,_(te),b==null||b(e,{nodeId:s,handleId:o,handleType:L})}R===0&&ne();function le(me){if(!z){const{x:Ye,y:Yt}=Ln(me),wt=Ye-U,Qt=Yt-J;if(!(wt*wt+Qt*Qt>R*R))return;ne()}if(!I()||!re){pe(me);return}const he=P();j=Ln(me,Q),M=ZM(Xl(j,he,!1,[1,1]),n,d,re),F||(oe(),F=!0);const ve=MS(me,{handle:M,connectionMode:t,fromNodeId:s,fromHandleId:o,fromType:l?"target":"source",isValidConnection:E,doc:H,lib:h,flowId:g,nodeLookup:d});V=ve.handleDomNode,G=ve.connection,D=e4(!!M,ve.isValid);const Ie=d.get(s),He=Ie?Ts(Ie,re,_e.Left,!0):te.from,Oe={...te,from:He,isValid:D,to:ve.toHandle&&D?gd({x:ve.toHandle.x,y:ve.toHandle.y},he):j,toHandle:ve.toHandle,toPosition:D&&ve.toHandle?ve.toHandle.position:Qx[re.position],toNode:ve.toHandle?d.get(ve.toHandle.nodeId):null,pointer:j};_(Oe),te=Oe}function pe(me){if(!("touches"in me&&me.touches.length>0)){if(z){(M||V)&&G&&D&&(C==null||C(G));const{inProgress:he,...ve}=te,Ie={...ve,toPosition:te.toHandle?te.toPosition:null};k==null||k(me,Ie),a&&(N==null||N(me,Ie))}w(),cancelAnimationFrame(K),F=!1,D=!1,G=null,V=null,H.removeEventListener("mousemove",le),H.removeEventListener("mouseup",pe),H.removeEventListener("touchmove",le),H.removeEventListener("touchend",pe)}}H.addEventListener("mousemove",le),H.addEventListener("mouseup",pe),H.addEventListener("touchmove",le),H.addEventListener("touchend",pe)}function MS(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:s,fromType:a,doc:l,lib:u,flowId:d,isValidConnection:h=AS,nodeLookup:m}){const g=a==="target",v=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:w,y:b}=Ln(e),C=l.elementFromPoint(w,b),k=C!=null&&C.classList.contains(`${u}-flow__handle`)?C:v,E={handleDomNode:k,isValid:!1,connection:null,toHandle:null};if(k){const N=IS(void 0,k),_=k.getAttribute("data-nodeid"),P=k.getAttribute("data-handleid"),I=k.classList.contains("connectable"),A=k.classList.contains("connectableend");if(!_||!N)return E;const R={source:g?_:o,sourceHandle:g?P:s,target:g?o:_,targetHandle:g?s:P};E.connection=R;const H=I&&A&&(n===Bi.Strict?g&&N==="source"||!g&&N==="target":_!==o||P!==s);E.isValid=H&&h(R),E.toHandle=jS(_,N,P,m,n,!0)}return E}const Pm={onPointerDown:t4,isValid:MS};function n4({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const s=on(e);function a({translateExtent:u,width:d,height:h,zoomStep:m=1,pannable:g=!0,zoomable:v=!0,inversePan:w=!1}){const b=_=>{if(_.sourceEvent.type!=="wheel"||!t)return;const P=n(),I=_.sourceEvent.ctrlKey&&kl()?10:1,A=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*m,R=P[2]*Math.pow(2,A*I);t.scaleTo(R)};let C=[0,0];const k=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(C=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},E=_=>{const P=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!t)return;const I=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],A=[I[0]-C[0],I[1]-C[1]];C=I;const R=o()*Math.max(P[2],Math.log(P[2]))*(w?-1:1),O={x:P[0]-A[0]*R,y:P[1]-A[1]*R},H=[[0,0],[d,h]];t.setViewportConstrained({x:O.x,y:O.y,zoom:P[2]},H,u)},N=aS().on("start",k).on("zoom",g?E:null).on("zoom.wheel",v?b:null);s.call(N,{})}function l(){s.on("zoom",null)}return{update:a,destroy:l,pointer:In}}const Ud=e=>({x:e.x,y:e.y,zoom:e.k}),Rp=({x:e,y:t,zoom:n})=>Bd.translate(e,t).scale(n),wi=(e,t)=>e.target.closest(`.${t}`),DS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),r4=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,jp=(e,t=0,n=r4,o=()=>{})=>{const s=typeof t=="number"&&t>0;return s||o(),s?e.transition().duration(t).ease(n).on("end",o):e},OS=e=>{const t=e.ctrlKey&&kl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function o4({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:s,panOnScrollSpeed:a,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:h}){return m=>{if(wi(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const g=n.property("__zoom").k||1;if(m.ctrlKey&&l){const k=In(m),E=OS(m),N=g*Math.pow(2,E);o.scaleTo(n,N,k,m);return}const v=m.deltaMode===1?20:1;let w=s===ws.Vertical?0:m.deltaX*v,b=s===ws.Horizontal?0:m.deltaY*v;!kl()&&m.shiftKey&&s!==ws.Vertical&&(w=m.deltaY*v,b=0),o.translateBy(n,-(w/g)*a,-(b/g)*a,{internal:!0});const C=Ud(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(m,C),e.panScrollTimeout=setTimeout(()=>{h==null||h(m,C),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u==null||u(m,C))}}function s4({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,s){const a=o.type==="wheel",l=!t&&a&&!o.ctrlKey,u=wi(o,e);if(o.ctrlKey&&a&&u&&o.preventDefault(),l||u)return null;o.preventDefault(),n.call(this,o,s)}}function i4({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var a,l,u;if((a=o.sourceEvent)!=null&&a.internal)return;const s=Ud(o.transform);e.mouseButton=((l=o.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((u=o.sourceEvent)==null?void 0:u.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,s))}}function a4({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:s}){return a=>{var l,u;e.usedRightMouseButton=!!(n&&DS(t,e.mouseButton??0)),(l=a.sourceEvent)!=null&&l.sync||o([a.transform.x,a.transform.y,a.transform.k]),s&&!((u=a.sourceEvent)!=null&&u.internal)&&(s==null||s(a.sourceEvent,Ud(a.transform)))}}function l4({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:s,onPaneContextMenu:a}){return l=>{var u;if(!((u=l.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,a&&DS(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&a(l.sourceEvent),e.usedRightMouseButton=!1,o(!1),s)){const d=Ud(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(l.sourceEvent,d)},n?150:0)}}}function c4({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:s,zoomOnDoubleClick:a,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:h,connectionInProgress:m}){return g=>{var k;const v=e||t,w=n&&g.ctrlKey,b=g.type==="wheel";if(g.button===1&&g.type==="mousedown"&&(wi(g,`${h}-flow__node`)||wi(g,`${h}-flow__edge`)))return!0;if(!o&&!v&&!s&&!a&&!n||l||m&&!b||wi(g,u)&&b||wi(g,d)&&(!b||s&&b&&!e)||!n&&g.ctrlKey&&b)return!1;if(!n&&g.type==="touchstart"&&((k=g.touches)==null?void 0:k.length)>1)return g.preventDefault(),!1;if(!v&&!s&&!w&&b||!o&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(o)&&!o.includes(g.button)&&g.type==="mousedown")return!1;const C=Array.isArray(o)&&o.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||b)&&C}}function u4({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:s,onPanZoom:a,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),g=aS().scaleExtent([t,n]).translateExtent(o),v=on(e).call(g);N({x:s.x,y:s.y,zoom:Wi(s.zoom,t,n)},[[0,0],[m.width,m.height]],o);const w=v.on("wheel.zoom"),b=v.on("dblclick.zoom");g.wheelDelta(OS);function C(M,U){return v?new Promise(J=>{g==null||g.interpolate((U==null?void 0:U.interpolate)==="linear"?ul:Yu).transform(jp(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>J(!0)),M)}):Promise.resolve(!1)}function k({noWheelClassName:M,noPanClassName:U,onPaneContextMenu:J,userSelectionActive:L,panOnScroll:Q,panOnDrag:z,panOnScrollMode:q,panOnScrollSpeed:j,preventScrolling:F,zoomOnPinch:G,zoomOnScroll:D,zoomOnDoubleClick:V,zoomActivationKeyPressed:oe,lib:re,onTransformChange:ce,connectionInProgress:de,paneClickDistance:te,selectionOnDrag:ne}){L&&!h.isZoomingOrPanning&&E();const le=Q&&!oe&&!L;g.clickDistance(ne?1/0:!On(te)||te<0?0:te);const pe=le?o4({zoomPanValues:h,noWheelClassName:M,d3Selection:v,d3Zoom:g,panOnScrollMode:q,panOnScrollSpeed:j,zoomOnPinch:G,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}):s4({noWheelClassName:M,preventScrolling:F,d3ZoomHandler:w});if(v.on("wheel.zoom",pe,{passive:!1}),!L){const he=i4({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:l});g.on("start",he);const ve=a4({zoomPanValues:h,panOnDrag:z,onPaneContextMenu:!!J,onPanZoom:a,onTransformChange:ce});g.on("zoom",ve);const Ie=l4({zoomPanValues:h,panOnDrag:z,panOnScroll:Q,onPaneContextMenu:J,onPanZoomEnd:u,onDraggingChange:d});g.on("end",Ie)}const me=c4({zoomActivationKeyPressed:oe,panOnDrag:z,zoomOnScroll:D,panOnScroll:Q,zoomOnDoubleClick:V,zoomOnPinch:G,userSelectionActive:L,noPanClassName:U,noWheelClassName:M,lib:re,connectionInProgress:de});g.filter(me),V?v.on("dblclick.zoom",b):v.on("dblclick.zoom",null)}function E(){g.on("zoom",null)}async function N(M,U,J){const L=Rp(M),Q=g==null?void 0:g.constrain()(L,U,J);return Q&&await C(Q),new Promise(z=>z(Q))}async function _(M,U){const J=Rp(M);return await C(J,U),new Promise(L=>L(J))}function P(M){if(v){const U=Rp(M),J=v.property("__zoom");(J.k!==M.zoom||J.x!==M.x||J.y!==M.y)&&(g==null||g.transform(v,U,null,{sync:!0}))}}function I(){const M=v?iS(v.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function A(M,U){return v?new Promise(J=>{g==null||g.interpolate((U==null?void 0:U.interpolate)==="linear"?ul:Yu).scaleTo(jp(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>J(!0)),M)}):Promise.resolve(!1)}function R(M,U){return v?new Promise(J=>{g==null||g.interpolate((U==null?void 0:U.interpolate)==="linear"?ul:Yu).scaleBy(jp(v,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>J(!0)),M)}):Promise.resolve(!1)}function O(M){g==null||g.scaleExtent(M)}function H(M){g==null||g.translateExtent(M)}function K(M){const U=!On(M)||M<0?0:M;g==null||g.clickDistance(U)}return{update:k,destroy:E,setViewport:_,setViewportConstrained:N,getViewport:I,scaleTo:A,scaleBy:R,setScaleExtent:O,setTranslateExtent:H,syncViewport:P,setClickDistance:K}}var qi;(function(e){e.Line="line",e.Handle="handle"})(qi||(qi={}));function d4({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:s,affectsY:a}){const l=e-t,u=n-o,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&s&&(d[0]=d[0]*-1),u&&a&&(d[1]=d[1]*-1),d}function cw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:s}}function go(e,t){return Math.max(0,t-e)}function yo(e,t){return Math.max(0,e-t)}function Iu(e,t,n){return Math.max(0,t-e,e-n)}function uw(e,t){return e?!t:t}function f4(e,t,n,o,s,a,l,u){let{affectsX:d,affectsY:h}=t;const{isHorizontal:m,isVertical:g}=t,v=m&&g,{xSnapped:w,ySnapped:b}=n,{minWidth:C,maxWidth:k,minHeight:E,maxHeight:N}=o,{x:_,y:P,width:I,height:A,aspectRatio:R}=e;let O=Math.floor(m?w-e.pointerX:0),H=Math.floor(g?b-e.pointerY:0);const K=I+(d?-O:O),M=A+(h?-H:H),U=-a[0]*I,J=-a[1]*A;let L=Iu(K,C,k),Q=Iu(M,E,N);if(l){let j=0,F=0;d&&O<0?j=go(_+O+U,l[0][0]):!d&&O>0&&(j=yo(_+K+U,l[1][0])),h&&H<0?F=go(P+H+J,l[0][1]):!h&&H>0&&(F=yo(P+M+J,l[1][1])),L=Math.max(L,j),Q=Math.max(Q,F)}if(u){let j=0,F=0;d&&O>0?j=yo(_+O,u[0][0]):!d&&O<0&&(j=go(_+K,u[1][0])),h&&H>0?F=yo(P+H,u[0][1]):!h&&H<0&&(F=go(P+M,u[1][1])),L=Math.max(L,j),Q=Math.max(Q,F)}if(s){if(m){const j=Iu(K/R,E,N)*R;if(L=Math.max(L,j),l){let F=0;!d&&!h||d&&!h&&v?F=yo(P+J+K/R,l[1][1])*R:F=go(P+J+(d?O:-O)/R,l[0][1])*R,L=Math.max(L,F)}if(u){let F=0;!d&&!h||d&&!h&&v?F=go(P+K/R,u[1][1])*R:F=yo(P+(d?O:-O)/R,u[0][1])*R,L=Math.max(L,F)}}if(g){const j=Iu(M*R,C,k)/R;if(Q=Math.max(Q,j),l){let F=0;!d&&!h||h&&!d&&v?F=yo(_+M*R+U,l[1][0])/R:F=go(_+(h?H:-H)*R+U,l[0][0])/R,Q=Math.max(Q,F)}if(u){let F=0;!d&&!h||h&&!d&&v?F=go(_+M*R,u[1][0])/R:F=yo(_+(h?H:-H)*R,u[0][0])/R,Q=Math.max(Q,F)}}}H=H+(H<0?Q:-Q),O=O+(O<0?L:-L),s&&(v?K>M*R?H=(uw(d,h)?-O:O)/R:O=(uw(d,h)?-H:H)*R:m?(H=O/R,h=d):(O=H*R,d=h));const z=d?_+O:_,q=h?P+H:P;return{width:I+(d?-O:O),height:A+(h?-H:H),x:a[0]*O*(d?-1:1)+z,y:a[1]*H*(h?-1:1)+q}}const LS={width:0,height:0,x:0,y:0},h4={...LS,pointerX:0,pointerY:0,aspectRatio:1};function p4(e){return[[0,0],[e.measured.width,e.measured.height]]}function m4(e,t,n){const o=t.position.x+e.position.x,s=t.position.y+e.position.y,a=e.measured.width??0,l=e.measured.height??0,u=n[0]*a,d=n[1]*l;return[[o-u,s-d],[o+a-u,s+l-d]]}function g4({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:s}){const a=on(e);let l={controlDirection:cw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:h,boundaries:m,keepAspectRatio:g,resizeDirection:v,onResizeStart:w,onResize:b,onResizeEnd:C,shouldResize:k}){let E={...LS},N={...h4};l={boundaries:m,resizeDirection:v,keepAspectRatio:g,controlDirection:cw(h)};let _,P=null,I=[],A,R,O,H=!1;const K=q1().on("start",M=>{const{nodeLookup:U,transform:J,snapGrid:L,snapToGrid:Q,nodeOrigin:z,paneDomNode:q}=n();if(_=U.get(t),!_)return;P=(q==null?void 0:q.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:F}=dl(M.sourceEvent,{transform:J,snapGrid:L,snapToGrid:Q,containerBounds:P});E={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},N={...E,pointerX:j,pointerY:F,aspectRatio:E.width/E.height},A=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(A=U.get(_.parentId),R=A&&_.extent==="parent"?p4(A):void 0),I=[],O=void 0;for(const[G,D]of U)if(D.parentId===t&&(I.push({id:G,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const V=m4(D,_,D.origin??z);O?O=[[Math.min(V[0][0],O[0][0]),Math.min(V[0][1],O[0][1])],[Math.max(V[1][0],O[1][0]),Math.max(V[1][1],O[1][1])]]:O=V}w==null||w(M,{...E})}).on("drag",M=>{const{transform:U,snapGrid:J,snapToGrid:L,nodeOrigin:Q}=n(),z=dl(M.sourceEvent,{transform:U,snapGrid:J,snapToGrid:L,containerBounds:P}),q=[];if(!_)return;const{x:j,y:F,width:G,height:D}=E,V={},oe=_.origin??Q,{width:re,height:ce,x:de,y:te}=f4(N,l.controlDirection,z,l.boundaries,l.keepAspectRatio,oe,R,O),ne=re!==G,le=ce!==D,pe=de!==j&&ne,me=te!==F&&le;if(!pe&&!me&&!ne&&!le)return;if((pe||me||oe[0]===1||oe[1]===1)&&(V.x=pe?de:E.x,V.y=me?te:E.y,E.x=V.x,E.y=V.y,I.length>0)){const He=de-j,Oe=te-F;for(const Ye of I)Ye.position={x:Ye.position.x-He+oe[0]*(re-G),y:Ye.position.y-Oe+oe[1]*(ce-D)},q.push(Ye)}if((ne||le)&&(V.width=ne&&(!l.resizeDirection||l.resizeDirection==="horizontal")?re:E.width,V.height=le&&(!l.resizeDirection||l.resizeDirection==="vertical")?ce:E.height,E.width=V.width,E.height=V.height),A&&_.expandParent){const He=oe[0]*(V.width??0);V.x&&V.x<He&&(E.x=He,N.x=N.x-(V.x-He));const Oe=oe[1]*(V.height??0);V.y&&V.y<Oe&&(E.y=Oe,N.y=N.y-(V.y-Oe))}const he=d4({width:E.width,prevWidth:G,height:E.height,prevHeight:D,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),ve={...E,direction:he};(k==null?void 0:k(M,ve))!==!1&&(H=!0,b==null||b(M,ve),o(V,q))}).on("end",M=>{H&&(C==null||C(M,{...E}),s==null||s({...E}),H=!1)});a.call(K)}function d(){a.on(".drag",null)}return{update:u,destroy:d}}var Ip={exports:{}},Ap={},Mp={exports:{}},Dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function y4(){if(dw)return Dp;dw=1;var e=Hl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var w=v(),b=o({inst:{value:w,getSnapshot:v}}),C=b[0].inst,k=b[1];return a(function(){C.value=w,C.getSnapshot=v,d(C)&&k({inst:C})},[g,w,v]),s(function(){return d(C)&&k({inst:C}),g(function(){d(C)&&k({inst:C})})},[g]),l(w),w}function d(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!n(g,w)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Dp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Dp}var fw;function v4(){return fw||(fw=1,Mp.exports=y4()),Mp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function x4(){if(hw)return Ap;hw=1;var e=Hl(),t=v4();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var o=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Ap.useSyncExternalStoreWithSelector=function(h,m,g,v,w){var b=a(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=u(function(){function E(A){if(!N){if(N=!0,_=A,A=v(A),w!==void 0&&C.hasValue){var R=C.value;if(w(R,A))return P=R}return P=A}if(R=P,o(_,A))return R;var O=v(A);return w!==void 0&&w(R,O)?(_=A,R):(_=A,P=O)}var N=!1,_,P,I=g===void 0?null:g;return[function(){return E(m())},I===null?void 0:function(){return E(I())}]},[m,g,v,w]);var k=s(h,b[0],b[1]);return l(function(){C.hasValue=!0,C.value=k},[k]),d(k),k},Ap}var pw;function w4(){return pw||(pw=1,Ip.exports=x4()),Ip.exports}var b4=w4();const S4=lg(b4),C4={},mw=e=>{let t;const n=new Set,o=(m,g)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const w=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(b=>b(t,w))}},s=()=>t,d={setState:o,getState:s,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(C4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(o,s,d);return d},_4=e=>e?mw(e):mw,{useDebugValue:k4}=nn,{useSyncExternalStoreWithSelector:E4}=S4,N4=e=>e;function $S(e,t=N4,n){const o=E4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return k4(o),o}const gw=(e,t)=>{const n=_4(e),o=(s,a=t)=>$S(n,s,a);return Object.assign(o,n),o},P4=(e,t)=>e?gw(e,t):gw;function nt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const qd=y.createContext(null),T4=qd.Provider,FS=lr.error001();function Be(e,t){const n=y.useContext(qd);if(n===null)throw new Error(FS);return $S(n,e,t)}function rt(){const e=y.useContext(qd);if(e===null)throw new Error(FS);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const yw={display:"none"},R4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},zS="react-flow__node-desc",HS="react-flow__edge-desc",j4="react-flow__aria-live",I4=e=>e.ariaLiveMessage,A4=e=>e.ariaLabelConfig;function M4({rfId:e}){const t=Be(I4);return f.jsx("div",{id:`${j4}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:R4,children:t})}function D4({rfId:e,disableKeyboardA11y:t}){const n=Be(A4);return f.jsxs(f.Fragment,{children:[f.jsx("div",{id:`${zS}-${e}`,style:yw,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),f.jsx("div",{id:`${HS}-${e}`,style:yw,children:n["edge.a11yDescription.default"]}),!t&&f.jsx(M4,{rfId:e})]})}const Ki=y.forwardRef(({position:e="top-left",children:t,className:n,style:o,...s},a)=>{const l=`${e}`.split("-");return f.jsx("div",{className:pt(["react-flow__panel",n,...l]),style:o,ref:a,...s,children:t})});Ki.displayName="Panel";function O4({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:f.jsx(Ki,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const L4=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},Au=e=>e.id;function $4(e,t){return nt(e.selectedNodes.map(Au),t.selectedNodes.map(Au))&&nt(e.selectedEdges.map(Au),t.selectedEdges.map(Au))}function F4({onSelectionChange:e}){const t=rt(),{selectedNodes:n,selectedEdges:o}=Be(L4,$4);return y.useEffect(()=>{const s={nodes:n,edges:o};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(a=>a(s))},[n,o,e]),null}const z4=e=>!!e.onSelectionChangeHandlers;function H4({onSelectionChange:e}){const t=Be(z4);return e||t?f.jsx(F4,{onSelectionChange:e}):null}const BS=[0,0],B4={x:0,y:0,zoom:1},W4=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],vw=[...W4,"rfId"],V4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),xw={translateExtent:bl,nodeOrigin:BS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function U4(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:s,setTranslateExtent:a,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=Be(V4,nt),h=rt();y.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=xw,u()}),[]);const m=y.useRef(xw);return y.useEffect(()=>{for(const g of vw){const v=e[g],w=m.current[g];v!==w&&(typeof e[g]>"u"||(g==="nodes"?t(v):g==="edges"?n(v):g==="minZoom"?o(v):g==="maxZoom"?s(v):g==="translateExtent"?a(v):g==="nodeExtent"?l(v):g==="ariaLabelConfig"?h.setState({ariaLabelConfig:TM(v)}):g==="fitView"?h.setState({fitViewQueued:v}):g==="fitViewOptions"?h.setState({fitViewOptions:v}):h.setState({[g]:v})))}m.current=e},vw.map(g=>e[g])),null}function ww(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function q4(e){var o;const[t,n]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){n(e);return}const s=ww(),a=()=>n(s!=null&&s.matches?"dark":"light");return a(),s==null||s.addEventListener("change",a),()=>{s==null||s.removeEventListener("change",a)}},[e]),t!==null?t:(o=ww())!=null&&o.matches?"dark":"light"}const bw=typeof document<"u"?document:null;function El(e=null,t={target:bw,actInsideInputWithModifier:!0}){const[n,o]=y.useState(!1),s=y.useRef(!1),a=y.useRef(new Set([])),[l,u]=y.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=h.reduce((g,v)=>g.concat(...v),[]);return[h,m]}return[[],[]]},[e]);return y.useEffect(()=>{const d=(t==null?void 0:t.target)??bw,h=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const m=w=>{var k,E;if(s.current=w.ctrlKey||w.metaKey||w.shiftKey||w.altKey,(!s.current||s.current&&!h)&&wS(w))return!1;const C=Cw(w.code,u);if(a.current.add(w[C]),Sw(l,a.current,!1)){const N=((E=(k=w.composedPath)==null?void 0:k.call(w))==null?void 0:E[0])||w.target,_=(N==null?void 0:N.nodeName)==="BUTTON"||(N==null?void 0:N.nodeName)==="A";t.preventDefault!==!1&&(s.current||!_)&&w.preventDefault(),o(!0)}},g=w=>{const b=Cw(w.code,u);Sw(l,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(w[b]),w.key==="Meta"&&a.current.clear(),s.current=!1},v=()=>{a.current.clear(),o(!1)};return d==null||d.addEventListener("keydown",m),d==null||d.addEventListener("keyup",g),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{d==null||d.removeEventListener("keydown",m),d==null||d.removeEventListener("keyup",g),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[e,o]),n}function Sw(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(s=>t.has(s)))}function Cw(e,t){return t.includes(e)?"code":"key"}const K4=()=>{const e=rt();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,s,a],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??o,y:t.y??s,zoom:t.zoom??a},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{const{width:o,height:s,minZoom:a,maxZoom:l,panZoom:u}=e.getState(),d=zg(t,o,s,a,l,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:s,snapToGrid:a,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),h={x:t.x-u,y:t.y-d},m=n.snapGrid??s,g=n.snapToGrid??a;return Xl(h,o,g,m)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:s,y:a}=o.getBoundingClientRect(),l=gd(t,n);return{x:l.x+s,y:l.y+a}}}),[])};function WS(e,t){const n=[],o=new Map,s=[];for(const a of e)if(a.type==="add"){s.push(a);continue}else if(a.type==="remove"||a.type==="replace")o.set(a.id,[a]);else{const l=o.get(a.id);l?l.push(a):o.set(a.id,[a])}for(const a of t){const l=o.get(a.id);if(!l){n.push(a);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...a};for(const d of l)G4(d,u);n.push(u)}return s.length&&s.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function G4(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function VS(e,t){return WS(e,t)}function US(e,t){return WS(e,t)}function is(e,t){return{id:e,type:"select",selected:t}}function bi(e,t=new Set,n=!1){const o=[];for(const[s,a]of e){const l=t.has(s);!(a.selected===void 0&&!l)&&a.selected!==l&&(n&&(a.selected=l),o.push(is(a.id,l)))}return o}function _w({items:e=[],lookup:t}){var s;const n=[],o=new Map(e.map(a=>[a.id,a]));for(const[a,l]of e.entries()){const u=t.get(l.id),d=((s=u==null?void 0:u.internals)==null?void 0:s.userNode)??u;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:a})}for(const[a]of t)o.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function kw(e){return{id:e.id,type:"remove"}}const Ew=e=>xM(e),Y4=e=>fS(e);function qS(e){return y.forwardRef(e)}const Q4=typeof window<"u"?y.useLayoutEffect:y.useEffect;function Nw(e){const[t,n]=y.useState(BigInt(0)),[o]=y.useState(()=>X4(()=>n(s=>s+BigInt(1))));return Q4(()=>{const s=o.get();s.length&&(e(s),o.reset())},[t]),o}function X4(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const KS=y.createContext(null);function J4({children:e}){const t=rt(),n=y.useCallback(u=>{const{nodes:d=[],setNodes:h,hasDefaultNodes:m,onNodesChange:g,nodeLookup:v,fitViewQueued:w,onNodesChangeMiddlewareMap:b}=t.getState();let C=d;for(const E of u)C=typeof E=="function"?E(C):E;let k=_w({items:C,lookup:v});for(const E of b.values())k=E(k);m&&h(C),k.length>0?g==null||g(k):w&&window.requestAnimationFrame(()=>{const{fitViewQueued:E,nodes:N,setNodes:_}=t.getState();E&&_(N)})},[]),o=Nw(n),s=y.useCallback(u=>{const{edges:d=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:g,edgeLookup:v}=t.getState();let w=d;for(const b of u)w=typeof b=="function"?b(w):b;m?h(w):g&&g(_w({items:w,lookup:v}))},[]),a=Nw(s),l=y.useMemo(()=>({nodeQueue:o,edgeQueue:a}),[]);return f.jsx(KS.Provider,{value:l,children:e})}function Z4(){const e=y.useContext(KS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const eD=e=>!!e.panZoom;function Kg(){const e=K4(),t=rt(),n=Z4(),o=Be(eD),s=y.useMemo(()=>{const a=g=>t.getState().nodeLookup.get(g),l=g=>{n.nodeQueue.push(g)},u=g=>{n.edgeQueue.push(g)},d=g=>{var E,N;const{nodeLookup:v,nodeOrigin:w}=t.getState(),b=Ew(g)?g:v.get(g.id),C=b.parentId?vS(b.position,b.measured,b.parentId,v,w):b.position,k={...b,position:C,width:((E=b.measured)==null?void 0:E.width)??b.width,height:((N=b.measured)==null?void 0:N.height)??b.height};return Vi(k)},h=(g,v,w={replace:!1})=>{l(b=>b.map(C=>{if(C.id===g){const k=typeof v=="function"?v(C):v;return w.replace&&Ew(k)?k:{...C,...k}}return C}))},m=(g,v,w={replace:!1})=>{u(b=>b.map(C=>{if(C.id===g){const k=typeof v=="function"?v(C):v;return w.replace&&Y4(k)?k:{...C,...k}}return C}))};return{getNodes:()=>t.getState().nodes.map(g=>({...g})),getNode:g=>{var v;return(v=a(g))==null?void 0:v.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:g=[]}=t.getState();return g.map(v=>({...v}))},getEdge:g=>t.getState().edgeLookup.get(g),setNodes:l,setEdges:u,addNodes:g=>{const v=Array.isArray(g)?g:[g];n.nodeQueue.push(w=>[...w,...v])},addEdges:g=>{const v=Array.isArray(g)?g:[g];n.edgeQueue.push(w=>[...w,...v])},toObject:()=>{const{nodes:g=[],edges:v=[],transform:w}=t.getState(),[b,C,k]=w;return{nodes:g.map(E=>({...E})),edges:v.map(E=>({...E})),viewport:{x:b,y:C,zoom:k}}},deleteElements:async({nodes:g=[],edges:v=[]})=>{const{nodes:w,edges:b,onNodesDelete:C,onEdgesDelete:k,triggerNodeChanges:E,triggerEdgeChanges:N,onDelete:_,onBeforeDelete:P}=t.getState(),{nodes:I,edges:A}=await _M({nodesToRemove:g,edgesToRemove:v,nodes:w,edges:b,onBeforeDelete:P}),R=A.length>0,O=I.length>0;if(R){const H=A.map(kw);k==null||k(A),N(H)}if(O){const H=I.map(kw);C==null||C(I),E(H)}return(O||R)&&(_==null||_({nodes:I,edges:A})),{deletedNodes:I,deletedEdges:A}},getIntersectingNodes:(g,v=!0,w)=>{const b=Jx(g),C=b?g:d(g),k=w!==void 0;return C?(w||t.getState().nodes).filter(E=>{const N=t.getState().nodeLookup.get(E.id);if(N&&!b&&(E.id===g.id||!N.internals.positionAbsolute))return!1;const _=Vi(k?E:N),P=_l(_,C);return v&&P>0||P>=_.width*_.height||P>=C.width*C.height}):[]},isNodeIntersecting:(g,v,w=!0)=>{const C=Jx(g)?g:d(g);if(!C)return!1;const k=_l(C,v);return w&&k>0||k>=v.width*v.height||k>=C.width*C.height},updateNode:h,updateNodeData:(g,v,w={replace:!1})=>{h(g,b=>{const C=typeof v=="function"?v(b):v;return w.replace?{...b,data:C}:{...b,data:{...b.data,...C}}},w)},updateEdge:m,updateEdgeData:(g,v,w={replace:!1})=>{m(g,b=>{const C=typeof v=="function"?v(b):v;return w.replace?{...b,data:C}:{...b,data:{...b.data,...C}}},w)},getNodesBounds:g=>{const{nodeLookup:v,nodeOrigin:w}=t.getState();return wM(g,{nodeLookup:v,nodeOrigin:w})},getHandleConnections:({type:g,id:v,nodeId:w})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${w}-${g}${v?`-${v}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:g,handleId:v,nodeId:w})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${w}${g?v?`-${g}-${v}`:`-${g}`:""}`))==null?void 0:b.values())??[])},fitView:async g=>{const v=t.getState().fitViewResolver??PM();return t.setState({fitViewQueued:!0,fitViewOptions:g,fitViewResolver:v}),n.nodeQueue.push(w=>[...w]),v.promise}}},[]);return y.useMemo(()=>({...s,...e,viewportInitialized:o}),[o])}const Pw=e=>e.selected,tD=typeof window<"u"?window:void 0;function nD({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=rt(),{deleteElements:o}=Kg(),s=El(e,{actInsideInputWithModifier:!1}),a=El(t,{target:tD});y.useEffect(()=>{if(s){const{edges:l,nodes:u}=n.getState();o({nodes:u.filter(Pw),edges:l.filter(Pw)}),n.setState({nodesSelectionActive:!1})}},[s]),y.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function rD(e){const t=rt();y.useEffect(()=>{const n=()=>{var s,a,l,u;if(!e.current||!(((a=(s=e.current).checkVisibility)==null?void 0:a.call(s))??!0))return!1;const o=Hg(e.current);(o.height===0||o.width===0)&&((u=(l=t.getState()).onError)==null||u.call(l,"004",lr.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const Kd={position:"absolute",width:"100%",height:"100%",top:0,left:0},oD=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function sD({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:a=ws.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:h,minZoom:m,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:w=!0,children:b,noWheelClassName:C,noPanClassName:k,onViewportChange:E,isControlledViewport:N,paneClickDistance:_,selectionOnDrag:P}){const I=rt(),A=y.useRef(null),{userSelectionActive:R,lib:O,connectionInProgress:H}=Be(oD,nt),K=El(v),M=y.useRef();rD(A);const U=y.useCallback(J=>{E==null||E({x:J[0],y:J[1],zoom:J[2]}),N||I.setState({transform:J})},[E,N]);return y.useEffect(()=>{if(A.current){M.current=u4({domNode:A.current,minZoom:m,maxZoom:g,translateExtent:h,viewport:d,onDraggingChange:z=>I.setState({paneDragging:z}),onPanZoomStart:(z,q)=>{const{onViewportChangeStart:j,onMoveStart:F}=I.getState();F==null||F(z,q),j==null||j(q)},onPanZoom:(z,q)=>{const{onViewportChange:j,onMove:F}=I.getState();F==null||F(z,q),j==null||j(q)},onPanZoomEnd:(z,q)=>{const{onViewportChangeEnd:j,onMoveEnd:F}=I.getState();F==null||F(z,q),j==null||j(q)}});const{x:J,y:L,zoom:Q}=M.current.getViewport();return I.setState({panZoom:M.current,transform:[J,L,Q],domNode:A.current.closest(".react-flow")}),()=>{var z;(z=M.current)==null||z.destroy()}}},[]),y.useEffect(()=>{var J;(J=M.current)==null||J.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:s,panOnScrollMode:a,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:K,preventScrolling:w,noPanClassName:k,userSelectionActive:R,noWheelClassName:C,lib:O,onTransformChange:U,connectionInProgress:H,selectionOnDrag:P,paneClickDistance:_})},[e,t,n,o,s,a,l,u,K,w,k,R,C,O,U,H,P,_]),f.jsx("div",{className:"react-flow__renderer",ref:A,style:Kd,children:b})}const iD=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function aD(){const{userSelectionActive:e,userSelectionRect:t}=Be(iD,nt);return e&&t?f.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Op=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},lD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function cD({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Sl.Full,panOnDrag:o,paneClickDistance:s,selectionOnDrag:a,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:m,onPaneMouseEnter:g,onPaneMouseMove:v,onPaneMouseLeave:w,children:b}){const C=rt(),{userSelectionActive:k,elementsSelectable:E,dragging:N,connectionInProgress:_}=Be(lD,nt),P=E&&(e||k),I=y.useRef(null),A=y.useRef(),R=y.useRef(new Set),O=y.useRef(new Set),H=y.useRef(!1),K=j=>{if(H.current||_){H.current=!1;return}d==null||d(j),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},M=j=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){j.preventDefault();return}h==null||h(j)},U=m?j=>m(j):void 0,J=j=>{H.current&&(j.stopPropagation(),H.current=!1)},L=j=>{var ce,de;const{domNode:F}=C.getState();if(A.current=F==null?void 0:F.getBoundingClientRect(),!A.current)return;const G=j.target===I.current;if(!G&&!!j.target.closest(".nokey")||!e||!(a&&G||t)||j.button!==0||!j.isPrimary)return;(de=(ce=j.target)==null?void 0:ce.setPointerCapture)==null||de.call(ce,j.pointerId),H.current=!1;const{x:oe,y:re}=Ln(j.nativeEvent,A.current);C.setState({userSelectionRect:{width:0,height:0,startX:oe,startY:re,x:oe,y:re}}),G||(j.stopPropagation(),j.preventDefault())},Q=j=>{const{userSelectionRect:F,transform:G,nodeLookup:D,edgeLookup:V,connectionLookup:oe,triggerNodeChanges:re,triggerEdgeChanges:ce,defaultEdgeOptions:de,resetSelectedElements:te}=C.getState();if(!A.current||!F)return;const{x:ne,y:le}=Ln(j.nativeEvent,A.current),{startX:pe,startY:me}=F;if(!H.current){const Oe=t?0:s;if(Math.hypot(ne-pe,le-me)<=Oe)return;te(),l==null||l(j)}H.current=!0;const he={startX:pe,startY:me,x:ne<pe?ne:pe,y:le<me?le:me,width:Math.abs(ne-pe),height:Math.abs(le-me)},ve=R.current,Ie=O.current;R.current=new Set(Fg(D,he,G,n===Sl.Partial,!0).map(Oe=>Oe.id)),O.current=new Set;const He=(de==null?void 0:de.selectable)??!0;for(const Oe of R.current){const Ye=oe.get(Oe);if(Ye)for(const{edgeId:Yt}of Ye.values()){const wt=V.get(Yt);wt&&(wt.selectable??He)&&O.current.add(Yt)}}if(!Zx(ve,R.current)){const Oe=bi(D,R.current,!0);re(Oe)}if(!Zx(Ie,O.current)){const Oe=bi(V,O.current);ce(Oe)}C.setState({userSelectionRect:he,userSelectionActive:!0,nodesSelectionActive:!1})},z=j=>{var F,G;j.button===0&&((G=(F=j.target)==null?void 0:F.releasePointerCapture)==null||G.call(F,j.pointerId),!k&&j.target===I.current&&C.getState().userSelectionRect&&(K==null||K(j)),C.setState({userSelectionActive:!1,userSelectionRect:null}),H.current&&(u==null||u(j),C.setState({nodesSelectionActive:R.current.size>0})))},q=o===!0||Array.isArray(o)&&o.includes(0);return f.jsxs("div",{className:pt(["react-flow__pane",{draggable:q,dragging:N,selection:e}]),onClick:P?void 0:Op(K,I),onContextMenu:Op(M,I),onWheel:Op(U,I),onPointerEnter:P?void 0:g,onPointerMove:P?Q:v,onPointerUp:P?z:void 0,onPointerDownCapture:P?L:void 0,onClickCapture:P?J:void 0,onPointerLeave:w,ref:I,style:Kd,children:[b,f.jsx(aD,{})]})}function Tm({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),h=u.get(e);if(!h){d==null||d("012",lr.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&l)&&(a({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var m;return(m=o==null?void 0:o.current)==null?void 0:m.blur()})):s([e])}function GS({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:a,nodeClickDistance:l}){const u=rt(),[d,h]=y.useState(!1),m=y.useRef();return y.useEffect(()=>{m.current=QM({getStoreItems:()=>u.getState(),onNodeMouseDown:g=>{Tm({id:g,store:u,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),y.useEffect(()=>{var g,v;if(t)(g=m.current)==null||g.destroy();else if(e.current)return(v=m.current)==null||v.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:a,nodeId:s,nodeClickDistance:l}),()=>{var w;(w=m.current)==null||w.destroy()}},[n,o,t,a,e,s]),d}const uD=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function YS(){const e=rt();return y.useCallback(n=>{const{nodeExtent:o,snapToGrid:s,snapGrid:a,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:h,nodeOrigin:m}=e.getState(),g=new Map,v=uD(l),w=s?a[0]:5,b=s?a[1]:5,C=n.direction.x*w*n.factor,k=n.direction.y*b*n.factor;for(const[,E]of h){if(!v(E))continue;let N={x:E.internals.positionAbsolute.x+C,y:E.internals.positionAbsolute.y+k};s&&(N=Ql(N,a));const{position:_,positionAbsolute:P}=hS({nodeId:E.id,nextPosition:N,nodeLookup:h,nodeExtent:o,nodeOrigin:m,onError:u});E.position=_,E.internals.positionAbsolute=P,g.set(E.id,E)}d(g)},[])}const Gg=y.createContext(null),dD=Gg.Provider;Gg.Consumer;const QS=()=>y.useContext(Gg),fD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),hD=(e,t,n)=>o=>{const{connectionClickStartHandle:s,connectionMode:a,connection:l}=o,{fromHandle:u,toHandle:d,isValid:h}=l,m=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n,connectingTo:m,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:a===Bi.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||t!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:m&&h}};function pD({type:e="source",position:t=_e.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:l,onConnect:u,children:d,className:h,onMouseDown:m,onTouchStart:g,...v},w){var Q,z;const b=l||null,C=e==="target",k=rt(),E=QS(),{connectOnClick:N,noPanClassName:_,rfId:P}=Be(fD,nt),{connectingFrom:I,connectingTo:A,clickConnecting:R,isPossibleEndHandle:O,connectionInProcess:H,clickConnectionInProcess:K,valid:M}=Be(hD(E,b,e),nt);E||(z=(Q=k.getState()).onError)==null||z.call(Q,"010",lr.error010());const U=q=>{const{defaultEdgeOptions:j,onConnect:F,hasDefaultEdges:G}=k.getState(),D={...j,...q};if(G){const{edges:V,setEdges:oe}=k.getState();oe(kS(D,V))}F==null||F(D),u==null||u(D)},J=q=>{if(!E)return;const j=bS(q.nativeEvent);if(s&&(j&&q.button===0||!j)){const F=k.getState();Pm.onPointerDown(q.nativeEvent,{handleDomNode:q.currentTarget,autoPanOnConnect:F.autoPanOnConnect,connectionMode:F.connectionMode,connectionRadius:F.connectionRadius,domNode:F.domNode,nodeLookup:F.nodeLookup,lib:F.lib,isTarget:C,handleId:b,nodeId:E,flowId:F.rfId,panBy:F.panBy,cancelConnection:F.cancelConnection,onConnectStart:F.onConnectStart,onConnectEnd:F.onConnectEnd,updateConnection:F.updateConnection,onConnect:U,isValidConnection:n||F.isValidConnection,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,autoPanSpeed:F.autoPanSpeed,dragThreshold:F.connectionDragThreshold})}j?m==null||m(q):g==null||g(q)},L=q=>{const{onClickConnectStart:j,onClickConnectEnd:F,connectionClickStartHandle:G,connectionMode:D,isValidConnection:V,lib:oe,rfId:re,nodeLookup:ce,connection:de}=k.getState();if(!E||!G&&!s)return;if(!G){j==null||j(q.nativeEvent,{nodeId:E,handleId:b,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:E,type:e,id:b}});return}const te=xS(q.target),ne=n||V,{connection:le,isValid:pe}=Pm.isValid(q.nativeEvent,{handle:{nodeId:E,id:b,type:e},connectionMode:D,fromNodeId:G.nodeId,fromHandleId:G.id||null,fromType:G.type,isValidConnection:ne,flowId:re,doc:te,lib:oe,nodeLookup:ce});pe&&le&&U(le);const me=structuredClone(de);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,F==null||F(q,me),k.setState({connectionClickStartHandle:null})};return f.jsx("div",{"data-handleid":b,"data-nodeid":E,"data-handlepos":t,"data-id":`${P}-${E}-${b}-${e}`,className:pt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,h,{source:!C,target:C,connectable:o,connectablestart:s,connectableend:a,clickconnecting:R,connectingfrom:I,connectingto:A,valid:M,connectionindicator:o&&(!H||O)&&(H||K?a:s)}]),onMouseDown:J,onTouchStart:J,onClick:N?L:void 0,ref:w,...v,children:d})}const An=y.memo(qS(pD));function mD({data:e,isConnectable:t,sourcePosition:n=_e.Bottom}){return f.jsxs(f.Fragment,{children:[e==null?void 0:e.label,f.jsx(An,{type:"source",position:n,isConnectable:t})]})}function gD({data:e,isConnectable:t,targetPosition:n=_e.Top,sourcePosition:o=_e.Bottom}){return f.jsxs(f.Fragment,{children:[f.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,f.jsx(An,{type:"source",position:o,isConnectable:t})]})}function yD(){return null}function vD({data:e,isConnectable:t,targetPosition:n=_e.Top}){return f.jsxs(f.Fragment,{children:[f.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const yd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Tw={input:mD,default:gD,output:vD,group:yD};function xD(e){var t,n,o,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const wD=e=>{const{width:t,height:n,x:o,y:s}=Yl(e.nodeLookup,{filter:a=>!!a.selected});return{width:On(t)?t:null,height:On(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${s}px)`}};function bD({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=rt(),{width:s,height:a,transformString:l,userSelectionActive:u}=Be(wD,nt),d=YS(),h=y.useRef(null);if(y.useEffect(()=>{var v;n||(v=h.current)==null||v.focus({preventScroll:!0})},[n]),GS({nodeRef:h}),u||!s||!a)return null;const m=e?v=>{const w=o.getState().nodes.filter(b=>b.selected);e(v,w)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(yd,v.key)&&(v.preventDefault(),d({direction:yd[v.key],factor:v.shiftKey?4:1}))};return f.jsx("div",{className:pt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:f.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:a}})})}const Rw=typeof window<"u"?window:void 0,SD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function XS({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:h,selectionOnDrag:m,selectionMode:g,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:C,zoomActivationKeyCode:k,elementsSelectable:E,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:P,panOnScrollSpeed:I,panOnScrollMode:A,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:H,translateExtent:K,minZoom:M,maxZoom:U,preventScrolling:J,onSelectionContextMenu:L,noWheelClassName:Q,noPanClassName:z,disableKeyboardA11y:q,onViewportChange:j,isControlledViewport:F}){const{nodesSelectionActive:G,userSelectionActive:D}=Be(SD,nt),V=El(h,{target:Rw}),oe=El(C,{target:Rw}),re=oe||O,ce=oe||P,de=m&&re!==!0,te=V||D||de;return nD({deleteKeyCode:d,multiSelectionKeyCode:b}),f.jsx(sD,{onPaneContextMenu:a,elementsSelectable:E,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:ce,panOnScrollSpeed:I,panOnScrollMode:A,zoomOnDoubleClick:R,panOnDrag:!V&&re,defaultViewport:H,translateExtent:K,minZoom:M,maxZoom:U,zoomActivationKeyCode:k,preventScrolling:J,noWheelClassName:Q,noPanClassName:z,onViewportChange:j,isControlledViewport:F,paneClickDistance:u,selectionOnDrag:de,children:f.jsxs(cD,{onSelectionStart:v,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:re,isSelecting:!!te,selectionMode:g,selectionKeyPressed:V,paneClickDistance:u,selectionOnDrag:de,children:[e,G&&f.jsx(bD,{onSelectionContextMenu:L,noPanClassName:z,disableKeyboardA11y:q})]})})}XS.displayName="FlowRenderer";const CD=y.memo(XS),_D=e=>t=>e?Fg(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function kD(e){return Be(y.useCallback(_D(e),[e]),nt)}const ED=e=>e.updateNodeInternals;function ND(){const e=Be(ED),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(s=>{const a=s.target.getAttribute("data-id");o.set(a,{id:a,nodeElement:s.target,force:!0})}),e(o)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function PD({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const s=rt(),a=y.useRef(null),l=y.useRef(null),u=y.useRef(e.sourcePosition),d=y.useRef(e.targetPosition),h=y.useRef(t),m=n&&!!e.internals.handleBounds;return y.useEffect(()=>{a.current&&!e.hidden&&(!m||l.current!==a.current)&&(l.current&&(o==null||o.unobserve(l.current)),o==null||o.observe(a.current),l.current=a.current)},[m,e.hidden]),y.useEffect(()=>()=>{l.current&&(o==null||o.unobserve(l.current),l.current=null)},[]),y.useEffect(()=>{if(a.current){const g=h.current!==t,v=u.current!==e.sourcePosition,w=d.current!==e.targetPosition;(g||v||w)&&(h.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function TD({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:s,onContextMenu:a,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:h,nodesFocusable:m,resizeObserver:g,noDragClassName:v,noPanClassName:w,disableKeyboardA11y:b,rfId:C,nodeTypes:k,nodeClickDistance:E,onError:N}){const{node:_,internals:P,isParent:I}=Be(ne=>{const le=ne.nodeLookup.get(e),pe=ne.parentLookup.has(e);return{node:le,internals:le.internals,isParent:pe}},nt);let A=_.type||"default",R=(k==null?void 0:k[A])||Tw[A];R===void 0&&(N==null||N("003",lr.error003(A)),A="default",R=(k==null?void 0:k.default)||Tw.default);const O=!!(_.draggable||u&&typeof _.draggable>"u"),H=!!(_.selectable||d&&typeof _.selectable>"u"),K=!!(_.connectable||h&&typeof _.connectable>"u"),M=!!(_.focusable||m&&typeof _.focusable>"u"),U=rt(),J=yS(_),L=PD({node:_,nodeType:A,hasDimensions:J,resizeObserver:g}),Q=GS({nodeRef:L,disabled:_.hidden||!O,noDragClassName:v,handleSelector:_.dragHandle,nodeId:e,isSelectable:H,nodeClickDistance:E}),z=YS();if(_.hidden)return null;const q=qr(_),j=xD(_),F=H||O||t||n||o||s,G=n?ne=>n(ne,{...P.userNode}):void 0,D=o?ne=>o(ne,{...P.userNode}):void 0,V=s?ne=>s(ne,{...P.userNode}):void 0,oe=a?ne=>a(ne,{...P.userNode}):void 0,re=l?ne=>l(ne,{...P.userNode}):void 0,ce=ne=>{const{selectNodesOnDrag:le,nodeDragThreshold:pe}=U.getState();H&&(!le||!O||pe>0)&&Tm({id:e,store:U,nodeRef:L}),t&&t(ne,{...P.userNode})},de=ne=>{if(!(wS(ne.nativeEvent)||b)){if(lS.includes(ne.key)&&H){const le=ne.key==="Escape";Tm({id:e,store:U,unselect:le,nodeRef:L})}else if(O&&_.selected&&Object.prototype.hasOwnProperty.call(yd,ne.key)){ne.preventDefault();const{ariaLabelConfig:le}=U.getState();U.setState({ariaLiveMessage:le["node.a11yDescription.ariaLiveMessage"]({direction:ne.key.replace("Arrow","").toLowerCase(),x:~~P.positionAbsolute.x,y:~~P.positionAbsolute.y})}),z({direction:yd[ne.key],factor:ne.shiftKey?4:1})}}},te=()=>{var Ie;if(b||!((Ie=L.current)!=null&&Ie.matches(":focus-visible")))return;const{transform:ne,width:le,height:pe,autoPanOnNodeFocus:me,setCenter:he}=U.getState();if(!me)return;Fg(new Map([[e,_]]),{x:0,y:0,width:le,height:pe},ne,!0).length>0||he(_.position.x+q.width/2,_.position.y+q.height/2,{zoom:ne[2]})};return f.jsx("div",{className:pt(["react-flow__node",`react-flow__node-${A}`,{[w]:O},_.className,{selected:_.selected,selectable:H,parent:I,draggable:O,dragging:Q}]),ref:L,style:{zIndex:P.z,transform:`translate(${P.positionAbsolute.x}px,${P.positionAbsolute.y}px)`,pointerEvents:F?"all":"none",visibility:J?"visible":"hidden",..._.style,...j},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:D,onMouseLeave:V,onContextMenu:oe,onClick:ce,onDoubleClick:re,onKeyDown:M?de:void 0,tabIndex:M?0:void 0,onFocus:M?te:void 0,role:_.ariaRole??(M?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${zS}-${C}`,"aria-label":_.ariaLabel,..._.domAttributes,children:f.jsx(dD,{value:e,children:f.jsx(R,{id:e,data:_.data,type:A,positionAbsoluteX:P.positionAbsolute.x,positionAbsoluteY:P.positionAbsolute.y,selected:_.selected??!1,selectable:H,draggable:O,deletable:_.deletable??!0,isConnectable:K,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:Q,dragHandle:_.dragHandle,zIndex:P.z,parentId:_.parentId,...q})})})}var RD=y.memo(TD);const jD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function JS(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,onError:a}=Be(jD,nt),l=kD(e.onlyRenderVisibleElements),u=ND();return f.jsx("div",{className:"react-flow__nodes",style:Kd,children:l.map(d=>f.jsx(RD,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:a},d))})}JS.displayName="NodeRenderer";const ID=y.memo(JS);function AD(e){return Be(y.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const o=[];if(n.width&&n.height)for(const s of n.edges){const a=n.nodeLookup.get(s.source),l=n.nodeLookup.get(s.target);a&&l&&IM({sourceNode:a,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&o.push(s.id)}return o},[e]),nt)}const MD=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return f.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},DD=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return f.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},jw={[Cl.Arrow]:MD,[Cl.ArrowClosed]:DD};function OD(e){const t=rt();return y.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(jw,e)?jw[e]:((a=(s=t.getState()).onError)==null||a.call(s,"009",lr.error009(e)),null)},[e])}const LD=({id:e,type:t,color:n,width:o=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=OD(t);return d?f.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:u,refX:"0",refY:"0",children:f.jsx(d,{color:n,strokeWidth:l})}):null},ZS=({defaultColor:e,rfId:t})=>{const n=Be(a=>a.edges),o=Be(a=>a.defaultEdgeOptions),s=y.useMemo(()=>FM(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return s.length?f.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:f.jsx("defs",{children:s.map(a=>f.jsx(LD,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};ZS.displayName="MarkerDefinitions";var $D=y.memo(ZS);function eC({x:e,y:t,label:n,labelStyle:o,labelShowBg:s=!0,labelBgStyle:a,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:h,...m}){const[g,v]=y.useState({x:1,y:0,width:0,height:0}),w=pt(["react-flow__edge-textwrapper",h]),b=y.useRef(null);return y.useEffect(()=>{if(b.current){const C=b.current.getBBox();v({x:C.x,y:C.y,width:C.width,height:C.height})}},[n]),n?f.jsxs("g",{transform:`translate(${e-g.width/2} ${t-g.height/2})`,className:w,visibility:g.width?"visible":"hidden",...m,children:[s&&f.jsx("rect",{width:g.width+2*l[0],x:-l[0],y:-l[1],height:g.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:u,ry:u}),f.jsx("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:b,style:o,children:n}),d]}):null}eC.displayName="EdgeText";const FD=y.memo(eC);function Gd({path:e,labelX:t,labelY:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:h=20,...m}){return f.jsxs(f.Fragment,{children:[f.jsx("path",{...m,d:e,fill:"none",className:pt(["react-flow__edge-path",m.className])}),h?f.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,o&&On(t)&&On(n)?f.jsx(FD,{x:t,y:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function Iw({pos:e,x1:t,y1:n,x2:o,y2:s}){return e===_e.Left||e===_e.Right?[.5*(t+o),n]:[t,.5*(n+s)]}function tC({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:o,targetY:s,targetPosition:a=_e.Top}){const[l,u]=Iw({pos:n,x1:e,y1:t,x2:o,y2:s}),[d,h]=Iw({pos:a,x1:o,y1:s,x2:e,y2:t}),[m,g,v,w]=SS({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${e},${t} C${l},${u} ${d},${h} ${o},${s}`,m,g,v,w]}function nC(e){return y.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,sourcePosition:l,targetPosition:u,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:w,style:b,markerEnd:C,markerStart:k,interactionWidth:E})=>{const[N,_,P]=tC({sourceX:n,sourceY:o,sourcePosition:l,targetX:s,targetY:a,targetPosition:u}),I=e.isInternal?void 0:t;return f.jsx(Gd,{id:I,path:N,labelX:_,labelY:P,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:w,style:b,markerEnd:C,markerStart:k,interactionWidth:E})})}const zD=nC({isInternal:!1}),rC=nC({isInternal:!0});zD.displayName="SimpleBezierEdge";rC.displayName="SimpleBezierEdgeInternal";function oC(e){return y.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,sourcePosition:w=_e.Bottom,targetPosition:b=_e.Top,markerEnd:C,markerStart:k,pathOptions:E,interactionWidth:N})=>{const[_,P,I]=km({sourceX:n,sourceY:o,sourcePosition:w,targetX:s,targetY:a,targetPosition:b,borderRadius:E==null?void 0:E.borderRadius,offset:E==null?void 0:E.offset,stepPosition:E==null?void 0:E.stepPosition}),A=e.isInternal?void 0:t;return f.jsx(Gd,{id:A,path:_,labelX:P,labelY:I,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:C,markerStart:k,interactionWidth:N})})}const sC=oC({isInternal:!1}),iC=oC({isInternal:!0});sC.displayName="SmoothStepEdge";iC.displayName="SmoothStepEdgeInternal";function aC(e){return y.memo(({id:t,...n})=>{var s;const o=e.isInternal?void 0:t;return f.jsx(sC,{...n,id:o,pathOptions:y.useMemo(()=>{var a;return{borderRadius:0,offset:(a=n.pathOptions)==null?void 0:a.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const HD=aC({isInternal:!1}),lC=aC({isInternal:!0});HD.displayName="StepEdge";lC.displayName="StepEdgeInternal";function cC(e){return y.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:w,markerStart:b,interactionWidth:C})=>{const[k,E,N]=ES({sourceX:n,sourceY:o,targetX:s,targetY:a}),_=e.isInternal?void 0:t;return f.jsx(Gd,{id:_,path:k,labelX:E,labelY:N,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,markerEnd:w,markerStart:b,interactionWidth:C})})}const BD=cC({isInternal:!1}),uC=cC({isInternal:!0});BD.displayName="StraightEdge";uC.displayName="StraightEdgeInternal";function dC(e){return y.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,sourcePosition:l=_e.Bottom,targetPosition:u=_e.Top,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:w,style:b,markerEnd:C,markerStart:k,pathOptions:E,interactionWidth:N})=>{const[_,P,I]=CS({sourceX:n,sourceY:o,sourcePosition:l,targetX:s,targetY:a,targetPosition:u,curvature:E==null?void 0:E.curvature}),A=e.isInternal?void 0:t;return f.jsx(Gd,{id:A,path:_,labelX:P,labelY:I,label:d,labelStyle:h,labelShowBg:m,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:w,style:b,markerEnd:C,markerStart:k,interactionWidth:N})})}const WD=dC({isInternal:!1}),fC=dC({isInternal:!0});WD.displayName="BezierEdge";fC.displayName="BezierEdgeInternal";const Aw={default:fC,straight:uC,step:lC,smoothstep:iC,simplebezier:rC},Mw={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},VD=(e,t,n)=>n===_e.Left?e-t:n===_e.Right?e+t:e,UD=(e,t,n)=>n===_e.Top?e-t:n===_e.Bottom?e+t:e,Dw="react-flow__edgeupdater";function Ow({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:u}){return f.jsx("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:pt([Dw,`${Dw}-${u}`]),cx:VD(t,o,e),cy:UD(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function qD({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:s,targetX:a,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,setReconnecting:v,setUpdateHover:w}){const b=rt(),C=(P,I)=>{if(P.button!==0)return;const{autoPanOnConnect:A,domNode:R,isValidConnection:O,connectionMode:H,connectionRadius:K,lib:M,onConnectStart:U,onConnectEnd:J,cancelConnection:L,nodeLookup:Q,rfId:z,panBy:q,updateConnection:j}=b.getState(),F=I.type==="target",G=(oe,re)=>{v(!1),g==null||g(oe,n,I.type,re)},D=oe=>h==null?void 0:h(n,oe),V=(oe,re)=>{v(!0),m==null||m(P,n,I.type),U==null||U(oe,re)};Pm.onPointerDown(P.nativeEvent,{autoPanOnConnect:A,connectionMode:H,connectionRadius:K,domNode:R,handleId:I.id,nodeId:I.nodeId,nodeLookup:Q,isTarget:F,edgeUpdaterType:I.type,lib:M,flowId:z,cancelConnection:L,panBy:q,isValidConnection:O,onConnect:D,onConnectStart:V,onConnectEnd:J,onReconnectEnd:G,updateConnection:j,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,dragThreshold:b.getState().connectionDragThreshold,handleDomNode:P.currentTarget})},k=P=>C(P,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),E=P=>C(P,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),N=()=>w(!0),_=()=>w(!1);return f.jsxs(f.Fragment,{children:[(e===!0||e==="source")&&f.jsx(Ow,{position:u,centerX:o,centerY:s,radius:t,onMouseDown:k,onMouseEnter:N,onMouseOut:_,type:"source"}),(e===!0||e==="target")&&f.jsx(Ow,{position:d,centerX:a,centerY:l,radius:t,onMouseDown:E,onMouseEnter:N,onMouseOut:_,type:"target"})]})}function KD({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:s,onDoubleClick:a,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,reconnectRadius:m,onReconnect:g,onReconnectStart:v,onReconnectEnd:w,rfId:b,edgeTypes:C,noPanClassName:k,onError:E,disableKeyboardA11y:N}){let _=Be(he=>he.edgeLookup.get(e));const P=Be(he=>he.defaultEdgeOptions);_=P?{...P,..._}:_;let I=_.type||"default",A=(C==null?void 0:C[I])||Aw[I];A===void 0&&(E==null||E("011",lr.error011(I)),I="default",A=(C==null?void 0:C.default)||Aw.default);const R=!!(_.focusable||t&&typeof _.focusable>"u"),O=typeof g<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),H=!!(_.selectable||o&&typeof _.selectable>"u"),K=y.useRef(null),[M,U]=y.useState(!1),[J,L]=y.useState(!1),Q=rt(),{zIndex:z,sourceX:q,sourceY:j,targetX:F,targetY:G,sourcePosition:D,targetPosition:V}=Be(y.useCallback(he=>{const ve=he.nodeLookup.get(_.source),Ie=he.nodeLookup.get(_.target);if(!ve||!Ie)return{zIndex:_.zIndex,...Mw};const He=$M({id:e,sourceNode:ve,targetNode:Ie,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:he.connectionMode,onError:E});return{zIndex:jM({selected:_.selected,zIndex:_.zIndex,sourceNode:ve,targetNode:Ie,elevateOnSelect:he.elevateEdgesOnSelect,zIndexMode:he.zIndexMode}),...He||Mw}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),nt),oe=y.useMemo(()=>_.markerStart?`url('#${Em(_.markerStart,b)}')`:void 0,[_.markerStart,b]),re=y.useMemo(()=>_.markerEnd?`url('#${Em(_.markerEnd,b)}')`:void 0,[_.markerEnd,b]);if(_.hidden||q===null||j===null||F===null||G===null)return null;const ce=he=>{var Oe;const{addSelectedEdges:ve,unselectNodesAndEdges:Ie,multiSelectionActive:He}=Q.getState();H&&(Q.setState({nodesSelectionActive:!1}),_.selected&&He?(Ie({nodes:[],edges:[_]}),(Oe=K.current)==null||Oe.blur()):ve([e])),s&&s(he,_)},de=a?he=>{a(he,{..._})}:void 0,te=l?he=>{l(he,{..._})}:void 0,ne=u?he=>{u(he,{..._})}:void 0,le=d?he=>{d(he,{..._})}:void 0,pe=h?he=>{h(he,{..._})}:void 0,me=he=>{var ve;if(!N&&lS.includes(he.key)&&H){const{unselectNodesAndEdges:Ie,addSelectedEdges:He}=Q.getState();he.key==="Escape"?((ve=K.current)==null||ve.blur(),Ie({edges:[_]})):He([e])}};return f.jsx("svg",{style:{zIndex:z},children:f.jsxs("g",{className:pt(["react-flow__edge",`react-flow__edge-${I}`,_.className,k,{selected:_.selected,animated:_.animated,inactive:!H&&!s,updating:M,selectable:H}]),onClick:ce,onDoubleClick:de,onContextMenu:te,onMouseEnter:ne,onMouseMove:le,onMouseLeave:pe,onKeyDown:R?me:void 0,tabIndex:R?0:void 0,role:_.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":R?`${HS}-${b}`:void 0,ref:K,..._.domAttributes,children:[!J&&f.jsx(A,{id:e,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:H,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:q,sourceY:j,targetX:F,targetY:G,sourcePosition:D,targetPosition:V,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:oe,markerEnd:re,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),O&&f.jsx(qD,{edge:_,isReconnectable:O,reconnectRadius:m,onReconnect:g,onReconnectStart:v,onReconnectEnd:w,sourceX:q,sourceY:j,targetX:F,targetY:G,sourcePosition:D,targetPosition:V,setUpdateHover:U,setReconnecting:L})]})})}var GD=y.memo(KD);const YD=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function hC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:s,onReconnect:a,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:h,onEdgeClick:m,reconnectRadius:g,onEdgeDoubleClick:v,onReconnectStart:w,onReconnectEnd:b,disableKeyboardA11y:C}){const{edgesFocusable:k,edgesReconnectable:E,elementsSelectable:N,onError:_}=Be(YD,nt),P=AD(t);return f.jsxs("div",{className:"react-flow__edges",children:[f.jsx($D,{defaultColor:e,rfId:n}),P.map(I=>f.jsx(GD,{id:I,edgesFocusable:k,edgesReconnectable:E,elementsSelectable:N,noPanClassName:s,onReconnect:a,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,onClick:m,reconnectRadius:g,onDoubleClick:v,onReconnectStart:w,onReconnectEnd:b,rfId:n,onError:_,edgeTypes:o,disableKeyboardA11y:C},I))]})}hC.displayName="EdgeRenderer";const QD=y.memo(hC),XD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function JD({children:e}){const t=Be(XD);return f.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function ZD(e){const t=Kg(),n=y.useRef(!1);y.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eO=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function tO(e){const t=Be(eO),n=rt();return y.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function nO(e){return e.connection.inProgress?{...e.connection,to:Xl(e.connection.to,e.transform)}:{...e.connection}}function rO(e){return nO}function oO(e){const t=rO();return Be(t,nt)}const sO=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function iO({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:s,width:a,height:l,isValid:u,inProgress:d}=Be(sO,nt);return!(a&&s&&d)?null:f.jsx("svg",{style:e,width:a,height:l,className:"react-flow__connectionline react-flow__container",children:f.jsx("g",{className:pt(["react-flow__connection",dS(u)]),children:f.jsx(pC,{style:t,type:n,CustomComponent:o,isValid:u})})})}const pC=({style:e,type:t=Dr.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:s,from:a,fromNode:l,fromHandle:u,fromPosition:d,to:h,toNode:m,toHandle:g,toPosition:v,pointer:w}=oO();if(!s)return;if(n)return f.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:a.x,fromY:a.y,toX:h.x,toY:h.y,fromPosition:d,toPosition:v,connectionStatus:dS(o),toNode:m,toHandle:g,pointer:w});let b="";const C={sourceX:a.x,sourceY:a.y,sourcePosition:d,targetX:h.x,targetY:h.y,targetPosition:v};switch(t){case Dr.Bezier:[b]=CS(C);break;case Dr.SimpleBezier:[b]=tC(C);break;case Dr.Step:[b]=km({...C,borderRadius:0});break;case Dr.SmoothStep:[b]=km(C);break;default:[b]=ES(C)}return f.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};pC.displayName="ConnectionLine";const aO={};function Lw(e=aO){y.useRef(e),rt(),y.useEffect(()=>{},[e])}function lO(){rt(),y.useRef(!1),y.useEffect(()=>{},[])}function mC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:a,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:w,connectionLineType:b,connectionLineStyle:C,connectionLineComponent:k,connectionLineContainerStyle:E,selectionKeyCode:N,selectionOnDrag:_,selectionMode:P,multiSelectionKeyCode:I,panActivationKeyCode:A,zoomActivationKeyCode:R,deleteKeyCode:O,onlyRenderVisibleElements:H,elementsSelectable:K,defaultViewport:M,translateExtent:U,minZoom:J,maxZoom:L,preventScrolling:Q,defaultMarkerColor:z,zoomOnScroll:q,zoomOnPinch:j,panOnScroll:F,panOnScrollSpeed:G,panOnScrollMode:D,zoomOnDoubleClick:V,panOnDrag:oe,onPaneClick:re,onPaneMouseEnter:ce,onPaneMouseMove:de,onPaneMouseLeave:te,onPaneScroll:ne,onPaneContextMenu:le,paneClickDistance:pe,nodeClickDistance:me,onEdgeContextMenu:he,onEdgeMouseEnter:ve,onEdgeMouseMove:Ie,onEdgeMouseLeave:He,reconnectRadius:Oe,onReconnect:Ye,onReconnectStart:Yt,onReconnectEnd:wt,noDragClassName:Qt,noWheelClassName:un,noPanClassName:mr,disableKeyboardA11y:Kr,nodeExtent:$s,rfId:Fo,viewport:gr,onViewportChange:yr}){return Lw(e),Lw(t),lO(),ZD(n),tO(gr),f.jsx(CD,{onPaneClick:re,onPaneMouseEnter:ce,onPaneMouseMove:de,onPaneMouseLeave:te,onPaneContextMenu:le,onPaneScroll:ne,paneClickDistance:pe,deleteKeyCode:O,selectionKeyCode:N,selectionOnDrag:_,selectionMode:P,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:I,panActivationKeyCode:A,zoomActivationKeyCode:R,elementsSelectable:K,zoomOnScroll:q,zoomOnPinch:j,zoomOnDoubleClick:V,panOnScroll:F,panOnScrollSpeed:G,panOnScrollMode:D,panOnDrag:oe,defaultViewport:M,translateExtent:U,minZoom:J,maxZoom:L,onSelectionContextMenu:g,preventScrolling:Q,noDragClassName:Qt,noWheelClassName:un,noPanClassName:mr,disableKeyboardA11y:Kr,onViewportChange:yr,isControlledViewport:!!gr,children:f.jsxs(JD,{children:[f.jsx(QD,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:l,onReconnect:Ye,onReconnectStart:Yt,onReconnectEnd:wt,onlyRenderVisibleElements:H,onEdgeContextMenu:he,onEdgeMouseEnter:ve,onEdgeMouseMove:Ie,onEdgeMouseLeave:He,reconnectRadius:Oe,defaultMarkerColor:z,noPanClassName:mr,disableKeyboardA11y:Kr,rfId:Fo}),f.jsx(iO,{style:C,type:b,component:k,containerStyle:E}),f.jsx("div",{className:"react-flow__edgelabel-renderer"}),f.jsx(ID,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,nodeClickDistance:me,onlyRenderVisibleElements:H,noPanClassName:mr,noDragClassName:Qt,disableKeyboardA11y:Kr,nodeExtent:$s,rfId:Fo}),f.jsx("div",{className:"react-flow__viewport-portal"})]})})}mC.displayName="GraphView";const cO=y.memo(mC),$w=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:h=2,nodeOrigin:m,nodeExtent:g,zIndexMode:v="basic"}={})=>{const w=new Map,b=new Map,C=new Map,k=new Map,E=o??t??[],N=n??e??[],_=m??[0,0],P=g??bl;TS(C,k,E);const I=Nm(N,w,b,{nodeOrigin:_,nodeExtent:P,zIndexMode:v});let A=[0,0,1];if(l&&s&&a){const R=Yl(w,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))}),{x:O,y:H,zoom:K}=zg(R,s,a,d,h,(u==null?void 0:u.padding)??.1);A=[O,H,K]}return{rfId:"1",width:s??0,height:a??0,transform:A,nodes:N,nodesInitialized:I,nodeLookup:w,parentLookup:b,edges:E,edgeLookup:k,connectionLookup:C,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:d,maxZoom:h,translateExtent:bl,nodeExtent:P,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Bi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...uS},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:kM,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:cS,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},uO=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:h,nodeOrigin:m,nodeExtent:g,zIndexMode:v})=>P4((w,b)=>{async function C(){const{nodeLookup:k,panZoom:E,fitViewOptions:N,fitViewResolver:_,width:P,height:I,minZoom:A,maxZoom:R}=b();E&&(await CM({nodes:k,width:P,height:I,panZoom:E,minZoom:A,maxZoom:R},N),_==null||_.resolve(!0),w({fitViewResolver:null}))}return{...$w({nodes:e,edges:t,width:s,height:a,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:h,nodeOrigin:m,nodeExtent:g,defaultNodes:n,defaultEdges:o,zIndexMode:v}),setNodes:k=>{const{nodeLookup:E,parentLookup:N,nodeOrigin:_,elevateNodesOnSelect:P,fitViewQueued:I,zIndexMode:A}=b(),R=Nm(k,E,N,{nodeOrigin:_,nodeExtent:g,elevateNodesOnSelect:P,checkEquality:!0,zIndexMode:A});I&&R?(C(),w({nodes:k,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):w({nodes:k,nodesInitialized:R})},setEdges:k=>{const{connectionLookup:E,edgeLookup:N}=b();TS(E,N,k),w({edges:k})},setDefaultNodesAndEdges:(k,E)=>{if(k){const{setNodes:N}=b();N(k),w({hasDefaultNodes:!0})}if(E){const{setEdges:N}=b();N(E),w({hasDefaultEdges:!0})}},updateNodeInternals:k=>{const{triggerNodeChanges:E,nodeLookup:N,parentLookup:_,domNode:P,nodeOrigin:I,nodeExtent:A,debug:R,fitViewQueued:O,zIndexMode:H}=b(),{changes:K,updatedInternals:M}=qM(k,N,_,P,I,A,H);M&&(BM(N,_,{nodeOrigin:I,nodeExtent:A,zIndexMode:H}),O?(C(),w({fitViewQueued:!1,fitViewOptions:void 0})):w({}),(K==null?void 0:K.length)>0&&(R&&console.log("React Flow: trigger node changes",K),E==null||E(K)))},updateNodePositions:(k,E=!1)=>{const N=[];let _=[];const{nodeLookup:P,triggerNodeChanges:I,connection:A,updateConnection:R,onNodesChangeMiddlewareMap:O}=b();for(const[H,K]of k){const M=P.get(H),U=!!(M!=null&&M.expandParent&&(M!=null&&M.parentId)&&(K!=null&&K.position)),J={id:H,type:"position",position:U?{x:Math.max(0,K.position.x),y:Math.max(0,K.position.y)}:K.position,dragging:E};if(M&&A.inProgress&&A.fromNode.id===M.id){const L=Ts(M,A.fromHandle,_e.Left,!0);R({...A,from:L})}U&&M.parentId&&N.push({id:H,parentId:M.parentId,rect:{...K.internals.positionAbsolute,width:K.measured.width??0,height:K.measured.height??0}}),_.push(J)}if(N.length>0){const{parentLookup:H,nodeOrigin:K}=b(),M=qg(N,P,H,K);_.push(...M)}for(const H of O.values())_=H(_);I(_)},triggerNodeChanges:k=>{const{onNodesChange:E,setNodes:N,nodes:_,hasDefaultNodes:P,debug:I}=b();if(k!=null&&k.length){if(P){const A=VS(k,_);N(A)}I&&console.log("React Flow: trigger node changes",k),E==null||E(k)}},triggerEdgeChanges:k=>{const{onEdgesChange:E,setEdges:N,edges:_,hasDefaultEdges:P,debug:I}=b();if(k!=null&&k.length){if(P){const A=US(k,_);N(A)}I&&console.log("React Flow: trigger edge changes",k),E==null||E(k)}},addSelectedNodes:k=>{const{multiSelectionActive:E,edgeLookup:N,nodeLookup:_,triggerNodeChanges:P,triggerEdgeChanges:I}=b();if(E){const A=k.map(R=>is(R,!0));P(A);return}P(bi(_,new Set([...k]),!0)),I(bi(N))},addSelectedEdges:k=>{const{multiSelectionActive:E,edgeLookup:N,nodeLookup:_,triggerNodeChanges:P,triggerEdgeChanges:I}=b();if(E){const A=k.map(R=>is(R,!0));I(A);return}I(bi(N,new Set([...k]))),P(bi(_,new Set,!0))},unselectNodesAndEdges:({nodes:k,edges:E}={})=>{const{edges:N,nodes:_,nodeLookup:P,triggerNodeChanges:I,triggerEdgeChanges:A}=b(),R=k||_,O=E||N,H=R.map(M=>{const U=P.get(M.id);return U&&(U.selected=!1),is(M.id,!1)}),K=O.map(M=>is(M.id,!1));I(H),A(K)},setMinZoom:k=>{const{panZoom:E,maxZoom:N}=b();E==null||E.setScaleExtent([k,N]),w({minZoom:k})},setMaxZoom:k=>{const{panZoom:E,minZoom:N}=b();E==null||E.setScaleExtent([N,k]),w({maxZoom:k})},setTranslateExtent:k=>{var E;(E=b().panZoom)==null||E.setTranslateExtent(k),w({translateExtent:k})},resetSelectedElements:()=>{const{edges:k,nodes:E,triggerNodeChanges:N,triggerEdgeChanges:_,elementsSelectable:P}=b();if(!P)return;const I=E.reduce((R,O)=>O.selected?[...R,is(O.id,!1)]:R,[]),A=k.reduce((R,O)=>O.selected?[...R,is(O.id,!1)]:R,[]);N(I),_(A)},setNodeExtent:k=>{const{nodes:E,nodeLookup:N,parentLookup:_,nodeOrigin:P,elevateNodesOnSelect:I,nodeExtent:A,zIndexMode:R}=b();k[0][0]===A[0][0]&&k[0][1]===A[0][1]&&k[1][0]===A[1][0]&&k[1][1]===A[1][1]||(Nm(E,N,_,{nodeOrigin:P,nodeExtent:k,elevateNodesOnSelect:I,checkEquality:!1,zIndexMode:R}),w({nodeExtent:k}))},panBy:k=>{const{transform:E,width:N,height:_,panZoom:P,translateExtent:I}=b();return KM({delta:k,panZoom:P,transform:E,translateExtent:I,width:N,height:_})},setCenter:async(k,E,N)=>{const{width:_,height:P,maxZoom:I,panZoom:A}=b();if(!A)return Promise.resolve(!1);const R=typeof(N==null?void 0:N.zoom)<"u"?N.zoom:I;return await A.setViewport({x:_/2-k*R,y:P/2-E*R,zoom:R},{duration:N==null?void 0:N.duration,ease:N==null?void 0:N.ease,interpolate:N==null?void 0:N.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{w({connection:{...uS}})},updateConnection:k=>{w({connection:k})},reset:()=>w({...$w()})}},Object.is);function gC({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:s,initialHeight:a,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:h,nodeOrigin:m,nodeExtent:g,zIndexMode:v,children:w}){const[b]=y.useState(()=>uO({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:h,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:m,nodeExtent:g,zIndexMode:v}));return f.jsx(T4,{value:b,children:f.jsx(J4,{children:w})})}function dO({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:s,width:a,height:l,fitView:u,fitViewOptions:d,minZoom:h,maxZoom:m,nodeOrigin:g,nodeExtent:v,zIndexMode:w}){return y.useContext(qd)?f.jsx(f.Fragment,{children:e}):f.jsx(gC,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:s,initialWidth:a,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:h,initialMaxZoom:m,nodeOrigin:g,nodeExtent:v,zIndexMode:w,children:e})}const fO={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function hO({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:a,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:m,onMoveStart:g,onMoveEnd:v,onConnect:w,onConnectStart:b,onConnectEnd:C,onClickConnectStart:k,onClickConnectEnd:E,onNodeMouseEnter:N,onNodeMouseMove:_,onNodeMouseLeave:P,onNodeContextMenu:I,onNodeDoubleClick:A,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:H,onNodesDelete:K,onEdgesDelete:M,onDelete:U,onSelectionChange:J,onSelectionDragStart:L,onSelectionDrag:Q,onSelectionDragStop:z,onSelectionContextMenu:q,onSelectionStart:j,onSelectionEnd:F,onBeforeDelete:G,connectionMode:D,connectionLineType:V=Dr.Bezier,connectionLineStyle:oe,connectionLineComponent:re,connectionLineContainerStyle:ce,deleteKeyCode:de="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ne=!1,selectionMode:le=Sl.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:me=kl()?"Meta":"Control",zoomActivationKeyCode:he=kl()?"Meta":"Control",snapToGrid:ve,snapGrid:Ie,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:Oe,nodesDraggable:Ye,autoPanOnNodeFocus:Yt,nodesConnectable:wt,nodesFocusable:Qt,nodeOrigin:un=BS,edgesFocusable:mr,edgesReconnectable:Kr,elementsSelectable:$s=!0,defaultViewport:Fo=B4,minZoom:gr=.5,maxZoom:yr=2,translateExtent:zo=bl,preventScrolling:rc=!0,nodeExtent:vr,defaultMarkerColor:Ho="#b1b1b7",zoomOnScroll:kf=!0,zoomOnPinch:oc=!0,panOnScroll:sc=!1,panOnScrollSpeed:Ef=.5,panOnScrollMode:ca=ws.Free,zoomOnDoubleClick:ua=!0,panOnDrag:da=!0,onPaneClick:fa,onPaneMouseEnter:ha,onPaneMouseMove:Gr,onPaneMouseLeave:Yr,onPaneScroll:ic,onPaneContextMenu:ac,paneClickDistance:lc=1,nodeClickDistance:cc=0,children:uc,onReconnect:pa,onReconnectStart:dc,onReconnectEnd:Bo,onEdgeContextMenu:ma,onEdgeDoubleClick:Wo,onEdgeMouseEnter:Nf,onEdgeMouseMove:Vo,onEdgeMouseLeave:Fs,reconnectRadius:zs=10,onNodesChange:ga,onEdgesChange:Pf,noDragClassName:Tf="nodrag",noWheelClassName:Rf="nowheel",noPanClassName:qn="nopan",fitView:ya,fitViewOptions:va,connectOnClick:jf,attributionPosition:fc,proOptions:hc,defaultEdgeOptions:pc,elevateNodesOnSelect:mc=!0,elevateEdgesOnSelect:If=!1,disableKeyboardA11y:gc=!1,autoPanOnConnect:ot,autoPanOnNodeDrag:Af,autoPanSpeed:xa,connectionRadius:yc,isValidConnection:Hs,onError:Mf,style:vc,id:Uo,nodeDragThreshold:dn,connectionDragThreshold:Df,viewport:Xt,onViewportChange:Of,width:Lf,height:$f,colorMode:Bs="light",debug:Ws,onScroll:Kn,ariaLabelConfig:Vs,zIndexMode:xc="basic",...Ff},wa){const Us=Uo||"1",ba=q4(Bs),qo=y.useCallback(wc=>{wc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Kn==null||Kn(wc)},[Kn]);return f.jsx("div",{"data-testid":"rf__wrapper",...Ff,onScroll:qo,style:{...vc,...fO},ref:wa,className:pt(["react-flow",s,ba]),id:Uo,role:"application",children:f.jsxs(dO,{nodes:e,edges:t,width:Lf,height:$f,fitView:ya,fitViewOptions:va,minZoom:gr,maxZoom:yr,nodeOrigin:un,nodeExtent:vr,zIndexMode:xc,children:[f.jsx(cO,{onInit:h,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:N,onNodeMouseMove:_,onNodeMouseLeave:P,onNodeContextMenu:I,onNodeDoubleClick:A,nodeTypes:a,edgeTypes:l,connectionLineType:V,connectionLineStyle:oe,connectionLineComponent:re,connectionLineContainerStyle:ce,selectionKeyCode:te,selectionOnDrag:ne,selectionMode:le,deleteKeyCode:de,multiSelectionKeyCode:me,panActivationKeyCode:pe,zoomActivationKeyCode:he,onlyRenderVisibleElements:He,defaultViewport:Fo,translateExtent:zo,minZoom:gr,maxZoom:yr,preventScrolling:rc,zoomOnScroll:kf,zoomOnPinch:oc,zoomOnDoubleClick:ua,panOnScroll:sc,panOnScrollSpeed:Ef,panOnScrollMode:ca,panOnDrag:da,onPaneClick:fa,onPaneMouseEnter:ha,onPaneMouseMove:Gr,onPaneMouseLeave:Yr,onPaneScroll:ic,onPaneContextMenu:ac,paneClickDistance:lc,nodeClickDistance:cc,onSelectionContextMenu:q,onSelectionStart:j,onSelectionEnd:F,onReconnect:pa,onReconnectStart:dc,onReconnectEnd:Bo,onEdgeContextMenu:ma,onEdgeDoubleClick:Wo,onEdgeMouseEnter:Nf,onEdgeMouseMove:Vo,onEdgeMouseLeave:Fs,reconnectRadius:zs,defaultMarkerColor:Ho,noDragClassName:Tf,noWheelClassName:Rf,noPanClassName:qn,rfId:Us,disableKeyboardA11y:gc,nodeExtent:vr,viewport:Xt,onViewportChange:Of}),f.jsx(U4,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:w,onConnectStart:b,onConnectEnd:C,onClickConnectStart:k,onClickConnectEnd:E,nodesDraggable:Ye,autoPanOnNodeFocus:Yt,nodesConnectable:wt,nodesFocusable:Qt,edgesFocusable:mr,edgesReconnectable:Kr,elementsSelectable:$s,elevateNodesOnSelect:mc,elevateEdgesOnSelect:If,minZoom:gr,maxZoom:yr,nodeExtent:vr,onNodesChange:ga,onEdgesChange:Pf,snapToGrid:ve,snapGrid:Ie,connectionMode:D,translateExtent:zo,connectOnClick:jf,defaultEdgeOptions:pc,fitView:ya,fitViewOptions:va,onNodesDelete:K,onEdgesDelete:M,onDelete:U,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:H,onSelectionDrag:Q,onSelectionDragStart:L,onSelectionDragStop:z,onMove:m,onMoveStart:g,onMoveEnd:v,noPanClassName:qn,nodeOrigin:un,rfId:Us,autoPanOnConnect:ot,autoPanOnNodeDrag:Af,autoPanSpeed:xa,onError:Mf,connectionRadius:yc,isValidConnection:Hs,selectNodesOnDrag:Oe,nodeDragThreshold:dn,connectionDragThreshold:Df,onBeforeDelete:G,debug:Ws,ariaLabelConfig:Vs,zIndexMode:xc}),f.jsx(H4,{onSelectionChange:J}),uc,f.jsx(O4,{proOptions:hc,position:fc}),f.jsx(D4,{rfId:Us,disableKeyboardA11y:gc})]})})}var pO=qS(hO);function mO({dimensions:e,lineWidth:t,variant:n,className:o}){return f.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:pt(["react-flow__background-pattern",n,o])})}function gO({radius:e,className:t}){return f.jsx("circle",{cx:e,cy:e,r:e,className:pt(["react-flow__background-pattern","dots",t])})}var Fr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Fr||(Fr={}));const yO={[Fr.Dots]:1,[Fr.Lines]:1,[Fr.Cross]:6},vO=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function yC({id:e,variant:t=Fr.Dots,gap:n=20,size:o,lineWidth:s=1,offset:a=0,color:l,bgColor:u,style:d,className:h,patternClassName:m}){const g=y.useRef(null),{transform:v,patternId:w}=Be(vO,nt),b=o||yO[t],C=t===Fr.Dots,k=t===Fr.Cross,E=Array.isArray(n)?n:[n,n],N=[E[0]*v[2]||1,E[1]*v[2]||1],_=b*v[2],P=Array.isArray(a)?a:[a,a],I=k?[_,_]:N,A=[P[0]*v[2]||1+I[0]/2,P[1]*v[2]||1+I[1]/2],R=`${w}${e||""}`;return f.jsxs("svg",{className:pt(["react-flow__background",h]),style:{...d,...Kd,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:g,"data-testid":"rf__background",children:[f.jsx("pattern",{id:R,x:v[0]%N[0],y:v[1]%N[1],width:N[0],height:N[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:C?f.jsx(gO,{radius:_/2,className:m}):f.jsx(mO,{dimensions:I,lineWidth:s,variant:t,className:m})}),f.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}yC.displayName="Background";const xO=y.memo(yC);function wO(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function bO(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f.jsx("path",{d:"M0 0h32v4.2H0z"})})}function SO(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function CO(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function _O(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Mu({children:e,className:t,...n}){return f.jsx("button",{type:"button",className:pt(["react-flow__controls-button",t]),...n,children:e})}const kO=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function vC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:h,children:m,position:g="bottom-left",orientation:v="vertical","aria-label":w}){const b=rt(),{isInteractive:C,minZoomReached:k,maxZoomReached:E,ariaLabelConfig:N}=Be(kO,nt),{zoomIn:_,zoomOut:P,fitView:I}=Kg(),A=()=>{_(),a==null||a()},R=()=>{P(),l==null||l()},O=()=>{I(s),u==null||u()},H=()=>{b.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),d==null||d(!C)},K=v==="horizontal"?"horizontal":"vertical";return f.jsxs(Ki,{className:pt(["react-flow__controls",K,h]),position:g,style:e,"data-testid":"rf__controls","aria-label":w??N["controls.ariaLabel"],children:[t&&f.jsxs(f.Fragment,{children:[f.jsx(Mu,{onClick:A,className:"react-flow__controls-zoomin",title:N["controls.zoomIn.ariaLabel"],"aria-label":N["controls.zoomIn.ariaLabel"],disabled:E,children:f.jsx(wO,{})}),f.jsx(Mu,{onClick:R,className:"react-flow__controls-zoomout",title:N["controls.zoomOut.ariaLabel"],"aria-label":N["controls.zoomOut.ariaLabel"],disabled:k,children:f.jsx(bO,{})})]}),n&&f.jsx(Mu,{className:"react-flow__controls-fitview",onClick:O,title:N["controls.fitView.ariaLabel"],"aria-label":N["controls.fitView.ariaLabel"],children:f.jsx(SO,{})}),o&&f.jsx(Mu,{className:"react-flow__controls-interactive",onClick:H,title:N["controls.interactive.ariaLabel"],"aria-label":N["controls.interactive.ariaLabel"],children:C?f.jsx(_O,{}):f.jsx(CO,{})}),m]})}vC.displayName="Controls";const EO=y.memo(vC);function NO({id:e,x:t,y:n,width:o,height:s,style:a,color:l,strokeColor:u,strokeWidth:d,className:h,borderRadius:m,shapeRendering:g,selected:v,onClick:w}){const{background:b,backgroundColor:C}=a||{},k=l||b||C;return f.jsx("rect",{className:pt(["react-flow__minimap-node",{selected:v},h]),x:t,y:n,rx:m,ry:m,width:o,height:s,style:{fill:k,stroke:u,strokeWidth:d},shapeRendering:g,onClick:w?E=>w(E,e):void 0})}const PO=y.memo(NO),TO=e=>e.nodes.map(t=>t.id),Lp=e=>e instanceof Function?e:()=>e;function RO({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a=PO,onClick:l}){const u=Be(TO,nt),d=Lp(t),h=Lp(e),m=Lp(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return f.jsx(f.Fragment,{children:u.map(v=>f.jsx(IO,{id:v,nodeColorFunc:d,nodeStrokeColorFunc:h,nodeClassNameFunc:m,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:a,onClick:l,shapeRendering:g},v))})}function jO({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:a,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:h,x:m,y:g,width:v,height:w}=Be(b=>{const{internals:C}=b.nodeLookup.get(e),k=C.userNode,{x:E,y:N}=C.positionAbsolute,{width:_,height:P}=qr(k);return{node:k,x:E,y:N,width:_,height:P}},nt);return!h||h.hidden||!yS(h)?null:f.jsx(u,{x:m,y:g,width:v,height:w,style:h.style,selected:!!h.selected,className:o(h),color:t(h),borderRadius:s,strokeColor:n(h),strokeWidth:a,shapeRendering:l,onClick:d,id:h.id})}const IO=y.memo(jO);var AO=y.memo(RO);const MO=200,DO=150,OO=e=>!e.hidden,LO=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?gS(Yl(e.nodeLookup,{filter:OO}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},$O="react-flow__minimap-desc";function xC({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:h,maskStrokeColor:m,maskStrokeWidth:g,position:v="bottom-right",onClick:w,onNodeClick:b,pannable:C=!1,zoomable:k=!1,ariaLabel:E,inversePan:N,zoomStep:_=1,offsetScale:P=5}){const I=rt(),A=y.useRef(null),{boundingRect:R,viewBB:O,rfId:H,panZoom:K,translateExtent:M,flowWidth:U,flowHeight:J,ariaLabelConfig:L}=Be(LO,nt),Q=(e==null?void 0:e.width)??MO,z=(e==null?void 0:e.height)??DO,q=R.width/Q,j=R.height/z,F=Math.max(q,j),G=F*Q,D=F*z,V=P*F,oe=R.x-(G-R.width)/2-V,re=R.y-(D-R.height)/2-V,ce=G+V*2,de=D+V*2,te=`${$O}-${H}`,ne=y.useRef(0),le=y.useRef();ne.current=F,y.useEffect(()=>{if(A.current&&K)return le.current=n4({domNode:A.current,panZoom:K,getTransform:()=>I.getState().transform,getViewScale:()=>ne.current}),()=>{var ve;(ve=le.current)==null||ve.destroy()}},[K]),y.useEffect(()=>{var ve;(ve=le.current)==null||ve.update({translateExtent:M,width:U,height:J,inversePan:N,pannable:C,zoomStep:_,zoomable:k})},[C,k,N,_,M,U,J]);const pe=w?ve=>{var Oe;const[Ie,He]=((Oe=le.current)==null?void 0:Oe.pointer(ve))||[0,0];w(ve,{x:Ie,y:He})}:void 0,me=b?y.useCallback((ve,Ie)=>{const He=I.getState().nodeLookup.get(Ie).internals.userNode;b(ve,He)},[]):void 0,he=E??L["minimap.ariaLabel"];return f.jsx(Ki,{position:v,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof g=="number"?g*F:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:pt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:f.jsxs("svg",{width:Q,height:z,viewBox:`${oe} ${re} ${ce} ${de}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:A,onClick:pe,children:[he&&f.jsx("title",{id:te,children:he}),f.jsx(AO,{onClick:me,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:l,nodeComponent:u}),f.jsx("path",{className:"react-flow__minimap-mask",d:`M${oe-V},${re-V}h${ce+V*2}v${de+V*2}h${-ce-V*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}xC.displayName="MiniMap";const FO=y.memo(xC),zO=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,HO={[qi.Line]:"right",[qi.Handle]:"bottom-right"};function BO({nodeId:e,position:t,variant:n=qi.Handle,className:o,style:s=void 0,children:a,color:l,minWidth:u=10,minHeight:d=10,maxWidth:h=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:v,autoScale:w=!0,shouldResize:b,onResizeStart:C,onResize:k,onResizeEnd:E}){const N=QS(),_=typeof e=="string"?e:N,P=rt(),I=y.useRef(null),A=n===qi.Handle,R=Be(y.useCallback(zO(A&&w),[A,w]),nt),O=y.useRef(null),H=t??HO[n];y.useEffect(()=>{if(!(!I.current||!_))return O.current||(O.current=g4({domNode:I.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:M,transform:U,snapGrid:J,snapToGrid:L,nodeOrigin:Q,domNode:z}=P.getState();return{nodeLookup:M,transform:U,snapGrid:J,snapToGrid:L,nodeOrigin:Q,paneDomNode:z}},onChange:(M,U)=>{const{triggerNodeChanges:J,nodeLookup:L,parentLookup:Q,nodeOrigin:z}=P.getState(),q=[],j={x:M.x,y:M.y},F=L.get(_);if(F&&F.expandParent&&F.parentId){const G=F.origin??z,D=M.width??F.measured.width??0,V=M.height??F.measured.height??0,oe={id:F.id,parentId:F.parentId,rect:{width:D,height:V,...vS({x:M.x??F.position.x,y:M.y??F.position.y},{width:D,height:V},F.parentId,L,G)}},re=qg([oe],L,Q,z);q.push(...re),j.x=M.x?Math.max(G[0]*D,M.x):void 0,j.y=M.y?Math.max(G[1]*V,M.y):void 0}if(j.x!==void 0&&j.y!==void 0){const G={id:_,type:"position",position:{...j}};q.push(G)}if(M.width!==void 0&&M.height!==void 0){const D={id:_,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:M.width,height:M.height}};q.push(D)}for(const G of U){const D={...G,type:"position"};q.push(D)}J(q)},onEnd:({width:M,height:U})=>{const J={id:_,type:"dimensions",resizing:!1,dimensions:{width:M,height:U}};P.getState().triggerNodeChanges([J])}})),O.current.update({controlPosition:H,boundaries:{minWidth:u,minHeight:d,maxWidth:h,maxHeight:m},keepAspectRatio:g,resizeDirection:v,onResizeStart:C,onResize:k,onResizeEnd:E,shouldResize:b}),()=>{var M;(M=O.current)==null||M.destroy()}},[H,u,d,h,m,g,C,k,E,b]);const K=H.split("-");return f.jsx("div",{className:pt(["react-flow__resize-control","nodrag",...K,n,o]),ref:I,style:{...s,scale:R,...l&&{[A?"backgroundColor":"borderColor"]:l}},children:a})}y.memo(BO);const Fw=e=>{let t;const n=new Set,o=(h,m)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const v=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(w=>w(t,v))}},s=()=>t,u={setState:o,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=t=e(o,s,u);return u},WO=(e=>e?Fw(e):Fw),VO=e=>e;function UO(e,t=VO){const n=nn.useSyncExternalStore(e.subscribe,nn.useCallback(()=>t(e.getState()),[e,t]),nn.useCallback(()=>t(e.getInitialState()),[e,t]));return nn.useDebugValue(n),n}const qO=e=>{const t=WO(e),n=o=>UO(t,o);return Object.assign(n,t),n},KO=(e=>qO);var wC=Symbol.for("immer-nothing"),zw=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function Dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sn=Object,Gi=sn.getPrototypeOf,vd="constructor",Yd="prototype",Rm="configurable",xd="enumerable",Zu="writable",Nl="value",Ao=e=>!!e&&!!e[Ft];function Wr(e){var t;return e?bC(e)||Qd(e)||!!e[zw]||!!((t=e[vd])!=null&&t[zw])||Xd(e)||Jd(e):!1}var GO=sn[Yd][vd].toString(),Hw=new WeakMap;function bC(e){if(!e||!Yg(e))return!1;const t=Gi(e);if(t===null||t===sn[Yd])return!0;const n=sn.hasOwnProperty.call(t,vd)&&t[vd];if(n===Object)return!0;if(!xi(n))return!1;let o=Hw.get(n);return o===void 0&&(o=Function.toString.call(n),Hw.set(n,o)),o===GO}function Jl(e,t,n=!0){Zl(e)===0?(n?Reflect.ownKeys(e):sn.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((o,s)=>t(s,o,e))}function Zl(e){const t=e[Ft];return t?t.type_:Qd(e)?1:Xd(e)?2:Jd(e)?3:0}var Bw=(e,t,n=Zl(e))=>n===2?e.has(t):sn[Yd].hasOwnProperty.call(e,t),jm=(e,t,n=Zl(e))=>n===2?e.get(t):e[t],wd=(e,t,n,o=Zl(e))=>{o===2?e.set(t,n):o===3?e.add(n):e[t]=n};function YO(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qd=Array.isArray,Xd=e=>e instanceof Map,Jd=e=>e instanceof Set,Yg=e=>typeof e=="object",xi=e=>typeof e=="function",$p=e=>typeof e=="boolean",Rr=e=>e.copy_||e.base_,Qg=e=>e.modified_?e.copy_:e.base_;function Im(e,t){if(Xd(e))return new Map(e);if(Jd(e))return new Set(e);if(Qd(e))return Array[Yd].slice.call(e);const n=bC(e);if(t===!0||t==="class_only"&&!n){const o=sn.getOwnPropertyDescriptors(e);delete o[Ft];let s=Reflect.ownKeys(o);for(let a=0;a<s.length;a++){const l=s[a],u=o[l];u[Zu]===!1&&(u[Zu]=!0,u[Rm]=!0),(u.get||u.set)&&(o[l]={[Rm]:!0,[Zu]:!0,[xd]:u[xd],[Nl]:e[l]})}return sn.create(Gi(e),o)}else{const o=Gi(e);if(o!==null&&n)return{...e};const s=sn.create(o);return sn.assign(s,e)}}function Xg(e,t=!1){return Zd(e)||Ao(e)||!Wr(e)||(Zl(e)>1&&sn.defineProperties(e,{set:Du,add:Du,clear:Du,delete:Du}),sn.freeze(e),t&&Jl(e,(n,o)=>{Xg(o,!0)},!1)),e}function QO(){Dn(2)}var Du={[Nl]:QO};function Zd(e){return e===null||!Yg(e)?!0:sn.isFrozen(e)}var bd="MapSet",Am="Patches",SC={};function Yi(e){const t=SC[e];return t||Dn(0,e),t}var XO=e=>!!SC[e],Pl,CC=()=>Pl,JO=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XO(bd)?Yi(bd):void 0});function Ww(e,t){t&&(e.patchPlugin_=Yi(Am),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mm(e){Dm(e),e.drafts_.forEach(ZO),e.drafts_=null}function Dm(e){e===Pl&&(Pl=e.parent_)}var Vw=e=>Pl=JO(Pl,e);function ZO(e){const t=e[Ft];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Uw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ft].modified_&&(Mm(t),Dn(4)),Wr(e)&&(e=qw(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(n[Ft].base_,e,t)}else e=qw(t,n);return e3(t,e,!0),Mm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wC?e:void 0}function qw(e,t){if(Zd(t))return t;const n=t[Ft];if(!n)return Jg(t,e.handledSet_,e);if(!ef(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:o}=n;if(o)for(;o.length>0;)o.pop()(e);EC(n,e)}return n.copy_}function e3(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xg(t,n)}function _C(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ef=(e,t)=>e.scope_===t,t3=[];function kC(e,t,n,o){const s=Rr(e),a=e.type_;if(o!==void 0&&jm(s,o,a)===t){wd(s,o,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Jl(s,(d,h)=>{if(Ao(h)){const m=u.get(h)||[];m.push(d),u.set(h,m)}})}const l=e.draftLocations_.get(t)??t3;for(const u of l)wd(s,u,n,a)}function n3(e,t,n){e.callbacks_.push(function(s){var u;const a=t;if(!a||!ef(a,s))return;(u=s.mapSetPlugin_)==null||u.fixSetContents(a);const l=Qg(a);kC(e,a.draft_??a,l,n),EC(a,s)})}function EC(e,t){var o;if(e.modified_&&!e.finalized_&&(e.type_===3||(((o=e.assigned_)==null?void 0:o.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const a=s.getPath(e);a&&s.generatePatches_(e,a,t)}_C(e)}}function r3(e,t,n){const{scope_:o}=e;if(Ao(n)){const s=n[Ft];ef(s,o)&&s.callbacks_.push(function(){ed(e);const l=Qg(s);kC(e,n,l,t)})}else Wr(n)&&e.callbacks_.push(function(){const a=Rr(e);jm(a,t,e.type_)===n&&o.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jg(jm(e.copy_,t,e.type_),o.handledSet_,o)})}function Jg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ao(e)||t.has(e)||!Wr(e)||Zd(e)||(t.add(e),Jl(e,(o,s)=>{if(Ao(s)){const a=s[Ft];if(ef(a,n)){const l=Qg(a);wd(e,o,l,e.type_),_C(a)}}else Wr(s)&&Jg(s,t,n)})),e}function o3(e,t){const n=Qd(e),o={type_:n?1:0,scope_:t?t.scope_:CC(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=o,a=Zg;n&&(s=[o],a=Tl);const{revoke:l,proxy:u}=Proxy.revocable(s,a);return o.draft_=u,o.revoke_=l,[u,o]}var Zg={get(e,t){if(t===Ft)return e;const n=Rr(e);if(!Bw(n,t,e.type_))return s3(e,n,t);const o=n[t];if(e.finalized_||!Wr(o))return o;if(o===Fp(e.base_,t)){ed(e);const s=e.type_===1?+t:t,a=Lm(e.scope_,o,e,s);return e.copy_[s]=a}return o},has(e,t){return t in Rr(e)},ownKeys(e){return Reflect.ownKeys(Rr(e))},set(e,t,n){const o=NC(Rr(e),t);if(o!=null&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const s=Fp(Rr(e),t),a=s==null?void 0:s[Ft];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(YO(n,s)&&(n!==void 0||Bw(e.base_,t,e.type_)))return!0;ed(e),Om(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),r3(e,t,n)),!0},deleteProperty(e,t){return ed(e),Fp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Om(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rr(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{[Zu]:!0,[Rm]:e.type_!==1||t!=="length",[xd]:o[xd],[Nl]:n[t]}},defineProperty(){Dn(11)},getPrototypeOf(e){return Gi(e.base_)},setPrototypeOf(){Dn(12)}},Tl={};Jl(Zg,(e,t)=>{Tl[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Tl.deleteProperty=function(e,t){return Tl.set.call(this,e,t,void 0)};Tl.set=function(e,t,n){return Zg.set.call(this,e[0],t,n,e[0])};function Fp(e,t){const n=e[Ft];return(n?Rr(n):e)[t]}function s3(e,t,n){var s;const o=NC(t,n);return o?Nl in o?o[Nl]:(s=o.get)==null?void 0:s.call(e.draft_):void 0}function NC(e,t){if(!(t in e))return;let n=Gi(e);for(;n;){const o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Gi(n)}}function Om(e){e.modified_||(e.modified_=!0,e.parent_&&Om(e.parent_))}function ed(e){e.copy_||(e.assigned_=new Map,e.copy_=Im(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var i3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,o)=>{if(xi(t)&&!xi(n)){const a=n;n=t;const l=this;return function(d=a,...h){return l.produce(d,m=>n.call(this,m,...h))}}xi(n)||Dn(6),o!==void 0&&!xi(o)&&Dn(7);let s;if(Wr(t)){const a=Vw(this),l=Lm(a,t,void 0);let u=!0;try{s=n(l),u=!1}finally{u?Mm(a):Dm(a)}return Ww(a,o),Uw(s,a)}else if(!t||!Yg(t)){if(s=n(t),s===void 0&&(s=t),s===wC&&(s=void 0),this.autoFreeze_&&Xg(s,!0),o){const a=[],l=[];Yi(Am).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:l}),o(a,l)}return s}else Dn(1,t)},this.produceWithPatches=(t,n)=>{if(xi(t))return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let o,s;return[this.produce(t,n,(l,u)=>{o=l,s=u}),o,s]},$p(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),$p(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),$p(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wr(e)||Dn(8),Ao(e)&&(e=a3(e));const t=Vw(this),n=Lm(t,e,void 0);return n[Ft].isManual_=!0,Dm(t),n}finishDraft(e,t){const n=e&&e[Ft];(!n||!n.isManual_)&&Dn(9);const{scope_:o}=n;return Ww(o,t),Uw(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const o=Yi(Am).applyPatches_;return Ao(e)?o(e,t):this.produce(e,s=>o(s,t))}};function Lm(e,t,n,o){const[s,a]=Xd(t)?Yi(bd).proxyMap_(t,n):Jd(t)?Yi(bd).proxySet_(t,n):o3(t,n);return((n==null?void 0:n.scope_)??CC()).drafts_.push(s),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=o,n&&o!==void 0?n3(n,a,o):a.callbacks_.push(function(d){var m;(m=d.mapSetPlugin_)==null||m.fixSetContents(a);const{patchPlugin_:h}=d;a.modified_&&h&&h.generatePatches_(a,[],d)}),s}function a3(e){return Ao(e)||Dn(10,e),PC(e)}function PC(e){if(!Wr(e)||Zd(e))return e;const t=e[Ft];let n,o=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Im(e,t.scope_.immer_.useStrictShallowCopy_),o=t.scope_.immer_.shouldUseStrictIteration()}else n=Im(e,!0);return Jl(n,(s,a)=>{wd(n,s,PC(a))},o),t&&(t.finalized_=!1),n}var l3=new i3,c3=l3.produce;const u3=e=>(t,n,o)=>(o.setState=(s,a,...l)=>{const u=typeof s=="function"?c3(s):s;return t(u,a,...l)},e(o.setState,n,o)),d3=u3,Sd={"trigger-manual":{type:"trigger-manual",category:"trigger",label:"Manual Trigger",description:"Start workflow manually with a button click",icon:"Play",color:"#22c55e",defaultConfig:{buttonLabel:"Run Workflow"},configSchema:[{key:"buttonLabel",label:"Button Label",type:"text",placeholder:"Enter button text",defaultValue:"Run Workflow",description:"Text displayed on the trigger button"}]},"trigger-schedule":{type:"trigger-schedule",category:"trigger",label:"Schedule Trigger",description:"Start workflow on a recurring schedule",icon:"Clock",color:"#22c55e",defaultConfig:{cronExpression:"0 * * * *",timezone:"UTC",enabled:!0},configSchema:[{key:"cronExpression",label:"Schedule (Cron)",type:"cron",placeholder:"0 * * * *",required:!0,defaultValue:"0 * * * *",description:'Cron expression for scheduling (e.g., "0 9 * * 1-5" for weekdays at 9 AM)'},{key:"timezone",label:"Timezone",type:"select",defaultValue:"UTC",options:[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time (US)"},{value:"America/Los_Angeles",label:"Pacific Time (US)"},{value:"Europe/London",label:"London (UK)"},{value:"Europe/Paris",label:"Paris (EU)"},{value:"Asia/Tokyo",label:"Tokyo (Japan)"},{value:"Asia/Seoul",label:"Seoul (Korea)"},{value:"Asia/Shanghai",label:"Shanghai (China)"}],description:"Timezone for the schedule"},{key:"enabled",label:"Enabled",type:"boolean",defaultValue:!0,description:"Whether the schedule is active"}]},"trigger-webhook":{type:"trigger-webhook",category:"trigger",label:"Webhook Trigger",description:"Start workflow when receiving HTTP requests",icon:"Webhook",color:"#22c55e",defaultConfig:{method:"POST",path:"/webhook",authentication:"none"},configSchema:[{key:"path",label:"Webhook Path",type:"text",placeholder:"/webhook/my-endpoint",required:!0,defaultValue:"/webhook",description:"URL path for the webhook endpoint"},{key:"method",label:"HTTP Method",type:"select",defaultValue:"POST",options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"PATCH",label:"PATCH"},{value:"DELETE",label:"DELETE"}],description:"HTTP method to accept"},{key:"authentication",label:"Authentication",type:"select",defaultValue:"none",options:[{value:"none",label:"No Authentication"},{value:"basic",label:"Basic Auth"},{value:"bearer",label:"Bearer Token"},{value:"header",label:"Custom Header"}],description:"Authentication method for incoming requests"},{key:"secretKey",label:"Secret Key",type:"text",placeholder:"Enter secret key",description:"Secret key for authentication (if applicable)"}]},"action-job":{type:"action-job",category:"action",label:"Execute Job",description:"Execute a job on connected agents",icon:"Zap",color:"#3b82f6",defaultConfig:{jobType:"",agentSelector:"any",timeout:300,retryCount:0},configSchema:[{key:"jobType",label:"Job Type",type:"text",placeholder:"e.g., backup, sync, process",required:!0,description:"Type of job to execute"},{key:"agentSelector",label:"Agent Selection",type:"select",defaultValue:"any",options:[{value:"any",label:"Any Available Agent"},{value:"all",label:"All Agents"},{value:"specific",label:"Specific Agent"},{value:"tag",label:"By Tag"}],description:"How to select agents for job execution"},{key:"agentId",label:"Agent ID",type:"text",placeholder:"Enter agent ID",description:'Specific agent ID (when "Specific Agent" is selected)'},{key:"agentTag",label:"Agent Tag",type:"text",placeholder:"e.g., production, backup-node",description:'Agent tag to filter by (when "By Tag" is selected)'},{key:"payload",label:"Job Payload",type:"json",placeholder:'{ "key": "value" }',description:"JSON payload to send with the job"},{key:"timeout",label:"Timeout (seconds)",type:"number",defaultValue:300,validation:{min:1,max:86400},description:"Maximum time to wait for job completion"},{key:"retryCount",label:"Retry Count",type:"number",defaultValue:0,validation:{min:0,max:10},description:"Number of times to retry on failure"}]},"action-http":{type:"action-http",category:"action",label:"HTTP Request",description:"Make HTTP requests to external APIs",icon:"Globe",color:"#3b82f6",defaultConfig:{method:"GET",url:"",headers:{},timeout:30},configSchema:[{key:"url",label:"URL",type:"text",placeholder:"https://api.example.com/endpoint",required:!0,description:"The URL to send the request to"},{key:"method",label:"HTTP Method",type:"select",defaultValue:"GET",options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"PATCH",label:"PATCH"},{value:"DELETE",label:"DELETE"}],description:"HTTP method to use"},{key:"headers",label:"Headers",type:"json",placeholder:'{ "Content-Type": "application/json" }',defaultValue:{},description:"HTTP headers to include"},{key:"body",label:"Request Body",type:"json",placeholder:'{ "data": "value" }',description:"Request body (for POST, PUT, PATCH)"},{key:"timeout",label:"Timeout (seconds)",type:"number",defaultValue:30,validation:{min:1,max:300},description:"Request timeout in seconds"},{key:"followRedirects",label:"Follow Redirects",type:"boolean",defaultValue:!0,description:"Whether to follow HTTP redirects"}]},"action-delay":{type:"action-delay",category:"action",label:"Delay",description:"Wait for a specified duration",icon:"Timer",color:"#3b82f6",defaultConfig:{duration:5,unit:"seconds"},configSchema:[{key:"duration",label:"Duration",type:"number",required:!0,defaultValue:5,validation:{min:1,max:86400},description:"How long to wait"},{key:"unit",label:"Time Unit",type:"select",defaultValue:"seconds",options:[{value:"seconds",label:"Seconds"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"}],description:"Unit of time for the duration"}]},"logic-condition":{type:"logic-condition",category:"logic",label:"If/Else",description:"Branch workflow based on conditions",icon:"GitBranch",color:"#f59e0b",defaultConfig:{conditions:[],combineWith:"and"},configSchema:[{key:"field",label:"Field to Check",type:"text",placeholder:"e.g., data.status, response.code",required:!0,description:"The field path to evaluate"},{key:"operator",label:"Operator",type:"select",defaultValue:"equals",options:[{value:"equals",label:"Equals"},{value:"notEquals",label:"Not Equals"},{value:"contains",label:"Contains"},{value:"startsWith",label:"Starts With"},{value:"endsWith",label:"Ends With"},{value:"greaterThan",label:"Greater Than"},{value:"lessThan",label:"Less Than"},{value:"isEmpty",label:"Is Empty"},{value:"isNotEmpty",label:"Is Not Empty"},{value:"regex",label:"Matches Regex"}],description:"Comparison operator"},{key:"value",label:"Value",type:"text",placeholder:"Value to compare against",description:"The value to compare with"},{key:"combineWith",label:"Combine Conditions",type:"select",defaultValue:"and",options:[{value:"and",label:"AND - All must match"},{value:"or",label:"OR - Any must match"}],description:"How to combine multiple conditions"}]},"logic-switch":{type:"logic-switch",category:"logic",label:"Switch",description:"Route to different paths based on value",icon:"GitMerge",color:"#f59e0b",defaultConfig:{field:"",cases:[],defaultCase:!0},configSchema:[{key:"field",label:"Field to Switch On",type:"text",placeholder:"e.g., data.type, response.status",required:!0,description:"The field path to evaluate"},{key:"cases",label:"Cases",type:"json",placeholder:'[{ "value": "case1", "label": "Case 1" }]',defaultValue:[],description:"Array of case values and labels"},{key:"defaultCase",label:"Include Default Case",type:"boolean",defaultValue:!0,description:"Whether to include a default/fallback path"}]},"logic-loop":{type:"logic-loop",category:"logic",label:"Loop",description:"Iterate over items in an array",icon:"Repeat",color:"#f59e0b",defaultConfig:{arrayField:"",batchSize:1,parallelExecution:!1},configSchema:[{key:"arrayField",label:"Array Field",type:"text",placeholder:"e.g., data.items, response.results",required:!0,description:"The field path containing the array to iterate"},{key:"batchSize",label:"Batch Size",type:"number",defaultValue:1,validation:{min:1,max:100},description:"Number of items to process per iteration"},{key:"parallelExecution",label:"Parallel Execution",type:"boolean",defaultValue:!1,description:"Process items in parallel instead of sequentially"},{key:"maxIterations",label:"Max Iterations",type:"number",defaultValue:1e3,validation:{min:1,max:1e4},description:"Maximum number of iterations (safety limit)"}]},"transform-filter":{type:"transform-filter",category:"transform",label:"Filter",description:"Filter items based on conditions",icon:"Filter",color:"#8b5cf6",defaultConfig:{conditions:[],combineWith:"and"},configSchema:[{key:"arrayField",label:"Array to Filter",type:"text",placeholder:"e.g., data.items",required:!0,description:"The array field to filter"},{key:"field",label:"Item Field",type:"text",placeholder:"e.g., status, type",required:!0,description:"The field within each item to check"},{key:"operator",label:"Operator",type:"select",defaultValue:"equals",options:[{value:"equals",label:"Equals"},{value:"notEquals",label:"Not Equals"},{value:"contains",label:"Contains"},{value:"greaterThan",label:"Greater Than"},{value:"lessThan",label:"Less Than"},{value:"isEmpty",label:"Is Empty"},{value:"isNotEmpty",label:"Is Not Empty"}],description:"Comparison operator"},{key:"value",label:"Value",type:"text",placeholder:"Value to match",description:"The value to compare with"}]},"transform-map":{type:"transform-map",category:"transform",label:"Map / Transform",description:"Transform data structure or values",icon:"Shuffle",color:"#8b5cf6",defaultConfig:{mappings:[]},configSchema:[{key:"inputField",label:"Input Field",type:"text",placeholder:"e.g., data, response.body",description:"The input data field to transform"},{key:"outputField",label:"Output Field",type:"text",placeholder:"e.g., transformedData",description:"Where to store the transformed data"},{key:"mappings",label:"Field Mappings",type:"json",placeholder:'[{ "from": "oldField", "to": "newField" }]',defaultValue:[],description:"Array of field mapping definitions"},{key:"expression",label:"Transform Expression",type:"textarea",placeholder:"JavaScript expression, e.g., item.value * 2",description:"Custom transformation expression"}]},"transform-aggregate":{type:"transform-aggregate",category:"transform",label:"Aggregate",description:"Combine multiple items into summary",icon:"Layers",color:"#8b5cf6",defaultConfig:{operation:"count",field:""},configSchema:[{key:"arrayField",label:"Array to Aggregate",type:"text",placeholder:"e.g., data.items",required:!0,description:"The array field to aggregate"},{key:"operation",label:"Operation",type:"select",defaultValue:"count",options:[{value:"count",label:"Count"},{value:"sum",label:"Sum"},{value:"average",label:"Average"},{value:"min",label:"Minimum"},{value:"max",label:"Maximum"},{value:"concat",label:"Concatenate"},{value:"unique",label:"Unique Values"},{value:"groupBy",label:"Group By"}],description:"Aggregation operation to perform"},{key:"field",label:"Field",type:"text",placeholder:"e.g., amount, value",description:"The field to aggregate (for sum, avg, etc.)"},{key:"groupByField",label:"Group By Field",type:"text",placeholder:"e.g., category, type",description:"Field to group by (when using Group By)"},{key:"outputField",label:"Output Field",type:"text",placeholder:"e.g., result, summary",defaultValue:"aggregateResult",description:"Where to store the aggregation result"}]}};function f3(){const e={trigger:[],action:[],logic:[],transform:[]};return Object.values(Sd).forEach(t=>{e[t.category]&&e[t.category].push(t)}),e}const h3={trigger:{label:"Triggers",description:"Events that start the workflow",icon:"Play",color:"#22c55e"},action:{label:"Actions",description:"Operations that perform tasks",icon:"Zap",color:"#3b82f6"},logic:{label:"Logic",description:"Control the flow of execution",icon:"GitBranch",color:"#f59e0b"},transform:{label:"Transform",description:"Manipulate and transform data",icon:"Shuffle",color:"#8b5cf6"},integration:{label:"Integration",description:"Connect with external services",icon:"Globe",color:"#ec4899"}},p3=50;function Kw(){return`node_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}function m3(e,t){return`edge_${e}_${t}_${Math.random().toString(36).substring(2,5)}`}const qe=KO()(d3((e,t)=>({nodes:[],edges:[],workflowName:"Untitled Workflow",workflowDescription:"",editor:{isDirty:!1,selectedNodeId:null,selectedEdgeId:null,isValidating:!1,validationErrors:[],zoom:1,isPanelOpen:!0},history:[],historyIndex:-1,setNodes:n=>{e(o=>{o.nodes=n,o.editor.isDirty=!0})},setEdges:n=>{e(o=>{o.edges=n,o.editor.isDirty=!0})},onNodesChange:n=>{e(o=>{o.nodes=VS(n,o.nodes),o.editor.isDirty=!0})},onEdgesChange:n=>{e(o=>{o.edges=US(n,o.edges),o.editor.isDirty=!0})},onConnect:n=>{e(o=>{const s={id:m3(n.source,n.target),source:n.source,target:n.target,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle,type:"smoothstep",animated:!0};o.edges=kS(s,o.edges),o.editor.isDirty=!0}),t().pushHistory()},addNode:(n,o)=>{const s=Sd[n];if(!s)return console.error(`Unknown node type: ${n}`),"";const a=Kw(),l={id:a,type:"workflowNode",position:o,data:{label:s.label,description:s.description,nodeType:n,category:s.category,icon:s.icon,config:{...s.defaultConfig},isConfigured:!1}};return e(u=>{u.nodes.push(l),u.editor.isDirty=!0,u.editor.selectedNodeId=a}),t().pushHistory(),a},updateNodeConfig:(n,o)=>{e(s=>{const a=s.nodes.find(l=>l.id===n);a&&(a.data.config={...a.data.config,...o},a.data.isConfigured=!0,s.editor.isDirty=!0)}),t().pushHistory()},updateNodeData:(n,o)=>{e(s=>{const a=s.nodes.find(l=>l.id===n);a&&(a.data={...a.data,...o},s.editor.isDirty=!0)})},deleteNode:n=>{e(o=>{o.nodes=o.nodes.filter(s=>s.id!==n),o.edges=o.edges.filter(s=>s.source!==n&&s.target!==n),o.editor.selectedNodeId===n&&(o.editor.selectedNodeId=null),o.editor.isDirty=!0}),t().pushHistory()},duplicateNode:n=>{const s=t().nodes.find(u=>u.id===n);if(!s)return;const a=Kw(),l={...s,id:a,position:{x:s.position.x+50,y:s.position.y+50},data:{...s.data}};e(u=>{u.nodes.push(l),u.editor.isDirty=!0,u.editor.selectedNodeId=a}),t().pushHistory()},deleteEdge:n=>{e(o=>{o.edges=o.edges.filter(s=>s.id!==n),o.editor.selectedEdgeId===n&&(o.editor.selectedEdgeId=null),o.editor.isDirty=!0}),t().pushHistory()},updateEdgeLabel:(n,o)=>{e(s=>{const a=s.edges.find(l=>l.id===n);a&&(a.data={...a.data,label:o},s.editor.isDirty=!0)})},selectNode:n=>{e(o=>{o.editor.selectedNodeId=n,o.editor.selectedEdgeId=null})},selectEdge:n=>{e(o=>{o.editor.selectedEdgeId=n,o.editor.selectedNodeId=null})},clearSelection:()=>{e(n=>{n.editor.selectedNodeId=null,n.editor.selectedEdgeId=null})},setWorkflowName:n=>{e(o=>{o.workflowName=n,o.editor.isDirty=!0})},setWorkflowDescription:n=>{e(o=>{o.workflowDescription=n,o.editor.isDirty=!0})},validateWorkflow:()=>{const n=t(),o=[];return n.nodes.length===0&&o.push({message:"Workflow must have at least one node",severity:"error"}),!n.nodes.some(a=>a.data.category==="trigger")&&n.nodes.length>0&&o.push({message:"Workflow should have a trigger node",severity:"warning"}),n.nodes.forEach(a=>{const l=Sd[a.data.nodeType];l&&l.configSchema.forEach(u=>{u.required&&!a.data.config[u.key]&&o.push({nodeId:a.id,field:u.key,message:`${u.label} is required`,severity:"error"})})}),n.nodes.forEach(a=>{!n.edges.some(u=>u.source===a.id||u.target===a.id)&&n.nodes.length>1&&o.push({nodeId:a.id,message:`Node "${a.data.label}" is not connected`,severity:"warning"})}),e(a=>{a.editor.validationErrors=o}),o},undo:()=>{const{history:n,historyIndex:o}=t();if(o>0){const s=n[o-1];e(a=>{a.nodes=s.nodes,a.edges=s.edges,a.historyIndex=o-1})}},redo:()=>{const{history:n,historyIndex:o}=t();if(o<n.length-1){const s=n[o+1];e(a=>{a.nodes=s.nodes,a.edges=s.edges,a.historyIndex=o+1})}},pushHistory:()=>{const{nodes:n,edges:o,history:s,historyIndex:a}=t(),l=s.slice(0,a+1);l.push({nodes:JSON.parse(JSON.stringify(n)),edges:JSON.parse(JSON.stringify(o)),timestamp:Date.now()}),l.length>p3&&l.shift(),e(u=>{u.history=l,u.historyIndex=l.length-1})},setIsDirty:n=>{e(o=>{o.editor.isDirty=n})},togglePanel:()=>{e(n=>{n.editor.isPanelOpen=!n.editor.isPanelOpen})},setZoom:n=>{e(o=>{o.editor.zoom=n})},loadWorkflow:(n,o,s="Untitled Workflow",a="")=>{e(l=>{l.nodes=n,l.edges=o,l.workflowName=s,l.workflowDescription=a,l.editor.isDirty=!1,l.editor.selectedNodeId=null,l.editor.selectedEdgeId=null,l.history=[],l.historyIndex=-1}),t().pushHistory()},clearWorkflow:()=>{e(n=>{n.nodes=[],n.edges=[],n.workflowName="Untitled Workflow",n.workflowDescription="",n.editor.isDirty=!1,n.editor.selectedNodeId=null,n.editor.selectedEdgeId=null,n.history=[],n.historyIndex=-1})},exportWorkflow:()=>{const{nodes:n,edges:o,workflowName:s,workflowDescription:a}=t();return{nodes:JSON.parse(JSON.stringify(n)),edges:JSON.parse(JSON.stringify(o)),name:s,description:a}}})));function TC(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=TC(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function RC(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=TC(e))&&(o&&(o+=" "),o+=t);return o}const g3=(e,t)=>{const n=new Array(e.length+t.length);for(let o=0;o<e.length;o++)n[o]=e[o];for(let o=0;o<t.length;o++)n[e.length+o]=t[o];return n},y3=(e,t)=>({classGroupId:e,validator:t}),jC=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Cd="-",Gw=[],v3="arbitrary..",x3=e=>{const t=b3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return w3(l);const u=l.split(Cd),d=u[0]===""&&u.length>1?1:0;return IC(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=o[l],h=n[l];return d?h?g3(h,d):d:h||Gw}return n[l]||Gw}}},IC=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],a=n.nextPart.get(s);if(a){const h=IC(e,t+1,a);if(h)return h}const l=n.validators;if(l===null)return;const u=t===0?e.join(Cd):e.slice(t).join(Cd),d=l.length;for(let h=0;h<d;h++){const m=l[h];if(m.validator(u))return m.classGroupId}},w3=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),o=t.slice(0,n);return o?v3+o:void 0})(),b3=e=>{const{theme:t,classGroups:n}=e;return S3(n,t)},S3=(e,t)=>{const n=jC();for(const o in e){const s=e[o];ey(s,n,o,t)}return n},ey=(e,t,n,o)=>{const s=e.length;for(let a=0;a<s;a++){const l=e[a];C3(l,t,n,o)}},C3=(e,t,n,o)=>{if(typeof e=="string"){_3(e,t,n);return}if(typeof e=="function"){k3(e,t,n,o);return}E3(e,t,n,o)},_3=(e,t,n)=>{const o=e===""?t:AC(t,e);o.classGroupId=n},k3=(e,t,n,o)=>{if(N3(e)){ey(e(o),t,n,o);return}t.validators===null&&(t.validators=[]),t.validators.push(y3(n,e))},E3=(e,t,n,o)=>{const s=Object.entries(e),a=s.length;for(let l=0;l<a;l++){const[u,d]=s[l];ey(d,AC(t,u),n,o)}},AC=(e,t)=>{let n=e;const o=t.split(Cd),s=o.length;for(let a=0;a<s;a++){const l=o[a];let u=n.nextPart.get(l);u||(u=jC(),n.nextPart.set(l,u)),n=u}return n},N3=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,P3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),o=Object.create(null);const s=(a,l)=>{n[a]=l,t++,t>e&&(t=0,o=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=o[a])!==void 0)return s(a,l),l},set(a,l){a in n?n[a]=l:s(a,l)}}},$m="!",Yw=":",T3=[],Qw=(e,t,n,o,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:o,isExternal:s}),R3=e=>{const{prefix:t,experimentalParseClassName:n}=e;let o=s=>{const a=[];let l=0,u=0,d=0,h;const m=s.length;for(let C=0;C<m;C++){const k=s[C];if(l===0&&u===0){if(k===Yw){a.push(s.slice(d,C)),d=C+1;continue}if(k==="/"){h=C;continue}}k==="["?l++:k==="]"?l--:k==="("?u++:k===")"&&u--}const g=a.length===0?s:s.slice(d);let v=g,w=!1;g.endsWith($m)?(v=g.slice(0,-1),w=!0):g.startsWith($m)&&(v=g.slice(1),w=!0);const b=h&&h>d?h-d:void 0;return Qw(a,w,v,b)};if(t){const s=t+Yw,a=o;o=l=>l.startsWith(s)?a(l.slice(s.length)):Qw(T3,!1,l,void 0,!0)}if(n){const s=o;o=a=>n({className:a,parseClassName:s})}return o},j3=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,o)=>{t.set(n,1e6+o)}),n=>{const o=[];let s=[];for(let a=0;a<n.length;a++){const l=n[a],u=l[0]==="[",d=t.has(l);u||d?(s.length>0&&(s.sort(),o.push(...s),s=[]),o.push(l)):s.push(l)}return s.length>0&&(s.sort(),o.push(...s)),o}},I3=e=>({cache:P3(e.cacheSize),parseClassName:R3(e),sortModifiers:j3(e),...x3(e)}),A3=/\s+/,M3=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:s,sortModifiers:a}=t,l=[],u=e.trim().split(A3);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:g,modifiers:v,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:C}=n(m);if(g){d=m+(d.length>0?" "+d:d);continue}let k=!!C,E=o(k?b.substring(0,C):b);if(!E){if(!k){d=m+(d.length>0?" "+d:d);continue}if(E=o(b),!E){d=m+(d.length>0?" "+d:d);continue}k=!1}const N=v.length===0?"":v.length===1?v[0]:a(v).join(":"),_=w?N+$m:N,P=_+E;if(l.indexOf(P)>-1)continue;l.push(P);const I=s(E,k);for(let A=0;A<I.length;++A){const R=I[A];l.push(_+R)}d=m+(d.length>0?" "+d:d)}return d},D3=(...e)=>{let t=0,n,o,s="";for(;t<e.length;)(n=e[t++])&&(o=MC(n))&&(s&&(s+=" "),s+=o);return s},MC=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=MC(e[o]))&&(n&&(n+=" "),n+=t);return n},O3=(e,...t)=>{let n,o,s,a;const l=d=>{const h=t.reduce((m,g)=>g(m),e());return n=I3(h),o=n.cache.get,s=n.cache.set,a=u,u(d)},u=d=>{const h=o(d);if(h)return h;const m=M3(d,n);return s(d,m),m};return a=l,(...d)=>a(D3(...d))},L3=[],yt=e=>{const t=n=>n[e]||L3;return t.isThemeGetter=!0,t},DC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,OC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$3=/^\d+\/\d+$/,F3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,B3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=e=>$3.test(e),$e=e=>!!e&&!Number.isNaN(Number(e)),vo=e=>!!e&&Number.isInteger(Number(e)),zp=e=>e.endsWith("%")&&$e(e.slice(0,-1)),Pr=e=>F3.test(e),V3=()=>!0,U3=e=>z3.test(e)&&!H3.test(e),LC=()=>!1,q3=e=>B3.test(e),K3=e=>W3.test(e),G3=e=>!be(e)&&!Se(e),Y3=e=>ra(e,zC,LC),be=e=>DC.test(e),ss=e=>ra(e,HC,U3),Hp=e=>ra(e,eL,$e),Xw=e=>ra(e,$C,LC),Q3=e=>ra(e,FC,K3),Ou=e=>ra(e,BC,q3),Se=e=>OC.test(e),rl=e=>oa(e,HC),X3=e=>oa(e,tL),Jw=e=>oa(e,$C),J3=e=>oa(e,zC),Z3=e=>oa(e,FC),Lu=e=>oa(e,BC,!0),ra=(e,t,n)=>{const o=DC.exec(e);return o?o[1]?t(o[1]):n(o[2]):!1},oa=(e,t,n=!1)=>{const o=OC.exec(e);return o?o[1]?t(o[1]):n:!1},$C=e=>e==="position"||e==="percentage",FC=e=>e==="image"||e==="url",zC=e=>e==="length"||e==="size"||e==="bg-size",HC=e=>e==="length",eL=e=>e==="number",tL=e=>e==="family-name",BC=e=>e==="shadow",nL=()=>{const e=yt("color"),t=yt("font"),n=yt("text"),o=yt("font-weight"),s=yt("tracking"),a=yt("leading"),l=yt("breakpoint"),u=yt("container"),d=yt("spacing"),h=yt("radius"),m=yt("shadow"),g=yt("inset-shadow"),v=yt("text-shadow"),w=yt("drop-shadow"),b=yt("blur"),C=yt("perspective"),k=yt("aspect"),E=yt("ease"),N=yt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...P(),Se,be],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[Se,be,d],H=()=>[mi,"full","auto",...O()],K=()=>[vo,"none","subgrid",Se,be],M=()=>["auto",{span:["full",vo,Se,be]},vo,Se,be],U=()=>[vo,"auto",Se,be],J=()=>["auto","min","max","fr",Se,be],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...O()],q=()=>[mi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],j=()=>[e,Se,be],F=()=>[...P(),Jw,Xw,{position:[Se,be]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",J3,Y3,{size:[Se,be]}],V=()=>[zp,rl,ss],oe=()=>["","none","full",h,Se,be],re=()=>["",$e,rl,ss],ce=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[$e,zp,Jw,Xw],ne=()=>["","none",b,Se,be],le=()=>["none",$e,Se,be],pe=()=>["none",$e,Se,be],me=()=>[$e,Se,be],he=()=>[mi,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[V3],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[G3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",$e],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mi,be,Se,k]}],container:["container"],columns:[{columns:[$e,be,Se,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[vo,"auto",Se,be]}],basis:[{basis:[mi,"full","auto",u,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,mi,"auto","initial","none",be]}],grow:[{grow:["",$e,Se,be]}],shrink:[{shrink:["",$e,Se,be]}],order:[{order:[vo,"first","last","none",Se,be]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,rl,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Se,Hp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zp,be]}],"font-family":[{font:[X3,be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,be]}],"line-clamp":[{"line-clamp":[$e,"none",Se,Hp]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",Se,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,ss]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vo,Se,be],radial:["",Se,be],conic:[vo,Se,be]},Z3,Q3]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,be]}],"outline-w":[{outline:["",$e,rl,ss]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",m,Lu,Ou]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",g,Lu,Ou]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[$e,ss]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",v,Lu,Ou]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[$e,Se,be]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Se,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,be]}],filter:[{filter:["","none",Se,be]}],blur:[{blur:ne()}],brightness:[{brightness:[$e,Se,be]}],contrast:[{contrast:[$e,Se,be]}],"drop-shadow":[{"drop-shadow":["","none",w,Lu,Ou]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",$e,Se,be]}],"hue-rotate":[{"hue-rotate":[$e,Se,be]}],invert:[{invert:["",$e,Se,be]}],saturate:[{saturate:[$e,Se,be]}],sepia:[{sepia:["",$e,Se,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,be]}],"backdrop-blur":[{"backdrop-blur":ne()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,be]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,be]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,be]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,be]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,be]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,be]}],ease:[{ease:["linear","initial",E,Se,be]}],delay:[{delay:[$e,Se,be]}],animate:[{animate:["none",N,Se,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Se,be]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[Se,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,be]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[$e,rl,ss,Hp]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rL=O3(nL);function Ae(...e){return rL(RC(e))}const oL={Play:$i,Clock:jo,Webhook:Rg,Zap:Ls,Globe:_g,Timer:Pg,GitBranch:vs,GitMerge:Cg,Repeat:Eg,Filter:Sg,Shuffle:Ng,Layers:kg},sL={trigger:{bg:"bg-green-50 dark:bg-green-950/30",border:"border-green-500",accent:"bg-green-500"},action:{bg:"bg-blue-50 dark:bg-blue-950/30",border:"border-blue-500",accent:"bg-blue-500"},logic:{bg:"bg-amber-50 dark:bg-amber-950/30",border:"border-amber-500",accent:"bg-amber-500"},transform:{bg:"bg-purple-50 dark:bg-purple-950/30",border:"border-purple-500",accent:"bg-purple-500"},integration:{bg:"bg-pink-50 dark:bg-pink-950/30",border:"border-pink-500",accent:"bg-pink-500"}};function iL({id:e,data:t,selected:n}){const o=qe(h=>h.selectNode),s=qe(h=>h.editor.selectedNodeId),a=n||s===e,l=sL[t.category],u=oL[t.icon]||Ls,d=y.useMemo(()=>({hasInput:t.category!=="trigger",hasOutput:!0,outputCount:t.nodeType==="logic-condition"?2:t.nodeType==="logic-switch"?3:1}),[t.category,t.nodeType]);return f.jsxs("div",{className:Ae("relative min-w-[180px] max-w-[220px] rounded-lg border-2 shadow-md transition-all duration-200",l.bg,l.border,a&&"ring-2 ring-offset-2 ring-blue-500 dark:ring-offset-gray-900",t.hasError&&"ring-2 ring-red-500"),onClick:()=>o(e),children:[d.hasInput&&f.jsx(An,{type:"target",position:_e.Top,className:Ae("w-3 h-3 !bg-gray-400 border-2 border-white dark:border-gray-800","hover:!bg-gray-600 transition-colors")}),f.jsxs("div",{className:Ae("flex items-center gap-2 px-3 py-2 rounded-t-md",l.accent),children:[f.jsx(u,{className:"w-4 h-4 text-white"}),f.jsx("span",{className:"text-sm font-medium text-white truncate",children:t.label})]}),f.jsxs("div",{className:"px-3 py-2",children:[t.description&&f.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:t.description}),f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-1",children:[t.isConfigured?f.jsx(_1,{className:"w-3.5 h-3.5 text-green-500"}):f.jsx(N1,{className:"w-3.5 h-3.5 text-muted-foreground"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:t.isConfigured?"Configured":"Click to configure"})]})}),t.hasError&&t.errorMessage&&f.jsxs("div",{className:"mt-2 flex items-start gap-1 p-1.5 bg-red-100 dark:bg-red-900/30 rounded text-xs text-red-600 dark:text-red-400",children:[f.jsx(cl,{className:"w-3.5 h-3.5 flex-shrink-0 mt-0.5"}),f.jsx("span",{className:"line-clamp-2",children:t.errorMessage})]})]}),d.hasOutput&&f.jsxs(f.Fragment,{children:[d.outputCount===1&&f.jsx(An,{type:"source",position:_e.Bottom,className:Ae("w-3 h-3 !bg-gray-400 border-2 border-white dark:border-gray-800","hover:!bg-gray-600 transition-colors")}),t.nodeType==="logic-condition"&&f.jsxs(f.Fragment,{children:[f.jsx(An,{type:"source",position:_e.Bottom,id:"true",className:Ae("w-3 h-3 !bg-green-500 border-2 border-white dark:border-gray-800","hover:!bg-green-600 transition-colors","!left-[30%]")}),f.jsx(An,{type:"source",position:_e.Bottom,id:"false",className:Ae("w-3 h-3 !bg-red-500 border-2 border-white dark:border-gray-800","hover:!bg-red-600 transition-colors","!left-[70%]")}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-6 -mb-5 text-[10px] text-muted-foreground",children:[f.jsx("span",{children:"True"}),f.jsx("span",{children:"False"})]})]}),t.nodeType==="logic-switch"&&f.jsxs(f.Fragment,{children:[f.jsx(An,{type:"source",position:_e.Bottom,id:"case-0",className:Ae("w-3 h-3 !bg-blue-500 border-2 border-white dark:border-gray-800","hover:!bg-blue-600 transition-colors","!left-[25%]")}),f.jsx(An,{type:"source",position:_e.Bottom,id:"case-1",className:Ae("w-3 h-3 !bg-purple-500 border-2 border-white dark:border-gray-800","hover:!bg-purple-600 transition-colors","!left-[50%]")}),f.jsx(An,{type:"source",position:_e.Bottom,id:"default",className:Ae("w-3 h-3 !bg-gray-500 border-2 border-white dark:border-gray-800","hover:!bg-gray-600 transition-colors","!left-[75%]")})]})]})]})}const aL=y.memo(iL);function Zw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sa(...e){return t=>{let n=!1;const o=e.map(s=>{const a=Zw(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<o.length;s++){const a=o[s];typeof a=="function"?a():Zw(e[s],null)}}}}function Ve(...e){return y.useCallback(sa(...e),e)}var lL=Symbol.for("react.lazy"),_d=cg[" use ".trim().toString()];function cL(e){return typeof e=="object"&&e!==null&&"then"in e}function WC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===lL&&"_payload"in e&&cL(e._payload)}function ty(e){const t=dL(e),n=y.forwardRef((o,s)=>{let{children:a,...l}=o;WC(a)&&typeof _d=="function"&&(a=_d(a._payload));const u=y.Children.toArray(a),d=u.find(hL);if(d){const h=d.props.children,m=u.map(g=>g===d?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return f.jsx(t,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,m):null})}return f.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var uL=ty("Slot");function dL(e){const t=y.forwardRef((n,o)=>{let{children:s,...a}=n;if(WC(s)&&typeof _d=="function"&&(s=_d(s._payload)),y.isValidElement(s)){const l=mL(s),u=pL(a,s.props);return s.type!==y.Fragment&&(u.ref=o?sa(o,l):l),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fL=Symbol("radix.slottable");function hL(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fL}function pL(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mL(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const eb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tb=RC,ny=(e,t)=>n=>{var o;if((t==null?void 0:t.variants)==null)return tb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=a==null?void 0:a[h];if(m===null)return null;const v=eb(m)||eb(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((h,m)=>{let{class:g,className:v,...w}=m;return Object.entries(w).every(b=>{let[C,k]=b;return Array.isArray(k)?k.includes({...a,...u}[C]):{...a,...u}[C]===k})?[...h,g,v]:h},[]);return tb(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},gL=ny("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Xe=y.forwardRef(({className:e,variant:t,size:n,asChild:o=!1,...s},a)=>{const l=o?uL:"button";return f.jsx(l,{className:Ae(gL({variant:t,size:n,className:e})),ref:a,...s})});Xe.displayName="Button";const yL={workflowNode:aL},vL={type:"smoothstep",animated:!0,style:{strokeWidth:2},markerEnd:{type:Cl.ArrowClosed,width:15,height:15}};function xL({onSave:e,className:t}){const n=y.useRef(null),o=qe(M=>M.nodes),s=qe(M=>M.edges),a=qe(M=>M.onNodesChange),l=qe(M=>M.onEdgesChange),u=qe(M=>M.onConnect),d=qe(M=>M.addNode),h=qe(M=>M.deleteNode),m=qe(M=>M.deleteEdge),g=qe(M=>M.undo),v=qe(M=>M.redo),w=qe(M=>M.clearWorkflow),b=qe(M=>M.editor),C=qe(M=>M.history),k=qe(M=>M.historyIndex),E=k>0,N=k<C.length-1,_=y.useCallback(M=>{a(M)},[a]),P=y.useCallback(M=>{l(M)},[l]),I=y.useCallback(M=>{u(M)},[u]),A=y.useCallback(M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},[]),R=y.useCallback(M=>{var Q;M.preventDefault();const U=M.dataTransfer.getData("application/workflow-node");if(!U)return;const J=(Q=n.current)==null?void 0:Q.getBoundingClientRect();if(!J)return;const L={x:M.clientX-J.left-90,y:M.clientY-J.top-30};d(U,L)},[d]),O=y.useCallback(M=>{(M.ctrlKey||M.metaKey)&&M.key==="z"&&!M.shiftKey&&(M.preventDefault(),E&&g()),((M.ctrlKey||M.metaKey)&&M.shiftKey&&M.key==="z"||(M.ctrlKey||M.metaKey)&&M.key==="y")&&(M.preventDefault(),N&&v()),(M.key==="Delete"||M.key==="Backspace")&&(b.selectedNodeId?h(b.selectedNodeId):b.selectedEdgeId&&m(b.selectedEdgeId)),(M.ctrlKey||M.metaKey)&&M.key==="s"&&(M.preventDefault(),e==null||e())},[E,N,g,v,b.selectedNodeId,b.selectedEdgeId,h,m,e]),H=y.useCallback(M=>{var J;switch((J=M.data)==null?void 0:J.category){case"trigger":return"#22c55e";case"action":return"#3b82f6";case"logic":return"#f59e0b";case"transform":return"#8b5cf6";default:return"#6b7280"}},[]),K=y.useMemo(()=>s.map(M=>({...M,style:{...M.style,stroke:M.id===b.selectedEdgeId?"#3b82f6":"#94a3b8",strokeWidth:M.id===b.selectedEdgeId?3:2}})),[s,b.selectedEdgeId]);return f.jsx("div",{ref:n,className:Ae("w-full h-full",t),onKeyDown:O,tabIndex:0,children:f.jsxs(pO,{nodes:o,edges:K,onNodesChange:_,onEdgesChange:P,onConnect:I,onDragOver:A,onDrop:R,nodeTypes:yL,defaultEdgeOptions:vL,connectionLineType:Dr.SmoothStep,fitView:!0,snapToGrid:!0,snapGrid:[15,15],deleteKeyCode:["Backspace","Delete"],className:"bg-background",children:[f.jsx(xO,{variant:Fr.Dots,gap:20,size:1,className:"!bg-muted/30"}),f.jsx(EO,{position:"bottom-right",className:"!bg-background !border-border !shadow-md"}),f.jsx(FO,{position:"bottom-left",nodeColor:H,maskColor:"rgba(0, 0, 0, 0.1)",className:"!bg-background !border-border !shadow-md",pannable:!0,zoomable:!0}),f.jsxs(Ki,{position:"top-right",className:"flex gap-2",children:[f.jsx(Xe,{variant:"outline",size:"sm",onClick:g,disabled:!E,title:"Undo (Ctrl+Z)",children:f.jsx(gR,{className:"w-4 h-4"})}),f.jsx(Xe,{variant:"outline",size:"sm",onClick:v,disabled:!N,title:"Redo (Ctrl+Shift+Z)",children:f.jsx(uR,{className:"w-4 h-4"})}),f.jsx("div",{className:"w-px bg-border"}),f.jsx(Xe,{variant:"outline",size:"sm",onClick:w,title:"Clear Workflow",className:"text-destructive hover:text-destructive",children:f.jsx(Tg,{className:"w-4 h-4"})}),f.jsxs(Xe,{variant:"default",size:"sm",onClick:e,disabled:!b.isDirty,title:"Save (Ctrl+S)",children:[f.jsx(dR,{className:"w-4 h-4 mr-1"}),"Save"]})]}),o.length===0&&f.jsx(Ki,{position:"top-center",className:"mt-20",children:f.jsxs("div",{className:"text-center p-8 bg-background/80 rounded-lg border border-dashed border-muted-foreground/30",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",children:"Start Building Your Workflow"}),f.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Drag and drop nodes from the left panel to create your workflow"}),f.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Triggers start the workflow"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),"Actions perform tasks"]})]})]})})]})})}const Or=y.forwardRef(({className:e,type:t,...n},o)=>f.jsx("input",{type:t,className:Ae("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...n}));Or.displayName="Input";function wL(e){const t=bL(e),n=y.forwardRef((o,s)=>{const{children:a,...l}=o,u=y.Children.toArray(a),d=u.find(CL);if(d){const h=d.props.children,m=u.map(g=>g===d?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return f.jsx(t,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,m):null})}return f.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function bL(e){const t=y.forwardRef((n,o)=>{const{children:s,...a}=n;if(y.isValidElement(s)){const l=kL(s),u=_L(a,s.props);return s.type!==y.Fragment&&(u.ref=o?sa(o,l):l),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SL=Symbol("radix.slottable");function CL(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SL}function _L(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function kL(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var EL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=EL.reduce((e,t)=>{const n=wL(`Primitive.${t}`),o=y.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(d,{...u,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function NL(e,t){e&&Ul.flushSync(()=>e.dispatchEvent(t))}var kt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function PL(e,t){return y.useReducer((n,o)=>t[n][o]??n,e)}var bn=e=>{const{present:t,children:n}=e,o=TL(t),s=typeof n=="function"?n({present:o.isPresent}):y.Children.only(n),a=Ve(o.ref,RL(s));return typeof n=="function"||o.isPresent?y.cloneElement(s,{ref:a}):null};bn.displayName="Presence";function TL(e){const[t,n]=y.useState(),o=y.useRef(null),s=y.useRef(e),a=y.useRef("none"),l=e?"mounted":"unmounted",[u,d]=PL(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=$u(o.current);a.current=u==="mounted"?h:"none"},[u]),kt(()=>{const h=o.current,m=s.current;if(m!==e){const v=a.current,w=$u(h);e?d("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),kt(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=w=>{const C=$u(o.current).includes(CSS.escape(w.animationName));if(w.target===t&&C&&(d("ANIMATION_END"),!s.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},v=w=>{w.target===t&&(a.current=$u(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(h=>{o.current=h?getComputedStyle(h):null,n(h)},[])}}function $u(e){return(e==null?void 0:e.animationName)||"none"}function RL(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jL(e,t){const n=y.createContext(t),o=a=>{const{children:l,...u}=a,d=y.useMemo(()=>u,Object.values(u));return f.jsx(n.Provider,{value:d,children:l})};o.displayName=e+"Provider";function s(a){const l=y.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[o,s]}function fr(e,t=[]){let n=[];function o(a,l){const u=y.createContext(l),d=n.length;n=[...n,l];const h=g=>{var E;const{scope:v,children:w,...b}=g,C=((E=v==null?void 0:v[e])==null?void 0:E[d])||u,k=y.useMemo(()=>b,Object.values(b));return f.jsx(C.Provider,{value:k,children:w})};h.displayName=a+"Provider";function m(g,v){var C;const w=((C=v==null?void 0:v[e])==null?void 0:C[d])||u,b=y.useContext(w);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,m]}const s=()=>{const a=n.map(l=>y.createContext(l));return function(u){const d=(u==null?void 0:u[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[o,IL(s,...t)]}function IL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((u,{useScope:d,scopeName:h})=>{const g=d(a)[`__scope${h}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function $t(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}var AL=y.createContext(void 0);function tf(e){const t=y.useContext(AL);return e||t||"ltr"}function Fm(e,[t,n]){return Math.min(n,Math.max(t,e))}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ML(e,t){return y.useReducer((n,o)=>t[n][o]??n,e)}var ry="ScrollArea",[VC]=fr(ry),[DL,Sn]=VC(ry),UC=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:o="hover",dir:s,scrollHideDelay:a=600,...l}=e,[u,d]=y.useState(null),[h,m]=y.useState(null),[g,v]=y.useState(null),[w,b]=y.useState(null),[C,k]=y.useState(null),[E,N]=y.useState(0),[_,P]=y.useState(0),[I,A]=y.useState(!1),[R,O]=y.useState(!1),H=Ve(t,M=>d(M)),K=tf(s);return f.jsx(DL,{scope:n,type:o,dir:K,scrollHideDelay:a,scrollArea:u,viewport:h,onViewportChange:m,content:g,onContentChange:v,scrollbarX:w,onScrollbarXChange:b,scrollbarXEnabled:I,onScrollbarXEnabledChange:A,scrollbarY:C,onScrollbarYChange:k,scrollbarYEnabled:R,onScrollbarYEnabledChange:O,onCornerWidthChange:N,onCornerHeightChange:P,children:f.jsx(De.div,{dir:K,...l,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});UC.displayName=ry;var qC="ScrollAreaViewport",KC=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:o,nonce:s,...a}=e,l=Sn(qC,n),u=y.useRef(null),d=Ve(t,u,l.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(De.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});KC.displayName=qC;var hr="ScrollAreaScrollbar",oy=y.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=Sn(hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,u=e.orientation==="horizontal";return y.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),s.type==="hover"?f.jsx(OL,{...o,ref:t,forceMount:n}):s.type==="scroll"?f.jsx(LL,{...o,ref:t,forceMount:n}):s.type==="auto"?f.jsx(GC,{...o,ref:t,forceMount:n}):s.type==="always"?f.jsx(sy,{...o,ref:t}):null});oy.displayName=hr;var OL=y.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=Sn(hr,e.__scopeScrollArea),[a,l]=y.useState(!1);return y.useEffect(()=>{const u=s.scrollArea;let d=0;if(u){const h=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(bn,{present:n||a,children:f.jsx(GC,{"data-state":a?"visible":"hidden",...o,ref:t})})}),LL=y.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=Sn(hr,e.__scopeScrollArea),a=e.orientation==="horizontal",l=rf(()=>d("SCROLL_END"),100),[u,d]=ML("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,s.scrollHideDelay,d]),y.useEffect(()=>{const h=s.viewport,m=a?"scrollLeft":"scrollTop";if(h){let g=h[m];const v=()=>{const w=h[m];g!==w&&(d("SCROLL"),l()),g=w};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[s.viewport,a,d,l]),f.jsx(bn,{present:n||u!=="hidden",children:f.jsx(sy,{"data-state":u==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),GC=y.forwardRef((e,t)=>{const n=Sn(hr,e.__scopeScrollArea),{forceMount:o,...s}=e,[a,l]=y.useState(!1),u=e.orientation==="horizontal",d=rf(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?h:m)}},10);return Qi(n.viewport,d),Qi(n.content,d),f.jsx(bn,{present:o||a,children:f.jsx(sy,{"data-state":a?"visible":"hidden",...s,ref:t})})}),sy=y.forwardRef((e,t)=>{const{orientation:n="vertical",...o}=e,s=Sn(hr,e.__scopeScrollArea),a=y.useRef(null),l=y.useRef(0),[u,d]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ZC(u.viewport,u.content),m={...o,sizes:u,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function g(v,w){return WL(v,l.current,u,w)}return n==="horizontal"?f.jsx($L,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollLeft,w=nb(v,u,s.dir);a.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):n==="vertical"?f.jsx(FL,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollTop,w=nb(v,u);a.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),$L=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...s}=e,a=Sn(hr,e.__scopeScrollArea),[l,u]=y.useState(),d=y.useRef(null),h=Ve(t,d,a.onScrollbarXChange);return y.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),f.jsx(QC,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(a.viewport){const v=a.viewport.scrollLeft+m.deltaX;e.onWheelScroll(v),t_(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Ed(l.paddingLeft),paddingEnd:Ed(l.paddingRight)}})}})}),FL=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...s}=e,a=Sn(hr,e.__scopeScrollArea),[l,u]=y.useState(),d=y.useRef(null),h=Ve(t,d,a.onScrollbarYChange);return y.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),f.jsx(QC,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(a.viewport){const v=a.viewport.scrollTop+m.deltaY;e.onWheelScroll(v),t_(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Ed(l.paddingTop),paddingEnd:Ed(l.paddingBottom)}})}})}),[zL,YC]=VC(hr),QC=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...v}=e,w=Sn(hr,n),[b,C]=y.useState(null),k=Ve(t,H=>C(H)),E=y.useRef(null),N=y.useRef(""),_=w.viewport,P=o.content-o.viewport,I=$t(m),A=$t(d),R=rf(g,10);function O(H){if(E.current){const K=H.clientX-E.current.left,M=H.clientY-E.current.top;h({x:K,y:M})}}return y.useEffect(()=>{const H=K=>{const M=K.target;(b==null?void 0:b.contains(M))&&I(K,P)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[_,b,P,I]),y.useEffect(A,[o,A]),Qi(b,R),Qi(w.content,R),f.jsx(zL,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:$t(a),onThumbPointerUp:$t(l),onThumbPositionChange:A,onThumbPointerDown:$t(u),children:f.jsx(De.div,{...v,ref:k,style:{position:"absolute",...v.style},onPointerDown:Re(e.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),E.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),O(H))}),onPointerMove:Re(e.onPointerMove,O),onPointerUp:Re(e.onPointerUp,H=>{const K=H.target;K.hasPointerCapture(H.pointerId)&&K.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=N.current,w.viewport&&(w.viewport.style.scrollBehavior=""),E.current=null})})})}),kd="ScrollAreaThumb",XC=y.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=YC(kd,e.__scopeScrollArea);return f.jsx(bn,{present:n||s.hasThumb,children:f.jsx(HL,{ref:t,...o})})}),HL=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:o,...s}=e,a=Sn(kd,n),l=YC(kd,n),{onThumbPositionChange:u}=l,d=Ve(t,g=>l.onThumbChange(g)),h=y.useRef(void 0),m=rf(()=>{h.current&&(h.current(),h.current=void 0)},100);return y.useEffect(()=>{const g=a.viewport;if(g){const v=()=>{if(m(),!h.current){const w=VL(g,u);h.current=w,u()}};return u(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[a.viewport,m,u]),f.jsx(De.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Re(e.onPointerDownCapture,g=>{const w=g.target.getBoundingClientRect(),b=g.clientX-w.left,C=g.clientY-w.top;l.onThumbPointerDown({x:b,y:C})}),onPointerUp:Re(e.onPointerUp,l.onThumbPointerUp)})});XC.displayName=kd;var iy="ScrollAreaCorner",JC=y.forwardRef((e,t)=>{const n=Sn(iy,e.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?f.jsx(BL,{...e,ref:t}):null});JC.displayName=iy;var BL=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...o}=e,s=Sn(iy,n),[a,l]=y.useState(0),[u,d]=y.useState(0),h=!!(a&&u);return Qi(s.scrollbarX,()=>{var g;const m=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(m),d(m)}),Qi(s.scrollbarY,()=>{var g;const m=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(m),l(m)}),h?f.jsx(De.div,{...o,ref:t,style:{width:a,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ed(e){return e?parseInt(e,10):0}function ZC(e,t){const n=e/t;return isNaN(n)?0:n}function nf(e){const t=ZC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-n)*t;return Math.max(o,18)}function WL(e,t,n,o="ltr"){const s=nf(n),a=s/2,l=t||a,u=s-l,d=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,g=o==="ltr"?[0,m]:[m*-1,0];return e_([d,h],g)(e)}function nb(e,t,n="ltr"){const o=nf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,l=t.content-t.viewport,u=a-o,d=n==="ltr"?[0,l]:[l*-1,0],h=Fm(e,d);return e_([0,l],[0,u])(h)}function e_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function t_(e,t){return e>0&&e<t}var VL=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},o=0;return(function s(){const a={left:e.scrollLeft,top:e.scrollTop},l=n.left!==a.left,u=n.top!==a.top;(l||u)&&t(),n=a,o=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(o)};function rf(e,t){const n=$t(e),o=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(o.current),[]),y.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function Qi(e,t){const n=$t(t);kt(()=>{let o=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(o),s.unobserve(e)}}},[e,n])}var n_=UC,UL=KC,qL=JC;const ay=y.forwardRef(({className:e,children:t,...n},o)=>f.jsxs(n_,{ref:o,className:Ae("relative overflow-hidden",e),...n,children:[f.jsx(UL,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(r_,{}),f.jsx(qL,{})]}));ay.displayName=n_.displayName;const r_=y.forwardRef(({className:e,orientation:t="vertical",...n},o)=>f.jsx(oy,{ref:o,orientation:t,className:Ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:f.jsx(XC,{className:"relative flex-1 rounded-full bg-border"})}));r_.displayName=oy.displayName;var KL=cg[" useInsertionEffect ".trim().toString()]||kt;function Mo({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[s,a,l]=GL({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const m=y.useRef(e!==void 0);y.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${o} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,o])}const h=y.useCallback(m=>{var g;if(u){const v=YL(m)?m(e):m;v!==e&&((g=l.current)==null||g.call(l,v))}else a(m)},[u,e,a,l]);return[d,h]}function GL({defaultProp:e,onChange:t}){const[n,o]=y.useState(e),s=y.useRef(n),a=y.useRef(t);return KL(()=>{a.current=t},[t]),y.useEffect(()=>{var l;s.current!==n&&((l=a.current)==null||l.call(a,n),s.current=n)},[n,s]),[n,o,a]}function YL(e){return typeof e=="function"}var QL=cg[" useId ".trim().toString()]||(()=>{}),XL=0;function ir(e){const[t,n]=y.useState(QL());return kt(()=>{n(o=>o??String(XL++))},[e]),t?`radix-${t}`:""}var of="Collapsible",[JL]=fr(of),[ZL,ly]=JL(of),o_=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:o,defaultOpen:s,disabled:a,onOpenChange:l,...u}=e,[d,h]=Mo({prop:o,defaultProp:s??!1,onChange:l,caller:of});return f.jsx(ZL,{scope:n,disabled:a,contentId:ir(),open:d,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),children:f.jsx(De.div,{"data-state":uy(d),"data-disabled":a?"":void 0,...u,ref:t})})});o_.displayName=of;var s_="CollapsibleTrigger",i_=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...o}=e,s=ly(s_,n);return f.jsx(De.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":uy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...o,ref:t,onClick:Re(e.onClick,s.onOpenToggle)})});i_.displayName=s_;var cy="CollapsibleContent",a_=y.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=ly(cy,e.__scopeCollapsible);return f.jsx(bn,{present:n||s.open,children:({present:a})=>f.jsx(e5,{...o,ref:t,present:a})})});a_.displayName=cy;var e5=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:o,children:s,...a}=e,l=ly(cy,n),[u,d]=y.useState(o),h=y.useRef(null),m=Ve(t,h),g=y.useRef(0),v=g.current,w=y.useRef(0),b=w.current,C=l.open||u,k=y.useRef(C),E=y.useRef(void 0);return y.useEffect(()=>{const N=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(N)},[]),kt(()=>{const N=h.current;if(N){E.current=E.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const _=N.getBoundingClientRect();g.current=_.height,w.current=_.width,k.current||(N.style.transitionDuration=E.current.transitionDuration,N.style.animationName=E.current.animationName),d(o)}},[l.open,o]),f.jsx(De.div,{"data-state":uy(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!C,...a,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:C&&s})});function uy(e){return e?"open":"closed"}var t5=o_;const n5=t5,r5=i_,o5=a_,l_={Play:$i,Clock:jo,Webhook:Rg,Zap:Ls,Globe:_g,Timer:Pg,GitBranch:vs,GitMerge:Cg,Repeat:Eg,Filter:Sg,Shuffle:Ng,Layers:kg};function s5({className:e}){const[t,n]=y.useState(""),[o,s]=y.useState(new Set(["trigger","action","logic","transform"])),a=y.useMemo(()=>f3(),[]),l=y.useMemo(()=>{if(!t.trim())return a;const h=t.toLowerCase(),m={};return Object.entries(a).forEach(([g,v])=>{const w=v.filter(b=>b.label.toLowerCase().includes(h)||b.description.toLowerCase().includes(h)||b.type.toLowerCase().includes(h));w.length>0&&(m[g]=w)}),m},[a,t]),u=h=>{s(m=>{const g=new Set(m);return g.has(h)?g.delete(h):g.add(h),g})},d=(h,m)=>{h.dataTransfer.setData("application/workflow-node",m),h.dataTransfer.effectAllowed="move"};return f.jsxs("div",{className:Ae("flex flex-col h-full bg-background border-r",e),children:[f.jsxs("div",{className:"p-4 border-b",children:[f.jsx("h2",{className:"font-semibold mb-3",children:"Node Palette"}),f.jsxs("div",{className:"relative",children:[f.jsx(fR,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),f.jsx(Or,{placeholder:"Search nodes...",value:t,onChange:h=>n(h.target.value),className:"pl-8"})]})]}),f.jsx(ay,{className:"flex-1",children:f.jsxs("div",{className:"p-2",children:[Object.entries(l).map(([h,m])=>{const g=h3[h],v=o.has(h),w=l_[g.icon]||Ls;return f.jsxs(n5,{open:v,onOpenChange:()=>u(h),className:"mb-2",children:[f.jsxs(r5,{className:"flex items-center gap-2 w-full p-2 rounded-md hover:bg-muted transition-colors",children:[v?f.jsx(Ld,{className:"w-4 h-4 text-muted-foreground"}):f.jsx(YT,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center",style:{backgroundColor:g.color},children:f.jsx(w,{className:"w-3.5 h-3.5 text-white"})}),f.jsx("span",{className:"font-medium text-sm",children:g.label}),f.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:m.length})]}),f.jsx(o5,{className:"pl-6 pr-2 pb-2",children:f.jsx("div",{className:"space-y-1 mt-1",children:m.map(b=>f.jsx(i5,{node:b,onDragStart:d},b.type))})})]},h)}),Object.keys(l).length===0&&f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:f.jsxs("p",{className:"text-sm",children:['No nodes found matching "',t,'"']})})]})}),f.jsx("div",{className:"p-3 border-t text-xs text-muted-foreground bg-muted/30",children:f.jsx("p",{children:"Drag nodes onto the canvas to build your workflow"})})]})}function i5({node:e,onDragStart:t}){const n=l_[e.icon]||Ls;return f.jsxs("div",{draggable:!0,onDragStart:o=>t(o,e.type),className:Ae("flex items-center gap-2 p-2 rounded-md border cursor-grab","bg-background hover:bg-muted/50 hover:border-primary/30","transition-all duration-150","active:cursor-grabbing active:scale-[0.98]","group"),children:[f.jsx(JT,{className:"w-3 h-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsx("div",{className:"w-7 h-7 rounded flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.color+"20"},children:f.jsx("span",{style:{color:e.color},children:f.jsx(n,{className:"w-4 h-4"})})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"text-sm font-medium truncate",children:e.label}),f.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.description})]})]})}var a5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],l5=a5.reduce((e,t)=>{const n=ty(`Primitive.${t}`),o=y.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(d,{...u,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),c5="Label",c_=y.forwardRef((e,t)=>f.jsx(l5.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c_.displayName=c5;var u_=c_;const u5=ny("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sf=y.forwardRef(({className:e,...t},n)=>f.jsx(u_,{ref:n,className:Ae(u5(),e),...t}));sf.displayName=u_.displayName;const Rl=y.forwardRef(({className:e,...t},n)=>f.jsx("textarea",{className:Ae("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Rl.displayName="Textarea";function d_(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function f_(e){const[t,n]=y.useState(void 0);return kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var af="Switch",[d5]=fr(af),[f5,h5]=d5(af),h_=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:o,checked:s,defaultChecked:a,required:l,disabled:u,value:d="on",onCheckedChange:h,form:m,...g}=e,[v,w]=y.useState(null),b=Ve(t,_=>w(_)),C=y.useRef(!1),k=v?m||!!v.closest("form"):!0,[E,N]=Mo({prop:s,defaultProp:a??!1,onChange:h,caller:af});return f.jsxs(f5,{scope:n,checked:E,disabled:u,children:[f.jsx(De.button,{type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":y_(E),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:b,onClick:Re(e.onClick,_=>{N(P=>!P),k&&(C.current=_.isPropagationStopped(),C.current||_.stopPropagation())})}),k&&f.jsx(g_,{control:v,bubbles:!C.current,name:o,value:d,checked:E,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});h_.displayName=af;var p_="SwitchThumb",m_=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...o}=e,s=h5(p_,n);return f.jsx(De.span,{"data-state":y_(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})});m_.displayName=p_;var p5="SwitchBubbleInput",g_=y.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:o=!0,...s},a)=>{const l=y.useRef(null),u=Ve(l,a),d=d_(n),h=f_(t);return y.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&w){const b=new Event("click",{bubbles:o});w.call(m,n),m.dispatchEvent(b)}},[d,n,o]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});g_.displayName=p5;function y_(e){return e?"checked":"unchecked"}var v_=h_,m5=m_;const x_=y.forwardRef(({className:e,...t},n)=>f.jsx(v_,{className:Ae("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:f.jsx(m5,{className:Ae("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));x_.displayName=v_.displayName;function rb(e){const t=g5(e),n=y.forwardRef((o,s)=>{const{children:a,...l}=o,u=y.Children.toArray(a),d=u.find(v5);if(d){const h=d.props.children,m=u.map(g=>g===d?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return f.jsx(t,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,m):null})}return f.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function g5(e){const t=y.forwardRef((n,o)=>{const{children:s,...a}=n;if(y.isValidElement(s)){const l=w5(s),u=x5(a,s.props);return s.type!==y.Fragment&&(u.ref=o?sa(o,l):l),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y5=Symbol("radix.slottable");function v5(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y5}function x5(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function w5(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function w_(e){const t=e+"CollectionProvider",[n,o]=fr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:k,children:E}=C,N=nn.useRef(null),_=nn.useRef(new Map).current;return f.jsx(s,{scope:k,itemMap:_,collectionRef:N,children:E})};l.displayName=t;const u=e+"CollectionSlot",d=rb(u),h=nn.forwardRef((C,k)=>{const{scope:E,children:N}=C,_=a(u,E),P=Ve(k,_.collectionRef);return f.jsx(d,{ref:P,children:N})});h.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",v=rb(m),w=nn.forwardRef((C,k)=>{const{scope:E,children:N,..._}=C,P=nn.useRef(null),I=Ve(k,P),A=a(m,E);return nn.useEffect(()=>(A.itemMap.set(P,{ref:P,..._}),()=>void A.itemMap.delete(P))),f.jsx(v,{[g]:"",ref:I,children:N})});w.displayName=m;function b(C){const k=a(e+"CollectionConsumer",C);return nn.useCallback(()=>{const N=k.collectionRef.current;if(!N)return[];const _=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((A,R)=>_.indexOf(A.ref.current)-_.indexOf(R.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},b,o]}function b5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e);y.useEffect(()=>{const o=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var S5="DismissableLayer",zm="dismissableLayer.update",C5="dismissableLayer.pointerDownOutside",_5="dismissableLayer.focusOutside",ob,b_=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lf=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=e,h=y.useContext(b_),[m,g]=y.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),b=Ve(t,R=>g(R)),C=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=C.indexOf(k),N=m?C.indexOf(m):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,P=N>=E,I=N5(R=>{const O=R.target,H=[...h.branches].some(K=>K.contains(O));!P||H||(s==null||s(R),l==null||l(R),R.defaultPrevented||u==null||u())},v),A=P5(R=>{const O=R.target;[...h.branches].some(K=>K.contains(O))||(a==null||a(R),l==null||l(R),R.defaultPrevented||u==null||u())},v);return b5(R=>{N===h.layers.size-1&&(o==null||o(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),y.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(ob=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),sb(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ob)}},[m,v,n,h]),y.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),sb())},[m,h]),y.useEffect(()=>{const R=()=>w({});return document.addEventListener(zm,R),()=>document.removeEventListener(zm,R)},[]),f.jsx(De.div,{...d,ref:b,style:{pointerEvents:_?P?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,I.onPointerDownCapture)})});lf.displayName=S5;var k5="DismissableLayerBranch",E5=y.forwardRef((e,t)=>{const n=y.useContext(b_),o=y.useRef(null),s=Ve(t,o);return y.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),f.jsx(De.div,{...e,ref:s})});E5.displayName=k5;function N5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),o=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const a=u=>{if(u.target&&!o.current){let d=function(){S_(C5,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function P5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),o=y.useRef(!1);return y.useEffect(()=>{const s=a=>{a.target&&!o.current&&S_(_5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function sb(){const e=new CustomEvent(zm);document.dispatchEvent(e)}function S_(e,t,n,{discrete:o}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),o?NL(s,a):s.dispatchEvent(a)}var Bp=0;function C_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ib()),document.body.insertAdjacentElement("beforeend",e[1]??ib()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bp--}},[])}function ib(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wp="focusScope.autoFocusOnMount",Vp="focusScope.autoFocusOnUnmount",ab={bubbles:!1,cancelable:!0},T5="FocusScope",dy=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[u,d]=y.useState(null),h=$t(s),m=$t(a),g=y.useRef(null),v=Ve(t,C=>d(C)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(o){let C=function(_){if(w.paused||!u)return;const P=_.target;u.contains(P)?g.current=P:wo(g.current,{select:!0})},k=function(_){if(w.paused||!u)return;const P=_.relatedTarget;P!==null&&(u.contains(P)||wo(g.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const I of _)I.removedNodes.length>0&&wo(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",k);const N=new MutationObserver(E);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",k),N.disconnect()}}},[o,u,w.paused]),y.useEffect(()=>{if(u){cb.add(w);const C=document.activeElement;if(!u.contains(C)){const E=new CustomEvent(Wp,ab);u.addEventListener(Wp,h),u.dispatchEvent(E),E.defaultPrevented||(R5(D5(__(u)),{select:!0}),document.activeElement===C&&wo(u))}return()=>{u.removeEventListener(Wp,h),setTimeout(()=>{const E=new CustomEvent(Vp,ab);u.addEventListener(Vp,m),u.dispatchEvent(E),E.defaultPrevented||wo(C??document.body,{select:!0}),u.removeEventListener(Vp,m),cb.remove(w)},0)}}},[u,h,m,w]);const b=y.useCallback(C=>{if(!n&&!o||w.paused)return;const k=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,E=document.activeElement;if(k&&E){const N=C.currentTarget,[_,P]=j5(N);_&&P?!C.shiftKey&&E===P?(C.preventDefault(),n&&wo(_,{select:!0})):C.shiftKey&&E===_&&(C.preventDefault(),n&&wo(P,{select:!0})):E===N&&C.preventDefault()}},[n,o,w.paused]);return f.jsx(De.div,{tabIndex:-1,...l,ref:v,onKeyDown:b})});dy.displayName=T5;function R5(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(wo(o,{select:t}),document.activeElement!==n)return}function j5(e){const t=__(e),n=lb(t,e),o=lb(t.reverse(),e);return[n,o]}function __(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lb(e,t){for(const n of e)if(!I5(n,{upTo:t}))return n}function I5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function A5(e){return e instanceof HTMLInputElement&&"select"in e}function wo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&A5(e)&&t&&e.select()}}var cb=M5();function M5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ub(e,t),e.unshift(t)},remove(t){var n;e=ub(e,t),(n=e[0])==null||n.resume()}}}function ub(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function D5(e){return e.filter(t=>t.tagName!=="A")}const O5=["top","right","bottom","left"],Do=Math.min,rn=Math.max,Nd=Math.round,Fu=Math.floor,ar=e=>({x:e,y:e}),L5={left:"right",right:"left",bottom:"top",top:"bottom"},$5={start:"end",end:"start"};function Hm(e,t,n){return rn(e,Do(t,n))}function Vr(e,t){return typeof e=="function"?e(t):e}function Ur(e){return e.split("-")[0]}function ia(e){return e.split("-")[1]}function fy(e){return e==="x"?"y":"x"}function hy(e){return e==="y"?"height":"width"}const F5=new Set(["top","bottom"]);function or(e){return F5.has(Ur(e))?"y":"x"}function py(e){return fy(or(e))}function z5(e,t,n){n===void 0&&(n=!1);const o=ia(e),s=py(e),a=hy(s);let l=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Pd(l)),[l,Pd(l)]}function H5(e){const t=Pd(e);return[Bm(e),t,Bm(t)]}function Bm(e){return e.replace(/start|end/g,t=>$5[t])}const db=["left","right"],fb=["right","left"],B5=["top","bottom"],W5=["bottom","top"];function V5(e,t,n){switch(e){case"top":case"bottom":return n?t?fb:db:t?db:fb;case"left":case"right":return t?B5:W5;default:return[]}}function U5(e,t,n,o){const s=ia(e);let a=V5(Ur(e),n==="start",o);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(Bm)))),a}function Pd(e){return e.replace(/left|right|bottom|top/g,t=>L5[t])}function q5(e){return{top:0,right:0,bottom:0,left:0,...e}}function k_(e){return typeof e!="number"?q5(e):{top:e,right:e,bottom:e,left:e}}function Td(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function hb(e,t,n){let{reference:o,floating:s}=e;const a=or(t),l=py(t),u=hy(l),d=Ur(t),h=a==="y",m=o.x+o.width/2-s.width/2,g=o.y+o.height/2-s.height/2,v=o[u]/2-s[u]/2;let w;switch(d){case"top":w={x:m,y:o.y-s.height};break;case"bottom":w={x:m,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:g};break;case"left":w={x:o.x-s.width,y:g};break;default:w={x:o.x,y:o.y}}switch(ia(t)){case"start":w[l]-=v*(n&&h?-1:1);break;case"end":w[l]+=v*(n&&h?-1:1);break}return w}const K5=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:g}=hb(h,o,d),v=o,w={},b=0;for(let C=0;C<u.length;C++){const{name:k,fn:E}=u[C],{x:N,y:_,data:P,reset:I}=await E({x:m,y:g,initialPlacement:o,placement:v,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:e,floating:t}});m=N??m,g=_??g,w={...w,[k]:{...w[k],...P}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(h=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:m,y:g}=hb(h,v,d)),C=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:w}};async function jl(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:a,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=Vr(t,e),b=k_(w),k=u[v?g==="floating"?"reference":"floating":g],E=Td(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),N=g==="floating"?{x:o,y:s,width:l.floating.width,height:l.floating.height}:l.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),P=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},I=Td(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:_,strategy:d}):N);return{top:(E.top-I.top+b.top)/P.y,bottom:(I.bottom-E.bottom+b.bottom)/P.y,left:(E.left-I.left+b.left)/P.x,right:(I.right-E.right+b.right)/P.x}}const G5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:a,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:m=0}=Vr(e,t)||{};if(h==null)return{};const g=k_(m),v={x:n,y:o},w=py(s),b=hy(w),C=await l.getDimensions(h),k=w==="y",E=k?"top":"left",N=k?"bottom":"right",_=k?"clientHeight":"clientWidth",P=a.reference[b]+a.reference[w]-v[w]-a.floating[b],I=v[w]-a.reference[w],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let R=A?A[_]:0;(!R||!await(l.isElement==null?void 0:l.isElement(A)))&&(R=u.floating[_]||a.floating[b]);const O=P/2-I/2,H=R/2-C[b]/2-1,K=Do(g[E],H),M=Do(g[N],H),U=K,J=R-C[b]-M,L=R/2-C[b]/2+O,Q=Hm(U,L,J),z=!d.arrow&&ia(s)!=null&&L!==Q&&a.reference[b]/2-(L<U?K:M)-C[b]/2<0,q=z?L<U?L-U:L-J:0;return{[w]:v[w]+q,data:{[w]:Q,centerOffset:L-Q-q,...z&&{alignmentOffset:q}},reset:z}}}),Y5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...k}=Vr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=Ur(s),N=or(u),_=Ur(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),I=v||(_||!C?[Pd(u)]:H5(u)),A=b!=="none";!v&&A&&I.push(...U5(u,C,b,P));const R=[u,...I],O=await jl(t,k),H=[];let K=((o=a.flip)==null?void 0:o.overflows)||[];if(m&&H.push(O[E]),g){const L=z5(s,l,P);H.push(O[L[0]],O[L[1]])}if(K=[...K,{placement:s,overflows:H}],!H.every(L=>L<=0)){var M,U;const L=(((M=a.flip)==null?void 0:M.index)||0)+1,Q=R[L];if(Q&&(!(g==="alignment"?N!==or(Q):!1)||K.every(j=>or(j.placement)===N?j.overflows[0]>0:!0)))return{data:{index:L,overflows:K},reset:{placement:Q}};let z=(U=K.filter(q=>q.overflows[0]<=0).sort((q,j)=>q.overflows[1]-j.overflows[1])[0])==null?void 0:U.placement;if(!z)switch(w){case"bestFit":{var J;const q=(J=K.filter(j=>{if(A){const F=or(j.placement);return F===N||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:J[0];q&&(z=q);break}case"initialPlacement":z=u;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function pb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mb(e){return O5.some(t=>e[t]>=0)}const Q5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=Vr(e,t);switch(o){case"referenceHidden":{const a=await jl(t,{...s,elementContext:"reference"}),l=pb(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:mb(l)}}}case"escaped":{const a=await jl(t,{...s,altBoundary:!0}),l=pb(a,n.floating);return{data:{escapedOffsets:l,escaped:mb(l)}}}default:return{}}}}},E_=new Set(["left","top"]);async function X5(e,t){const{placement:n,platform:o,elements:s}=e,a=await(o.isRTL==null?void 0:o.isRTL(s.floating)),l=Ur(n),u=ia(n),d=or(n)==="y",h=E_.has(l)?-1:1,m=a&&d?-1:1,g=Vr(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof b=="number"&&(w=u==="end"?b*-1:b),d?{x:w*m,y:v*h}:{x:v*h,y:w*m}}const J5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:a,placement:l,middlewareData:u}=t,d=await X5(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},Z5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:E,y:N}=k;return{x:E,y:N}}},...d}=Vr(e,t),h={x:n,y:o},m=await jl(t,d),g=or(Ur(s)),v=fy(g);let w=h[v],b=h[g];if(a){const k=v==="y"?"top":"left",E=v==="y"?"bottom":"right",N=w+m[k],_=w-m[E];w=Hm(N,w,_)}if(l){const k=g==="y"?"top":"left",E=g==="y"?"bottom":"right",N=b+m[k],_=b-m[E];b=Hm(N,b,_)}const C=u.fn({...t,[v]:w,[g]:b});return{...C,data:{x:C.x-n,y:C.y-o,enabled:{[v]:a,[g]:l}}}}}},e$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:s,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Vr(e,t),m={x:n,y:o},g=or(s),v=fy(g);let w=m[v],b=m[g];const C=Vr(u,t),k=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const _=v==="y"?"height":"width",P=a.reference[v]-a.floating[_]+k.mainAxis,I=a.reference[v]+a.reference[_]-k.mainAxis;w<P?w=P:w>I&&(w=I)}if(h){var E,N;const _=v==="y"?"width":"height",P=E_.has(Ur(s)),I=a.reference[g]-a.floating[_]+(P&&((E=l.offset)==null?void 0:E[g])||0)+(P?0:k.crossAxis),A=a.reference[g]+a.reference[_]+(P?0:((N=l.offset)==null?void 0:N[g])||0)-(P?k.crossAxis:0);b<I?b=I:b>A&&(b=A)}return{[v]:w,[g]:b}}}},t$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:a,platform:l,elements:u}=t,{apply:d=()=>{},...h}=Vr(e,t),m=await jl(t,h),g=Ur(s),v=ia(s),w=or(s)==="y",{width:b,height:C}=a.floating;let k,E;g==="top"||g==="bottom"?(k=g,E=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,k=v==="end"?"top":"bottom");const N=C-m.top-m.bottom,_=b-m.left-m.right,P=Do(C-m[k],N),I=Do(b-m[E],_),A=!t.middlewareData.shift;let R=P,O=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=_),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(R=N),A&&!v){const K=rn(m.left,0),M=rn(m.right,0),U=rn(m.top,0),J=rn(m.bottom,0);w?O=b-2*(K!==0||M!==0?K+M:rn(m.left,m.right)):R=C-2*(U!==0||J!==0?U+J:rn(m.top,m.bottom))}await d({...t,availableWidth:O,availableHeight:R});const H=await l.getDimensions(u.floating);return b!==H.width||C!==H.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function aa(e){return N_(e)?(e.nodeName||"").toLowerCase():"#document"}function ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pr(e){var t;return(t=(N_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function N_(e){return cf()?e instanceof Node||e instanceof ln(e).Node:!1}function zn(e){return cf()?e instanceof Element||e instanceof ln(e).Element:!1}function cr(e){return cf()?e instanceof HTMLElement||e instanceof ln(e).HTMLElement:!1}function gb(e){return!cf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ln(e).ShadowRoot}const n$=new Set(["inline","contents"]);function ec(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=Hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!n$.has(s)}const r$=new Set(["table","td","th"]);function o$(e){return r$.has(aa(e))}const s$=[":popover-open",":modal"];function uf(e){return s$.some(t=>{try{return e.matches(t)}catch{return!1}})}const i$=["transform","translate","scale","rotate","perspective"],a$=["transform","translate","scale","rotate","perspective","filter"],l$=["paint","layout","strict","content"];function my(e){const t=gy(),n=zn(e)?Hn(e):e;return i$.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||a$.some(o=>(n.willChange||"").includes(o))||l$.some(o=>(n.contain||"").includes(o))}function c$(e){let t=Oo(e);for(;cr(t)&&!Xi(t);){if(my(t))return t;if(uf(t))return null;t=Oo(t)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const u$=new Set(["html","body","#document"]);function Xi(e){return u$.has(aa(e))}function Hn(e){return ln(e).getComputedStyle(e)}function df(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oo(e){if(aa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gb(e)&&e.host||pr(e);return gb(t)?t.host:t}function P_(e){const t=Oo(e);return Xi(t)?e.ownerDocument?e.ownerDocument.body:e.body:cr(t)&&ec(t)?t:P_(t)}function Il(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=P_(e),a=s===((o=e.ownerDocument)==null?void 0:o.body),l=ln(s);if(a){const u=Wm(l);return t.concat(l,l.visualViewport||[],ec(s)?s:[],u&&n?Il(u):[])}return t.concat(s,Il(s,[],n))}function Wm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T_(e){const t=Hn(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=cr(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:o,u=Nd(n)!==a||Nd(o)!==l;return u&&(n=a,o=l),{width:n,height:o,$:u}}function yy(e){return zn(e)?e:e.contextElement}function _i(e){const t=yy(e);if(!cr(t))return ar(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:a}=T_(t);let l=(a?Nd(n.width):n.width)/o,u=(a?Nd(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const d$=ar(0);function R_(e){const t=ln(e);return!gy()||!t.visualViewport?d$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ln(e)?!1:t}function Rs(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=yy(e);let l=ar(1);t&&(o?zn(o)&&(l=_i(o)):l=_i(e));const u=f$(a,n,o)?R_(a):ar(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,m=s.width/l.x,g=s.height/l.y;if(a){const v=ln(a),w=o&&zn(o)?ln(o):o;let b=v,C=Wm(b);for(;C&&o&&w!==b;){const k=_i(C),E=C.getBoundingClientRect(),N=Hn(C),_=E.left+(C.clientLeft+parseFloat(N.paddingLeft))*k.x,P=E.top+(C.clientTop+parseFloat(N.paddingTop))*k.y;d*=k.x,h*=k.y,m*=k.x,g*=k.y,d+=_,h+=P,b=ln(C),C=Wm(b)}}return Td({width:m,height:g,x:d,y:h})}function ff(e,t){const n=df(e).scrollLeft;return t?t.left+n:Rs(pr(e)).left+n}function j_(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-ff(e,n),s=n.top+t.scrollTop;return{x:o,y:s}}function h$(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const a=s==="fixed",l=pr(o),u=t?uf(t.floating):!1;if(o===l||u&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ar(1);const m=ar(0),g=cr(o);if((g||!g&&!a)&&((aa(o)!=="body"||ec(l))&&(d=df(o)),cr(o))){const w=Rs(o);h=_i(o),m.x=w.x+o.clientLeft,m.y=w.y+o.clientTop}const v=l&&!g&&!a?j_(l,d):ar(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function p$(e){return Array.from(e.getClientRects())}function m$(e){const t=pr(e),n=df(e),o=e.ownerDocument.body,s=rn(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=rn(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ff(e);const u=-n.scrollTop;return Hn(o).direction==="rtl"&&(l+=rn(t.clientWidth,o.clientWidth)-s),{width:s,height:a,x:l,y:u}}const yb=25;function g$(e,t){const n=ln(e),o=pr(e),s=n.visualViewport;let a=o.clientWidth,l=o.clientHeight,u=0,d=0;if(s){a=s.width,l=s.height;const m=gy();(!m||m&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const h=ff(o);if(h<=0){const m=o.ownerDocument,g=m.body,v=getComputedStyle(g),w=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,b=Math.abs(o.clientWidth-g.clientWidth-w);b<=yb&&(a-=b)}else h<=yb&&(a+=h);return{width:a,height:l,x:u,y:d}}const y$=new Set(["absolute","fixed"]);function v$(e,t){const n=Rs(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,a=cr(e)?_i(e):ar(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,d=s*a.x,h=o*a.y;return{width:l,height:u,x:d,y:h}}function vb(e,t,n){let o;if(t==="viewport")o=g$(e,n);else if(t==="document")o=m$(pr(e));else if(zn(t))o=v$(t,n);else{const s=R_(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Td(o)}function I_(e,t){const n=Oo(e);return n===t||!zn(n)||Xi(n)?!1:Hn(n).position==="fixed"||I_(n,t)}function x$(e,t){const n=t.get(e);if(n)return n;let o=Il(e,[],!1).filter(u=>zn(u)&&aa(u)!=="body"),s=null;const a=Hn(e).position==="fixed";let l=a?Oo(e):e;for(;zn(l)&&!Xi(l);){const u=Hn(l),d=my(l);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&y$.has(s.position)||ec(l)&&!d&&I_(e,l))?o=o.filter(m=>m!==l):s=u,l=Oo(l)}return t.set(e,o),o}function w$(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const l=[...n==="clippingAncestors"?uf(t)?[]:x$(t,this._c):[].concat(n),o],u=l[0],d=l.reduce((h,m)=>{const g=vb(t,m,s);return h.top=rn(g.top,h.top),h.right=Do(g.right,h.right),h.bottom=Do(g.bottom,h.bottom),h.left=rn(g.left,h.left),h},vb(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function b$(e){const{width:t,height:n}=T_(e);return{width:t,height:n}}function S$(e,t,n){const o=cr(t),s=pr(t),a=n==="fixed",l=Rs(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=ar(0);function h(){d.x=ff(s)}if(o||!o&&!a)if((aa(t)!=="body"||ec(s))&&(u=df(t)),o){const w=Rs(t,!0,a,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else s&&h();a&&!o&&s&&h();const m=s&&!o&&!a?j_(s,u):ar(0),g=l.left+u.scrollLeft-d.x-m.x,v=l.top+u.scrollTop-d.y-m.y;return{x:g,y:v,width:l.width,height:l.height}}function Up(e){return Hn(e).position==="static"}function xb(e,t){if(!cr(e)||Hn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pr(e)===n&&(n=n.ownerDocument.body),n}function A_(e,t){const n=ln(e);if(uf(e))return n;if(!cr(e)){let s=Oo(e);for(;s&&!Xi(s);){if(zn(s)&&!Up(s))return s;s=Oo(s)}return n}let o=xb(e,t);for(;o&&o$(o)&&Up(o);)o=xb(o,t);return o&&Xi(o)&&Up(o)&&!my(o)?n:o||c$(e)||n}const C$=async function(e){const t=this.getOffsetParent||A_,n=this.getDimensions,o=await n(e.floating);return{reference:S$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function _$(e){return Hn(e).direction==="rtl"}const k$={convertOffsetParentRelativeRectToViewportRelativeRect:h$,getDocumentElement:pr,getClippingRect:w$,getOffsetParent:A_,getElementRects:C$,getClientRects:p$,getDimensions:b$,getScale:_i,isElement:zn,isRTL:_$};function M_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function E$(e,t){let n=null,o;const s=pr(e);function a(){var u;clearTimeout(o),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:m,top:g,width:v,height:w}=h;if(u||t(),!v||!w)return;const b=Fu(g),C=Fu(s.clientWidth-(m+v)),k=Fu(s.clientHeight-(g+w)),E=Fu(m),_={rootMargin:-b+"px "+-C+"px "+-k+"px "+-E+"px",threshold:rn(0,Do(1,d))||1};let P=!0;function I(A){const R=A[0].intersectionRatio;if(R!==d){if(!P)return l();R?l(!1,R):o=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!M_(h,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(I,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(e)}return l(!0),a}function N$(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,h=yy(e),m=s||a?[...h?Il(h):[],...Il(t)]:[];m.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const g=h&&u?E$(h,n):null;let v=-1,w=null;l&&(w=new ResizeObserver(E=>{let[N]=E;N&&N.target===h&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(t)})),n()}),h&&!d&&w.observe(h),w.observe(t));let b,C=d?Rs(e):null;d&&k();function k(){const E=Rs(e);C&&!M_(C,E)&&n(),C=E,b=requestAnimationFrame(k)}return n(),()=>{var E;m.forEach(N=>{s&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,d&&cancelAnimationFrame(b)}}const P$=J5,T$=Z5,R$=Y5,j$=t$,I$=Q5,wb=G5,A$=e$,M$=(e,t,n)=>{const o=new Map,s={platform:k$,...n},a={...s.platform,_c:o};return K5(e,t,{...s,platform:a})};var D$=typeof document<"u",O$=function(){},td=D$?y.useLayoutEffect:O$;function Rd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Rd(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!Rd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function D_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bb(e,t){const n=D_(e);return Math.round(t*n)/n}function qp(e){const t=y.useRef(e);return td(()=>{t.current=e}),t}function L$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[m,g]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=y.useState(o);Rd(v,o)||w(o);const[b,C]=y.useState(null),[k,E]=y.useState(null),N=y.useCallback(j=>{j!==A.current&&(A.current=j,C(j))},[]),_=y.useCallback(j=>{j!==R.current&&(R.current=j,E(j))},[]),P=a||b,I=l||k,A=y.useRef(null),R=y.useRef(null),O=y.useRef(m),H=d!=null,K=qp(d),M=qp(s),U=qp(h),J=y.useCallback(()=>{if(!A.current||!R.current)return;const j={placement:t,strategy:n,middleware:v};M.current&&(j.platform=M.current),M$(A.current,R.current,j).then(F=>{const G={...F,isPositioned:U.current!==!1};L.current&&!Rd(O.current,G)&&(O.current=G,Ul.flushSync(()=>{g(G)}))})},[v,t,n,M,U]);td(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(j=>({...j,isPositioned:!1})))},[h]);const L=y.useRef(!1);td(()=>(L.current=!0,()=>{L.current=!1}),[]),td(()=>{if(P&&(A.current=P),I&&(R.current=I),P&&I){if(K.current)return K.current(P,I,J);J()}},[P,I,J,K,H]);const Q=y.useMemo(()=>({reference:A,floating:R,setReference:N,setFloating:_}),[N,_]),z=y.useMemo(()=>({reference:P,floating:I}),[P,I]),q=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!z.floating)return j;const F=bb(z.floating,m.x),G=bb(z.floating,m.y);return u?{...j,transform:"translate("+F+"px, "+G+"px)",...D_(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,u,z.floating,m.x,m.y]);return y.useMemo(()=>({...m,update:J,refs:Q,elements:z,floatingStyles:q}),[m,J,Q,z,q])}const $$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:s}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?wb({element:o.current,padding:s}).fn(n):{}:o?wb({element:o,padding:s}).fn(n):{}}}},F$=(e,t)=>({...P$(e),options:[e,t]}),z$=(e,t)=>({...T$(e),options:[e,t]}),H$=(e,t)=>({...A$(e),options:[e,t]}),B$=(e,t)=>({...R$(e),options:[e,t]}),W$=(e,t)=>({...j$(e),options:[e,t]}),V$=(e,t)=>({...I$(e),options:[e,t]}),U$=(e,t)=>({...$$(e),options:[e,t]});var q$="Arrow",O_=y.forwardRef((e,t)=>{const{children:n,width:o=10,height:s=5,...a}=e;return f.jsx(De.svg,{...a,ref:t,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});O_.displayName=q$;var K$=O_,vy="Popper",[L_,hf]=fr(vy),[G$,$_]=L_(vy),F_=e=>{const{__scopePopper:t,children:n}=e,[o,s]=y.useState(null);return f.jsx(G$,{scope:t,anchor:o,onAnchorChange:s,children:n})};F_.displayName=vy;var z_="PopperAnchor",H_=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...s}=e,a=$_(z_,n),l=y.useRef(null),u=Ve(t,l),d=y.useRef(null);return y.useEffect(()=>{const h=d.current;d.current=(o==null?void 0:o.current)||l.current,h!==d.current&&a.onAnchorChange(d.current)}),o?null:f.jsx(De.div,{...s,ref:u})});H_.displayName=z_;var xy="PopperContent",[Y$,Q$]=L_(xy),B_=y.forwardRef((e,t)=>{var te,ne,le,pe,me,he;const{__scopePopper:n,side:o="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:b,...C}=e,k=$_(xy,n),[E,N]=y.useState(null),_=Ve(t,ve=>N(ve)),[P,I]=y.useState(null),A=f_(P),R=(A==null?void 0:A.width)??0,O=(A==null?void 0:A.height)??0,H=o+(a!=="center"?"-"+a:""),K=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(h)?h:[h],U=M.length>0,J={padding:K,boundary:M.filter(J$),altBoundary:U},{refs:L,floatingStyles:Q,placement:z,isPositioned:q,middlewareData:j}=L$({strategy:"fixed",placement:H,whileElementsMounted:(...ve)=>N$(...ve,{animationFrame:w==="always"}),elements:{reference:k.anchor},middleware:[F$({mainAxis:s+O,alignmentAxis:l}),d&&z$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?H$():void 0,...J}),d&&B$({...J}),W$({...J,apply:({elements:ve,rects:Ie,availableWidth:He,availableHeight:Oe})=>{const{width:Ye,height:Yt}=Ie.reference,wt=ve.floating.style;wt.setProperty("--radix-popper-available-width",`${He}px`),wt.setProperty("--radix-popper-available-height",`${Oe}px`),wt.setProperty("--radix-popper-anchor-width",`${Ye}px`),wt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),P&&U$({element:P,padding:u}),Z$({arrowWidth:R,arrowHeight:O}),v&&V$({strategy:"referenceHidden",...J})]}),[F,G]=U_(z),D=$t(b);kt(()=>{q&&(D==null||D())},[q,D]);const V=(te=j.arrow)==null?void 0:te.x,oe=(ne=j.arrow)==null?void 0:ne.y,re=((le=j.arrow)==null?void 0:le.centerOffset)!==0,[ce,de]=y.useState();return kt(()=>{E&&de(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:q?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(pe=j.transformOrigin)==null?void 0:pe.x,(me=j.transformOrigin)==null?void 0:me.y].join(" "),...((he=j.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(Y$,{scope:n,placedSide:F,onArrowChange:I,arrowX:V,arrowY:oe,shouldHideArrow:re,children:f.jsx(De.div,{"data-side":F,"data-align":G,...C,ref:_,style:{...C.style,animation:q?void 0:"none"}})})})});B_.displayName=xy;var W_="PopperArrow",X$={top:"bottom",right:"left",bottom:"top",left:"right"},V_=y.forwardRef(function(t,n){const{__scopePopper:o,...s}=t,a=Q$(W_,o),l=X$[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(K$,{...s,ref:n,style:{...s.style,display:"block"}})})});V_.displayName=W_;function J$(e){return e!==null}var Z$=e=>({name:"transformOrigin",options:e,fn(t){var k,E,N;const{placement:n,rects:o,middlewareData:s}=t,l=((k=s.arrow)==null?void 0:k.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=U_(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(((E=s.arrow)==null?void 0:E.x)??0)+u/2,w=(((N=s.arrow)==null?void 0:N.y)??0)+d/2;let b="",C="";return h==="bottom"?(b=l?g:`${v}px`,C=`${-d}px`):h==="top"?(b=l?g:`${v}px`,C=`${o.floating.height+d}px`):h==="right"?(b=`${-d}px`,C=l?g:`${w}px`):h==="left"&&(b=`${o.floating.width+d}px`,C=l?g:`${w}px`),{data:{x:b,y:C}}}});function U_(e){const[t,n="center"]=e.split("-");return[t,n]}var q_=F_,K_=H_,G_=B_,Y_=V_,eF="Portal",pf=y.forwardRef((e,t)=>{var u;const{container:n,...o}=e,[s,a]=y.useState(!1);kt(()=>a(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?WT.createPortal(f.jsx(De.div,{...o,ref:t}),l):null});pf.displayName=eF;function tF(e){const t=nF(e),n=y.forwardRef((o,s)=>{const{children:a,...l}=o,u=y.Children.toArray(a),d=u.find(oF);if(d){const h=d.props.children,m=u.map(g=>g===d?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return f.jsx(t,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,m):null})}return f.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function nF(e){const t=y.forwardRef((n,o)=>{const{children:s,...a}=n;if(y.isValidElement(s)){const l=iF(s),u=sF(a,s.props);return s.type!==y.Fragment&&(u.ref=o?sa(o,l):l),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rF=Symbol("radix.slottable");function oF(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rF}function sF(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function iF(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Q_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aF="VisuallyHidden",X_=y.forwardRef((e,t)=>f.jsx(De.span,{...e,ref:t,style:{...Q_,...e.style}}));X_.displayName=aF;var lF=X_,cF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gi=new WeakMap,zu=new WeakMap,Hu={},Kp=0,J_=function(e){return e&&(e.host||J_(e.parentNode))},uF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=J_(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dF=function(e,t,n,o){var s=uF(t,Array.isArray(e)?e:[e]);Hu[n]||(Hu[n]=new WeakMap);var a=Hu[n],l=[],u=new Set,d=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var w=v.getAttribute(o),b=w!==null&&w!=="false",C=(gi.get(v)||0)+1,k=(a.get(v)||0)+1;gi.set(v,C),a.set(v,k),l.push(v),C===1&&b&&zu.set(v,!0),k===1&&v.setAttribute(n,"true"),b||v.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return m(t),u.clear(),Kp++,function(){l.forEach(function(g){var v=gi.get(g)-1,w=a.get(g)-1;gi.set(g,v),a.set(g,w),v||(zu.has(g)||g.removeAttribute(o),zu.delete(g)),w||g.removeAttribute(n)}),Kp--,Kp||(gi=new WeakMap,gi=new WeakMap,zu=new WeakMap,Hu={})}},Z_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=cF(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live], script"))),dF(o,s,n,"aria-hidden")):function(){return null}},rr=function(){return rr=Object.assign||function(t){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rr.apply(this,arguments)};function ek(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n}function fF(e,t,n){if(n||arguments.length===2)for(var o=0,s=t.length,a;o<s;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}var nd="right-scroll-bar-position",rd="width-before-scroll-bar",hF="with-scroll-bars-hidden",pF="--removed-body-scroll-bar-size";function Gp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mF(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var s=n.value;s!==o&&(n.value=o,n.callback(o,s))}}}})[0];return n.callback=t,n.facade}var gF=typeof window<"u"?y.useLayoutEffect:y.useEffect,Sb=new WeakMap;function yF(e,t){var n=mF(null,function(o){return e.forEach(function(s){return Gp(s,o)})});return gF(function(){var o=Sb.get(n);if(o){var s=new Set(o),a=new Set(e),l=n.current;s.forEach(function(u){a.has(u)||Gp(u,null)}),a.forEach(function(u){s.has(u)||Gp(u,l)})}Sb.set(n,e)},[e]),n}function vF(e){return e}function xF(e,t){t===void 0&&(t=vF);var n=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,o);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(o=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){o=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var d=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function wF(e){e===void 0&&(e={});var t=xF(null);return t.options=rr({async:!0,ssr:!1},e),t}var tk=function(e){var t=e.sideCar,n=ek(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return y.createElement(o,rr({},n))};tk.isSideCarExport=!0;function bF(e,t){return e.useMedium(t),tk}var nk=wF(),Yp=function(){},mf=y.forwardRef(function(e,t){var n=y.useRef(null),o=y.useState({onScrollCapture:Yp,onWheelCapture:Yp,onTouchMoveCapture:Yp}),s=o[0],a=o[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,w=e.noRelative,b=e.noIsolation,C=e.inert,k=e.allowPinchZoom,E=e.as,N=E===void 0?"div":E,_=e.gapMode,P=ek(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,A=yF([n,t]),R=rr(rr({},P),s);return y.createElement(y.Fragment,null,m&&y.createElement(I,{sideCar:nk,removeScrollBar:h,shards:g,noRelative:w,noIsolation:b,inert:C,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:_}),l?y.cloneElement(y.Children.only(u),rr(rr({},R),{ref:A})):y.createElement(N,rr({},R,{className:d,ref:A}),u))});mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mf.classNames={fullWidth:rd,zeroRight:nd};var SF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SF();return t&&e.setAttribute("nonce",t),e}function _F(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=CF())&&(_F(t,n),kF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NF=function(){var e=EF();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rk=function(){var e=NF(),t=function(n){var o=n.styles,s=n.dynamic;return e(o,s),null};return t},PF={left:0,top:0,right:0,gap:0},Qp=function(e){return parseInt(e||"",10)||0},TF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Qp(n),Qp(o),Qp(s)]},RF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PF;var t=TF(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},jF=rk(),ki="data-scroll-locked",IF=function(e,t,n,o){var s=e.left,a=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hF,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(ki,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nd,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(rd,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ki,`] {
    `).concat(pF,": ").concat(u,`px;
  }
`)},Cb=function(){var e=parseInt(document.body.getAttribute(ki)||"0",10);return isFinite(e)?e:0},AF=function(){y.useEffect(function(){return document.body.setAttribute(ki,(Cb()+1).toString()),function(){var e=Cb()-1;e<=0?document.body.removeAttribute(ki):document.body.setAttribute(ki,e.toString())}},[])},MF=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;AF();var a=y.useMemo(function(){return RF(s)},[s]);return y.createElement(jF,{styles:IF(a,!t,s,n?"":"!important")})},Vm=!1;if(typeof window<"u")try{var Bu=Object.defineProperty({},"passive",{get:function(){return Vm=!0,!0}});window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Vm=!1}var yi=Vm?{passive:!1}:!1,DF=function(e){return e.tagName==="TEXTAREA"},ok=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DF(e)&&n[t]==="visible")},OF=function(e){return ok(e,"overflowY")},LF=function(e){return ok(e,"overflowX")},_b=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=sk(e,o);if(s){var a=ik(e,o),l=a[1],u=a[2];if(l>u)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},$F=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},FF=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},sk=function(e,t){return e==="v"?OF(t):LF(t)},ik=function(e,t){return e==="v"?$F(t):FF(t)},zF=function(e,t){return e==="h"&&t==="rtl"?-1:1},HF=function(e,t,n,o,s){var a=zF(e,window.getComputedStyle(t).direction),l=a*o,u=n.target,d=t.contains(u),h=!1,m=l>0,g=0,v=0;do{if(!u)break;var w=ik(e,u),b=w[0],C=w[1],k=w[2],E=C-k-a*b;(b||E)&&sk(e,u)&&(g+=E,v+=b);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(h=!0),h},Wu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kb=function(e){return[e.deltaX,e.deltaY]},Eb=function(e){return e&&"current"in e?e.current:e},BF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VF=0,vi=[];function UF(e){var t=y.useRef([]),n=y.useRef([0,0]),o=y.useRef(),s=y.useState(VF++)[0],a=y.useState(rk)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=fF([e.lockRef.current],(e.shards||[]).map(Eb),!0).filter(Boolean);return C.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(C,k){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var E=Wu(C),N=n.current,_="deltaX"in C?C.deltaX:N[0]-E[0],P="deltaY"in C?C.deltaY:N[1]-E[1],I,A=C.target,R=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in C&&R==="h"&&A.type==="range")return!1;var O=window.getSelection(),H=O&&O.anchorNode,K=H?H===A||H.contains(A):!1;if(K)return!1;var M=_b(R,A);if(!M)return!0;if(M?I=R:(I=R==="v"?"h":"v",M=_b(R,A)),!M)return!1;if(!o.current&&"changedTouches"in C&&(_||P)&&(o.current=I),!I)return!0;var U=o.current||I;return HF(U,k,C,U==="h"?_:P)},[]),d=y.useCallback(function(C){var k=C;if(!(!vi.length||vi[vi.length-1]!==a)){var E="deltaY"in k?kb(k):Wu(k),N=t.current.filter(function(I){return I.name===k.type&&(I.target===k.target||k.target===I.shadowParent)&&BF(I.delta,E)})[0];if(N&&N.should){k.cancelable&&k.preventDefault();return}if(!N){var _=(l.current.shards||[]).map(Eb).filter(Boolean).filter(function(I){return I.contains(k.target)}),P=_.length>0?u(k,_[0]):!l.current.noIsolation;P&&k.cancelable&&k.preventDefault()}}},[]),h=y.useCallback(function(C,k,E,N){var _={name:C,delta:k,target:E,should:N,shadowParent:qF(E)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(P){return P!==_})},1)},[]),m=y.useCallback(function(C){n.current=Wu(C),o.current=void 0},[]),g=y.useCallback(function(C){h(C.type,kb(C),C.target,u(C,e.lockRef.current))},[]),v=y.useCallback(function(C){h(C.type,Wu(C),C.target,u(C,e.lockRef.current))},[]);y.useEffect(function(){return vi.push(a),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,yi),document.addEventListener("touchmove",d,yi),document.addEventListener("touchstart",m,yi),function(){vi=vi.filter(function(C){return C!==a}),document.removeEventListener("wheel",d,yi),document.removeEventListener("touchmove",d,yi),document.removeEventListener("touchstart",m,yi)}},[]);var w=e.removeScrollBar,b=e.inert;return y.createElement(y.Fragment,null,b?y.createElement(a,{styles:WF(s)}):null,w?y.createElement(MF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KF=bF(nk,UF);var wy=y.forwardRef(function(e,t){return y.createElement(mf,rr({},e,{ref:t,sideCar:KF}))});wy.classNames=mf.classNames;var GF=[" ","Enter","ArrowUp","ArrowDown"],YF=[" ","Enter"],js="Select",[gf,yf,QF]=w_(js),[la]=fr(js,[QF,hf]),vf=hf(),[XF,Lo]=la(js),[JF,ZF]=la(js),ak=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:v,required:w,form:b}=e,C=vf(t),[k,E]=y.useState(null),[N,_]=y.useState(null),[P,I]=y.useState(!1),A=tf(h),[R,O]=Mo({prop:o,defaultProp:s??!1,onChange:a,caller:js}),[H,K]=Mo({prop:l,defaultProp:u,onChange:d,caller:js}),M=y.useRef(null),U=k?b||!!k.closest("form"):!0,[J,L]=y.useState(new Set),Q=Array.from(J).map(z=>z.props.value).join(";");return f.jsx(q_,{...C,children:f.jsxs(XF,{required:w,scope:t,trigger:k,onTriggerChange:E,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:P,onValueNodeHasChildrenChange:I,contentId:ir(),value:H,onValueChange:K,open:R,onOpenChange:O,dir:A,triggerPointerDownPosRef:M,disabled:v,children:[f.jsx(gf.Provider,{scope:t,children:f.jsx(JF,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(z=>{L(q=>new Set(q).add(z))},[]),onNativeOptionRemove:y.useCallback(z=>{L(q=>{const j=new Set(q);return j.delete(z),j})},[]),children:n})}),U?f.jsxs(jk,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:g,value:H,onChange:z=>K(z.target.value),disabled:v,form:b,children:[H===void 0?f.jsx("option",{value:""}):null,Array.from(J)]},Q):null]})})};ak.displayName=js;var lk="SelectTrigger",ck=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...s}=e,a=vf(n),l=Lo(lk,n),u=l.disabled||o,d=Ve(t,l.onTriggerChange),h=yf(n),m=y.useRef("touch"),[g,v,w]=Ak(C=>{const k=h().filter(_=>!_.disabled),E=k.find(_=>_.value===l.value),N=Mk(k,C,E);N!==void 0&&l.onValueChange(N.value)}),b=C=>{u||(l.onOpenChange(!0),w()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return f.jsx(K_,{asChild:!0,...a,children:f.jsx(De.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Ik(l.value)?"":void 0,...s,ref:d,onClick:Re(s.onClick,C=>{C.currentTarget.focus(),m.current!=="mouse"&&b(C)}),onPointerDown:Re(s.onPointerDown,C=>{m.current=C.pointerType;const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(b(C),C.preventDefault())}),onKeyDown:Re(s.onKeyDown,C=>{const k=g.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&v(C.key),!(k&&C.key===" ")&&GF.includes(C.key)&&(b(),C.preventDefault())})})})});ck.displayName=lk;var uk="SelectValue",dk=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:s,children:a,placeholder:l="",...u}=e,d=Lo(uk,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,g=Ve(t,d.onValueNodeChange);return kt(()=>{h(m)},[h,m]),f.jsx(De.span,{...u,ref:g,style:{pointerEvents:"none"},children:Ik(d.value)?f.jsx(f.Fragment,{children:l}):a})});dk.displayName=uk;var ez="SelectIcon",fk=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...s}=e;return f.jsx(De.span,{"aria-hidden":!0,...s,ref:t,children:o||""})});fk.displayName=ez;var tz="SelectPortal",hk=e=>f.jsx(pf,{asChild:!0,...e});hk.displayName=tz;var Is="SelectContent",pk=y.forwardRef((e,t)=>{const n=Lo(Is,e.__scopeSelect),[o,s]=y.useState();if(kt(()=>{s(new DocumentFragment)},[]),!n.open){const a=o;return a?Ul.createPortal(f.jsx(mk,{scope:e.__scopeSelect,children:f.jsx(gf.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx(gk,{...e,ref:t})});pk.displayName=Is;var Tn=10,[mk,$o]=la(Is),nz="SelectContentImpl",rz=tF("SelectContent.RemoveScroll"),gk=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:b,hideWhenDetached:C,avoidCollisions:k,...E}=e,N=Lo(Is,n),[_,P]=y.useState(null),[I,A]=y.useState(null),R=Ve(t,te=>P(te)),[O,H]=y.useState(null),[K,M]=y.useState(null),U=yf(n),[J,L]=y.useState(!1),Q=y.useRef(!1);y.useEffect(()=>{if(_)return Z_(_)},[_]),C_();const z=y.useCallback(te=>{const[ne,...le]=U().map(he=>he.ref.current),[pe]=le.slice(-1),me=document.activeElement;for(const he of te)if(he===me||(he==null||he.scrollIntoView({block:"nearest"}),he===ne&&I&&(I.scrollTop=0),he===pe&&I&&(I.scrollTop=I.scrollHeight),he==null||he.focus(),document.activeElement!==me))return},[U,I]),q=y.useCallback(()=>z([O,_]),[z,O,_]);y.useEffect(()=>{J&&q()},[J,q]);const{onOpenChange:j,triggerPointerDownPosRef:F}=N;y.useEffect(()=>{if(_){let te={x:0,y:0};const ne=pe=>{var me,he;te={x:Math.abs(Math.round(pe.pageX)-(((me=F.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((he=F.current)==null?void 0:he.y)??0))}},le=pe=>{te.x<=10&&te.y<=10?pe.preventDefault():_.contains(pe.target)||j(!1),document.removeEventListener("pointermove",ne),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",le,{capture:!0})}}},[_,j,F]),y.useEffect(()=>{const te=()=>j(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[j]);const[G,D]=Ak(te=>{const ne=U().filter(me=>!me.disabled),le=ne.find(me=>me.ref.current===document.activeElement),pe=Mk(ne,te,le);pe&&setTimeout(()=>pe.ref.current.focus())}),V=y.useCallback((te,ne,le)=>{const pe=!Q.current&&!le;(N.value!==void 0&&N.value===ne||pe)&&(H(te),pe&&(Q.current=!0))},[N.value]),oe=y.useCallback(()=>_==null?void 0:_.focus(),[_]),re=y.useCallback((te,ne,le)=>{const pe=!Q.current&&!le;(N.value!==void 0&&N.value===ne||pe)&&M(te)},[N.value]),ce=o==="popper"?Um:yk,de=ce===Um?{side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:b,hideWhenDetached:C,avoidCollisions:k}:{};return f.jsx(mk,{scope:n,content:_,viewport:I,onViewportChange:A,itemRefCallback:V,selectedItem:O,onItemLeave:oe,itemTextRefCallback:re,focusSelectedItem:q,selectedItemText:K,position:o,isPositioned:J,searchRef:G,children:f.jsx(wy,{as:rz,allowPinchZoom:!0,children:f.jsx(dy,{asChild:!0,trapped:N.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Re(s,te=>{var ne;(ne=N.trigger)==null||ne.focus({preventScroll:!0}),te.preventDefault()}),children:f.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:f.jsx(ce,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:te=>te.preventDefault(),...E,...de,onPlaced:()=>L(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Re(E.onKeyDown,te=>{const ne=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ne&&te.key.length===1&&D(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let pe=U().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(te.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const me=te.target,he=pe.indexOf(me);pe=pe.slice(he+1)}setTimeout(()=>z(pe)),te.preventDefault()}})})})})})})});gk.displayName=nz;var oz="SelectItemAlignedPosition",yk=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...s}=e,a=Lo(Is,n),l=$o(Is,n),[u,d]=y.useState(null),[h,m]=y.useState(null),g=Ve(t,R=>m(R)),v=yf(n),w=y.useRef(!1),b=y.useRef(!0),{viewport:C,selectedItem:k,selectedItemText:E,focusSelectedItem:N}=l,_=y.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&C&&k&&E){const R=a.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),K=E.getBoundingClientRect();if(a.dir!=="rtl"){const me=K.left-O.left,he=H.left-me,ve=R.left-he,Ie=R.width+ve,He=Math.max(Ie,O.width),Oe=window.innerWidth-Tn,Ye=Fm(he,[Tn,Math.max(Tn,Oe-He)]);u.style.minWidth=Ie+"px",u.style.left=Ye+"px"}else{const me=O.right-K.right,he=window.innerWidth-H.right-me,ve=window.innerWidth-R.right-he,Ie=R.width+ve,He=Math.max(Ie,O.width),Oe=window.innerWidth-Tn,Ye=Fm(he,[Tn,Math.max(Tn,Oe-He)]);u.style.minWidth=Ie+"px",u.style.right=Ye+"px"}const M=v(),U=window.innerHeight-Tn*2,J=C.scrollHeight,L=window.getComputedStyle(h),Q=parseInt(L.borderTopWidth,10),z=parseInt(L.paddingTop,10),q=parseInt(L.borderBottomWidth,10),j=parseInt(L.paddingBottom,10),F=Q+z+J+j+q,G=Math.min(k.offsetHeight*5,F),D=window.getComputedStyle(C),V=parseInt(D.paddingTop,10),oe=parseInt(D.paddingBottom,10),re=R.top+R.height/2-Tn,ce=U-re,de=k.offsetHeight/2,te=k.offsetTop+de,ne=Q+z+te,le=F-ne;if(ne<=re){const me=M.length>0&&k===M[M.length-1].ref.current;u.style.bottom="0px";const he=h.clientHeight-C.offsetTop-C.offsetHeight,ve=Math.max(ce,de+(me?oe:0)+he+q),Ie=ne+ve;u.style.height=Ie+"px"}else{const me=M.length>0&&k===M[0].ref.current;u.style.top="0px";const ve=Math.max(re,Q+C.offsetTop+(me?V:0)+de)+le;u.style.height=ve+"px",C.scrollTop=ne-re+C.offsetTop}u.style.margin=`${Tn}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=U+"px",o==null||o(),requestAnimationFrame(()=>w.current=!0)}},[v,a.trigger,a.valueNode,u,h,C,k,E,a.dir,o]);kt(()=>_(),[_]);const[P,I]=y.useState();kt(()=>{h&&I(window.getComputedStyle(h).zIndex)},[h]);const A=y.useCallback(R=>{R&&b.current===!0&&(_(),N==null||N(),b.current=!1)},[_,N]);return f.jsx(iz,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:f.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:f.jsx(De.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yk.displayName=oz;var sz="SelectPopperPosition",Um=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:s=Tn,...a}=e,l=vf(n);return f.jsx(G_,{...l,...a,ref:t,align:o,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Um.displayName=sz;var[iz,by]=la(Is,{}),qm="SelectViewport",vk=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...s}=e,a=$o(qm,n),l=by(qm,n),u=Ve(t,a.onViewportChange),d=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),f.jsx(gf.Slot,{scope:n,children:f.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&g){const w=Math.abs(d.current-m.scrollTop);if(w>0){const b=window.innerHeight-Tn*2,C=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),E=Math.max(C,k);if(E<b){const N=E+w,_=Math.min(b,N),P=N-_;g.style.height=_+"px",g.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});vk.displayName=qm;var xk="SelectGroup",[az,lz]=la(xk),cz=y.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=ir();return f.jsx(az,{scope:n,id:s,children:f.jsx(De.div,{role:"group","aria-labelledby":s,...o,ref:t})})});cz.displayName=xk;var wk="SelectLabel",bk=y.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=lz(wk,n);return f.jsx(De.div,{id:s.id,...o,ref:t})});bk.displayName=wk;var jd="SelectItem",[uz,Sk]=la(jd),Ck=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:s=!1,textValue:a,...l}=e,u=Lo(jd,n),d=$o(jd,n),h=u.value===o,[m,g]=y.useState(a??""),[v,w]=y.useState(!1),b=Ve(t,N=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,N,o,s)}),C=ir(),k=y.useRef("touch"),E=()=>{s||(u.onValueChange(o),u.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(uz,{scope:n,value:o,disabled:s,textId:C,isSelected:h,onItemTextChange:y.useCallback(N=>{g(_=>_||((N==null?void 0:N.textContent)??"").trim())},[]),children:f.jsx(gf.ItemSlot,{scope:n,value:o,disabled:s,textValue:m,children:f.jsx(De.div,{role:"option","aria-labelledby":C,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:b,onFocus:Re(l.onFocus,()=>w(!0)),onBlur:Re(l.onBlur,()=>w(!1)),onClick:Re(l.onClick,()=>{k.current!=="mouse"&&E()}),onPointerUp:Re(l.onPointerUp,()=>{k.current==="mouse"&&E()}),onPointerDown:Re(l.onPointerDown,N=>{k.current=N.pointerType}),onPointerMove:Re(l.onPointerMove,N=>{var _;k.current=N.pointerType,s?(_=d.onItemLeave)==null||_.call(d):k.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(l.onPointerLeave,N=>{var _;N.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:Re(l.onKeyDown,N=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&N.key===" "||(YF.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});Ck.displayName=jd;var al="SelectItemText",_k=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:s,...a}=e,l=Lo(al,n),u=$o(al,n),d=Sk(al,n),h=ZF(al,n),[m,g]=y.useState(null),v=Ve(t,E=>g(E),d.onItemTextChange,E=>{var N;return(N=u.itemTextRefCallback)==null?void 0:N.call(u,E,d.value,d.disabled)}),w=m==null?void 0:m.textContent,b=y.useMemo(()=>f.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:C,onNativeOptionRemove:k}=h;return kt(()=>(C(b),()=>k(b)),[C,k,b]),f.jsxs(f.Fragment,{children:[f.jsx(De.span,{id:d.textId,...a,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ul.createPortal(a.children,l.valueNode):null]})});_k.displayName=al;var kk="SelectItemIndicator",Ek=y.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return Sk(kk,n).isSelected?f.jsx(De.span,{"aria-hidden":!0,...o,ref:t}):null});Ek.displayName=kk;var Km="SelectScrollUpButton",Nk=y.forwardRef((e,t)=>{const n=$o(Km,e.__scopeSelect),o=by(Km,e.__scopeSelect),[s,a]=y.useState(!1),l=Ve(t,o.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?f.jsx(Tk,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});Nk.displayName=Km;var Gm="SelectScrollDownButton",Pk=y.forwardRef((e,t)=>{const n=$o(Gm,e.__scopeSelect),o=by(Gm,e.__scopeSelect),[s,a]=y.useState(!1),l=Ve(t,o.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?f.jsx(Tk,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});Pk.displayName=Gm;var Tk=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...s}=e,a=$o("SelectScrollButton",n),l=y.useRef(null),u=yf(n),d=y.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return y.useEffect(()=>()=>d(),[d]),kt(()=>{var m;const h=u().find(g=>g.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),f.jsx(De.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:Re(s.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{d()})})}),dz="SelectSeparator",Rk=y.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return f.jsx(De.div,{"aria-hidden":!0,...o,ref:t})});Rk.displayName=dz;var Ym="SelectArrow",fz=y.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,s=vf(n),a=Lo(Ym,n),l=$o(Ym,n);return a.open&&l.position==="popper"?f.jsx(Y_,{...s,...o,ref:t}):null});fz.displayName=Ym;var hz="SelectBubbleInput",jk=y.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const s=y.useRef(null),a=Ve(o,s),l=d_(t);return y.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[l,t]),f.jsx(De.select,{...n,style:{...Q_,...n.style},ref:a,defaultValue:t})});jk.displayName=hz;function Ik(e){return e===""||e===void 0}function Ak(e){const t=$t(e),n=y.useRef(""),o=y.useRef(0),s=y.useCallback(l=>{const u=n.current+l;t(u),(function d(h){n.current=h,window.clearTimeout(o.current),h!==""&&(o.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),a=y.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,s,a]}function Mk(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=pz(e,Math.max(a,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function pz(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var mz=ak,Dk=ck,gz=dk,yz=fk,vz=hk,Ok=pk,xz=vk,Lk=bk,$k=Ck,wz=_k,bz=Ek,Fk=Nk,zk=Pk,Hk=Rk;const Sz=mz,Cz=gz,Bk=y.forwardRef(({className:e,children:t,...n},o)=>f.jsxs(Dk,{ref:o,className:Ae("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,f.jsx(yz,{asChild:!0,children:f.jsx(Ld,{className:"h-4 w-4 opacity-50"})})]}));Bk.displayName=Dk.displayName;const Wk=y.forwardRef(({className:e,...t},n)=>f.jsx(Fk,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(C1,{className:"h-4 w-4"})}));Wk.displayName=Fk.displayName;const Vk=y.forwardRef(({className:e,...t},n)=>f.jsx(zk,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(Ld,{className:"h-4 w-4"})}));Vk.displayName=zk.displayName;const Uk=y.forwardRef(({className:e,children:t,position:n="popper",...o},s)=>f.jsx(vz,{children:f.jsxs(Ok,{ref:s,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[f.jsx(Wk,{}),f.jsx(xz,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(Vk,{})]})}));Uk.displayName=Ok.displayName;const _z=y.forwardRef(({className:e,...t},n)=>f.jsx(Lk,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",e),...t}));_z.displayName=Lk.displayName;const qk=y.forwardRef(({className:e,children:t,...n},o)=>f.jsxs($k,{ref:o,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[f.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(bz,{children:f.jsx(xg,{className:"h-4 w-4"})})}),f.jsx(wz,{children:t})]}));qk.displayName=$k.displayName;const kz=y.forwardRef(({className:e,...t},n)=>f.jsx(Hk,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));kz.displayName=Hk.displayName;var Ez=Symbol("radix.slottable");function Nz(e){const t=({children:n})=>f.jsx(f.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ez,t}var[xf]=fr("Tooltip",[hf]),wf=hf(),Kk="TooltipProvider",Pz=700,Qm="tooltip.open",[Tz,Sy]=xf(Kk),Gk=e=>{const{__scopeTooltip:t,delayDuration:n=Pz,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:a}=e,l=y.useRef(!0),u=y.useRef(!1),d=y.useRef(0);return y.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),f.jsx(Tz,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:y.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:a})};Gk.displayName=Kk;var Al="Tooltip",[Rz,tc]=xf(Al),Yk=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:s,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=e,d=Sy(Al,e.__scopeTooltip),h=wf(t),[m,g]=y.useState(null),v=ir(),w=y.useRef(0),b=l??d.disableHoverableContent,C=u??d.delayDuration,k=y.useRef(!1),[E,N]=Mo({prop:o,defaultProp:s??!1,onChange:R=>{R?(d.onOpen(),document.dispatchEvent(new CustomEvent(Qm))):d.onClose(),a==null||a(R)},caller:Al}),_=y.useMemo(()=>E?k.current?"delayed-open":"instant-open":"closed",[E]),P=y.useCallback(()=>{window.clearTimeout(w.current),w.current=0,k.current=!1,N(!0)},[N]),I=y.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N(!1)},[N]),A=y.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{k.current=!0,N(!0),w.current=0},C)},[C,N]);return y.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),f.jsx(q_,{...h,children:f.jsx(Rz,{scope:t,contentId:v,open:E,stateAttribute:_,trigger:m,onTriggerChange:g,onTriggerEnter:y.useCallback(()=>{d.isOpenDelayedRef.current?A():P()},[d.isOpenDelayedRef,A,P]),onTriggerLeave:y.useCallback(()=>{b?I():(window.clearTimeout(w.current),w.current=0)},[I,b]),onOpen:P,onClose:I,disableHoverableContent:b,children:n})})};Yk.displayName=Al;var Xm="TooltipTrigger",Qk=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,s=tc(Xm,n),a=Sy(Xm,n),l=wf(n),u=y.useRef(null),d=Ve(t,u,s.onTriggerChange),h=y.useRef(!1),m=y.useRef(!1),g=y.useCallback(()=>h.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),f.jsx(K_,{asChild:!0,...l,children:f.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:d,onPointerMove:Re(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Re(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Re(e.onBlur,s.onClose),onClick:Re(e.onClick,s.onClose)})})});Qk.displayName=Xm;var Cy="TooltipPortal",[jz,Iz]=xf(Cy,{forceMount:void 0}),Xk=e=>{const{__scopeTooltip:t,forceMount:n,children:o,container:s}=e,a=tc(Cy,t);return f.jsx(jz,{scope:t,forceMount:n,children:f.jsx(bn,{present:n||a.open,children:f.jsx(pf,{asChild:!0,container:s,children:o})})})};Xk.displayName=Cy;var Ji="TooltipContent",Jk=y.forwardRef((e,t)=>{const n=Iz(Ji,e.__scopeTooltip),{forceMount:o=n.forceMount,side:s="top",...a}=e,l=tc(Ji,e.__scopeTooltip);return f.jsx(bn,{present:o||l.open,children:l.disableHoverableContent?f.jsx(Zk,{side:s,...a,ref:t}):f.jsx(Az,{side:s,...a,ref:t})})}),Az=y.forwardRef((e,t)=>{const n=tc(Ji,e.__scopeTooltip),o=Sy(Ji,e.__scopeTooltip),s=y.useRef(null),a=Ve(t,s),[l,u]=y.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=o,v=y.useCallback(()=>{u(null),g(!1)},[g]),w=y.useCallback((b,C)=>{const k=b.currentTarget,E={x:b.clientX,y:b.clientY},N=$z(E,k.getBoundingClientRect()),_=Fz(E,N),P=zz(C.getBoundingClientRect()),I=Bz([..._,...P]);u(I),g(!0)},[g]);return y.useEffect(()=>()=>v(),[v]),y.useEffect(()=>{if(d&&m){const b=k=>w(k,m),C=k=>w(k,d);return d.addEventListener("pointerleave",b),m.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",C)}}},[d,m,w,v]),y.useEffect(()=>{if(l){const b=C=>{const k=C.target,E={x:C.clientX,y:C.clientY},N=(d==null?void 0:d.contains(k))||(m==null?void 0:m.contains(k)),_=!Hz(E,l);N?v():_&&(v(),h())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,m,l,h,v]),f.jsx(Zk,{...e,ref:a})}),[Mz,Dz]=xf(Al,{isInside:!1}),Oz=Nz("TooltipContent"),Zk=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,d=tc(Ji,n),h=wf(n),{onClose:m}=d;return y.useEffect(()=>(document.addEventListener(Qm,m),()=>document.removeEventListener(Qm,m)),[m]),y.useEffect(()=>{if(d.trigger){const g=v=>{const w=v.target;w!=null&&w.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),f.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:f.jsxs(G_,{"data-state":d.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Oz,{children:o}),f.jsx(Mz,{scope:n,isInside:!0,children:f.jsx(lF,{id:d.contentId,role:"tooltip",children:s||o})})]})})});Jk.displayName=Ji;var eE="TooltipArrow",Lz=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,s=wf(n);return Dz(eE,n).isInside?null:f.jsx(Y_,{...s,...o,ref:t})});Lz.displayName=eE;function $z(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,o,s,a)){case a:return"left";case s:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Fz(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function zz(e){const{top:t,right:n,bottom:o,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:o},{x:s,y:o}]}function Hz(e,t){const{x:n,y:o}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a],d=t[l],h=u.x,m=u.y,g=d.x,v=d.y;m>o!=v>o&&n<(g-h)*(o-m)/(v-m)+h&&(s=!s)}return s}function Bz(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),Wz(t)}function Wz(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const s=e[o];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Vz=Gk,Uz=Yk,qz=Qk,Kz=Xk,tE=Jk;const Jm=Vz,Zm=Uz,eg=qz,Id=y.forwardRef(({className:e,sideOffset:t=4,...n},o)=>f.jsx(Kz,{children:f.jsx(tE,{ref:o,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Id.displayName=tE.displayName;var Gz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yz=Gz.reduce((e,t)=>{const n=ty(`Primitive.${t}`),o=y.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(d,{...u,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),Qz="Separator",Nb="horizontal",Xz=["horizontal","vertical"],nE=y.forwardRef((e,t)=>{const{decorative:n,orientation:o=Nb,...s}=e,a=Jz(o)?o:Nb,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.jsx(Yz.div,{"data-orientation":a,...u,...s,ref:t})});nE.displayName=Qz;function Jz(e){return Xz.includes(e)}var rE=nE;const oE=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...o},s)=>f.jsx(rE,{ref:s,decorative:n,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));oE.displayName=rE.displayName;const Zz={Play:$i,Clock:jo,Webhook:Rg,Zap:Ls,Globe:_g,Timer:Pg,GitBranch:vs,GitMerge:Cg,Repeat:Eg,Filter:Sg,Shuffle:Ng,Layers:kg},e6={trigger:"#22c55e",action:"#3b82f6",logic:"#f59e0b",transform:"#8b5cf6",integration:"#ec4899"};function t6({className:e}){const t=qe(b=>b.editor.selectedNodeId),n=qe(b=>b.nodes),o=qe(b=>b.updateNodeConfig),s=qe(b=>b.updateNodeData),a=qe(b=>b.deleteNode),l=qe(b=>b.duplicateNode),u=qe(b=>b.clearSelection),d=y.useMemo(()=>t?n.find(b=>b.id===t)??null:null,[t,n]),h=y.useMemo(()=>d?Sd[d.data.nodeType]??null:null,[d]),m=y.useCallback((b,C)=>{t&&o(t,{[b]:C})},[t,o]),g=y.useCallback(b=>{t&&s(t,{label:b})},[t,s]);if(!d||!h)return f.jsxs("div",{className:Ae("flex flex-col h-full bg-background border-l",e),children:[f.jsx("div",{className:"p-4 border-b",children:f.jsx("h2",{className:"font-semibold",children:"Configuration"})}),f.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:f.jsxs("div",{className:"text-center text-muted-foreground",children:[f.jsx(k1,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),f.jsx("p",{className:"text-sm",children:"Select a node to configure its settings"})]})})]});const v=Zz[h.icon]||Ls,w=e6[d.data.category];return f.jsxs("div",{className:Ae("flex flex-col h-full bg-background border-l",e),children:[f.jsxs("div",{className:"p-4 border-b",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center",style:{backgroundColor:w},children:f.jsx(v,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-semibold text-sm",children:h.label}),f.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[d.data.category," node"]})]})]}),f.jsx(Xe,{variant:"ghost",size:"icon",onClick:u,className:"h-8 w-8",children:f.jsx(P1,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Jm,{children:f.jsxs(Zm,{children:[f.jsx(eg,{asChild:!0,children:f.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>t&&l(t),className:"flex-1",children:[f.jsx(bg,{className:"w-4 h-4 mr-1"}),"Duplicate"]})}),f.jsx(Id,{children:"Create a copy of this node"})]})}),f.jsx(Jm,{children:f.jsxs(Zm,{children:[f.jsx(eg,{asChild:!0,children:f.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>t&&a(t),className:"flex-1 text-destructive hover:text-destructive",children:[f.jsx(Tg,{className:"w-4 h-4 mr-1"}),"Delete"]})}),f.jsx(Id,{children:"Remove this node"})]})})]})]}),f.jsx(ay,{className:"flex-1",children:f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(sf,{htmlFor:"node-label",children:"Node Label"}),f.jsx(Or,{id:"node-label",value:d.data.label,onChange:b=>g(b.target.value),placeholder:"Enter node label"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Customize how this node appears in the workflow"})]}),f.jsx(oE,{}),h.configSchema.map(b=>f.jsx(n6,{field:b,value:d.data.config[b.key],onChange:C=>m(b.key,C)},b.key)),h.configSchema.length===0&&f.jsx("div",{className:"text-center py-4 text-muted-foreground",children:f.jsx("p",{className:"text-sm",children:"This node has no configuration options"})})]})}),f.jsx("div",{className:"p-3 border-t text-xs text-muted-foreground bg-muted/30",children:f.jsxs("p",{children:["Node ID: ",t]})})]})}function n6({field:e,value:t,onChange:n}){const o=()=>{var s,a,l;switch(e.type){case"text":return f.jsx(Or,{value:t??e.defaultValue??"",onChange:u=>n(u.target.value),placeholder:e.placeholder});case"textarea":return f.jsx(Rl,{value:t??e.defaultValue??"",onChange:u=>n(u.target.value),placeholder:e.placeholder,rows:3});case"number":return f.jsx(Or,{type:"number",value:t??e.defaultValue??"",onChange:u=>n(parseFloat(u.target.value)||0),placeholder:e.placeholder,min:(s=e.validation)==null?void 0:s.min,max:(a=e.validation)==null?void 0:a.max});case"select":return f.jsxs(Sz,{value:t??e.defaultValue??"",onValueChange:n,children:[f.jsx(Bk,{children:f.jsx(Cz,{placeholder:e.placeholder||"Select an option"})}),f.jsx(Uk,{children:(l=e.options)==null?void 0:l.map(u=>f.jsx(qk,{value:u.value,children:u.label},u.value))})]});case"boolean":return f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(x_,{checked:t??e.defaultValue??!1,onCheckedChange:n}),f.jsx("span",{className:"text-sm text-muted-foreground",children:t?"Enabled":"Disabled"})]});case"json":return f.jsx(Rl,{value:typeof t=="object"?JSON.stringify(t,null,2):t??"",onChange:u=>{try{n(JSON.parse(u.target.value))}catch{n(u.target.value)}},placeholder:e.placeholder,rows:4,className:"font-mono text-sm"});case"cron":return f.jsxs("div",{className:"space-y-2",children:[f.jsx(Or,{value:t??e.defaultValue??"",onChange:u=>n(u.target.value),placeholder:e.placeholder||"* * * * *",className:"font-mono"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: minute hour day month weekday"})]});case"duration":return f.jsx(Or,{value:t??e.defaultValue??"",onChange:u=>n(u.target.value),placeholder:e.placeholder||"e.g., 5m, 1h, 30s"});default:return f.jsx(Or,{value:t??"",onChange:u=>n(u.target.value),placeholder:e.placeholder})}};return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs(sf,{htmlFor:e.key,children:[e.label,e.required&&f.jsx("span",{className:"text-destructive ml-0.5",children:"*"})]}),e.description&&f.jsx(Jm,{children:f.jsxs(Zm,{children:[f.jsx(eg,{children:f.jsx(k1,{className:"w-3.5 h-3.5 text-muted-foreground"})}),f.jsx(Id,{side:"top",className:"max-w-[200px]",children:e.description})]})})]}),o()]})}function r6(e){const t=o6(e),n=y.forwardRef((o,s)=>{const{children:a,...l}=o,u=y.Children.toArray(a),d=u.find(i6);if(d){const h=d.props.children,m=u.map(g=>g===d?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return f.jsx(t,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,m):null})}return f.jsx(t,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function o6(e){const t=y.forwardRef((n,o)=>{const{children:s,...a}=n;if(y.isValidElement(s)){const l=l6(s),u=a6(a,s.props);return s.type!==y.Fragment&&(u.ref=o?sa(o,l):l),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s6=Symbol("radix.slottable");function i6(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s6}function a6(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function l6(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bf="Dialog",[sE]=fr(bf),[c6,Un]=sE(bf),iE=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,u=y.useRef(null),d=y.useRef(null),[h,m]=Mo({prop:o,defaultProp:s??!1,onChange:a,caller:bf});return f.jsx(c6,{scope:t,triggerRef:u,contentRef:d,contentId:ir(),titleId:ir(),descriptionId:ir(),open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};iE.displayName=bf;var aE="DialogTrigger",lE=y.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Un(aE,n),a=Ve(t,s.triggerRef);return f.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ey(s.open),...o,ref:a,onClick:Re(e.onClick,s.onOpenToggle)})});lE.displayName=aE;var _y="DialogPortal",[u6,cE]=sE(_y,{forceMount:void 0}),uE=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:s}=e,a=Un(_y,t);return f.jsx(u6,{scope:t,forceMount:n,children:y.Children.map(o,l=>f.jsx(bn,{present:n||a.open,children:f.jsx(pf,{asChild:!0,container:s,children:l})}))})};uE.displayName=_y;var Ad="DialogOverlay",dE=y.forwardRef((e,t)=>{const n=cE(Ad,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,a=Un(Ad,e.__scopeDialog);return a.modal?f.jsx(bn,{present:o||a.open,children:f.jsx(f6,{...s,ref:t})}):null});dE.displayName=Ad;var d6=r6("DialogOverlay.RemoveScroll"),f6=y.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Un(Ad,n);return f.jsx(wy,{as:d6,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(De.div,{"data-state":Ey(s.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),As="DialogContent",fE=y.forwardRef((e,t)=>{const n=cE(As,e.__scopeDialog),{forceMount:o=n.forceMount,...s}=e,a=Un(As,e.__scopeDialog);return f.jsx(bn,{present:o||a.open,children:a.modal?f.jsx(h6,{...s,ref:t}):f.jsx(p6,{...s,ref:t})})});fE.displayName=As;var h6=y.forwardRef((e,t)=>{const n=Un(As,e.__scopeDialog),o=y.useRef(null),s=Ve(t,n.contentRef,o);return y.useEffect(()=>{const a=o.current;if(a)return Z_(a)},[]),f.jsx(hE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,a=>a.preventDefault())})}),p6=y.forwardRef((e,t)=>{const n=Un(As,e.__scopeDialog),o=y.useRef(!1),s=y.useRef(!1);return f.jsx(hE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(o.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:a=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),hE=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=e,u=Un(As,n),d=y.useRef(null),h=Ve(t,d);return C_(),f.jsxs(f.Fragment,{children:[f.jsx(dy,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:a,children:f.jsx(lf,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ey(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(m6,{titleId:u.titleId}),f.jsx(y6,{contentRef:d,descriptionId:u.descriptionId})]})]})}),ky="DialogTitle",pE=y.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Un(ky,n);return f.jsx(De.h2,{id:s.titleId,...o,ref:t})});pE.displayName=ky;var mE="DialogDescription",gE=y.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Un(mE,n);return f.jsx(De.p,{id:s.descriptionId,...o,ref:t})});gE.displayName=mE;var yE="DialogClose",vE=y.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,s=Un(yE,n);return f.jsx(De.button,{type:"button",...o,ref:t,onClick:Re(e.onClick,()=>s.onOpenChange(!1))})});vE.displayName=yE;function Ey(e){return e?"open":"closed"}var xE="DialogTitleWarning",[L8,wE]=jL(xE,{contentName:As,titleName:ky,docsSlug:"dialog"}),m6=({titleId:e})=>{const t=wE(xE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},g6="DialogDescriptionWarning",y6=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wE(g6).contentName}}.`;return y.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},v6=iE,x6=lE,w6=uE,bE=dE,SE=fE,CE=pE,_E=gE,b6=vE;const Ny=v6,S6=x6,C6=w6,kE=y.forwardRef(({className:e,...t},n)=>f.jsx(bE,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kE.displayName=bE.displayName;const Sf=y.forwardRef(({className:e,children:t,...n},o)=>f.jsxs(C6,{children:[f.jsx(kE,{}),f.jsxs(SE,{ref:o,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(b6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(P1,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sf.displayName=SE.displayName;const Py=({className:e,...t})=>f.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Py.displayName="DialogHeader";const Ty=({className:e,...t})=>f.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ty.displayName="DialogFooter";const Ry=y.forwardRef(({className:e,...t},n)=>f.jsx(CE,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Ry.displayName=CE.displayName;const jy=y.forwardRef(({className:e,...t},n)=>f.jsx(_E,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));jy.displayName=_E.displayName;const _6=ny("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tg=y.forwardRef(({className:e,variant:t,...n},o)=>f.jsx("div",{ref:o,role:"alert",className:Ae(_6({variant:t}),e),...n}));tg.displayName="Alert";const ng=y.forwardRef(({className:e,...t},n)=>f.jsx("h5",{ref:n,className:Ae("mb-1 font-medium leading-none tracking-tight",e),...t}));ng.displayName="AlertTitle";const rg=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ae("text-sm [&_p]:leading-relaxed",e),...t}));rg.displayName="AlertDescription";function k6({className:e,onSave:t}){const[n,o]=y.useState(!0),[s,a]=y.useState(!0),[l,u]=y.useState(!1),[d,h]=y.useState(""),[m,g]=y.useState(null),v=qe(R=>R.workflowName),w=qe(R=>R.setWorkflowName),b=qe(R=>R.editor),C=qe(R=>R.exportWorkflow),k=qe(R=>R.loadWorkflow),E=qe(R=>R.validateWorkflow);y.useEffect(()=>{E()},[E]);const N=y.useCallback(()=>{if(E().some(K=>K.severity==="error"))return;const H=C();t==null||t(H)},[E,C,t]),_=y.useCallback(()=>{const R=C(),O=JSON.stringify(R,null,2),H=new Blob([O],{type:"application/json"}),K=URL.createObjectURL(H),M=document.createElement("a");M.href=K,M.download=`${R.name.toLowerCase().replace(/\s+/g,"-")}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(K)},[C]),P=y.useCallback(()=>{try{g(null);const R=JSON.parse(d);if(!Array.isArray(R.nodes)||!Array.isArray(R.edges))throw new Error("Invalid workflow format: missing nodes or edges");k(R.nodes,R.edges,R.name,R.description),u(!1),h("")}catch(R){g(R instanceof Error?R.message:"Invalid JSON format")}},[d,k]),I=b.validationErrors.filter(R=>R.severity==="error").length,A=b.validationErrors.filter(R=>R.severity==="warning").length;return f.jsx(gC,{children:f.jsxs("div",{className:Ae("flex flex-col h-full",e),children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-background",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>o(!n),title:n?"Hide node palette":"Show node palette",children:n?f.jsx(iR,{className:"w-4 h-4"}):f.jsx(aR,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Or,{value:v,onChange:R=>w(R.target.value),className:"w-64 h-8 font-medium",placeholder:"Workflow name"}),b.isDirty&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"(unsaved)"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex items-center gap-2 mr-4",children:I>0?f.jsxs("div",{className:"flex items-center gap-1 text-destructive",children:[f.jsx(cl,{className:"w-4 h-4"}),f.jsxs("span",{className:"text-sm",children:[I," error",I>1?"s":""]})]}):A>0?f.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[f.jsx(mm,{className:"w-4 h-4"}),f.jsxs("span",{className:"text-sm",children:[A," warning",A>1?"s":""]})]}):f.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[f.jsx(_1,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Valid"})]})}),f.jsxs(Ny,{open:l,onOpenChange:u,children:[f.jsx(S6,{asChild:!0,children:f.jsxs(Xe,{variant:"outline",size:"sm",children:[f.jsx(yR,{className:"w-4 h-4 mr-1"}),"Import"]})}),f.jsxs(Sf,{children:[f.jsxs(Py,{children:[f.jsx(Ry,{children:"Import Workflow"}),f.jsx(jy,{children:"Paste the workflow JSON to import an existing workflow"})]}),f.jsxs("div",{className:"py-4",children:[f.jsx(Rl,{value:d,onChange:R=>h(R.target.value),placeholder:'{"nodes": [], "edges": [], "name": "My Workflow"}',rows:10,className:"font-mono text-sm"}),m&&f.jsxs(tg,{variant:"destructive",className:"mt-4",children:[f.jsx(cl,{className:"w-4 h-4"}),f.jsx(ng,{children:"Import Error"}),f.jsx(rg,{children:m})]})]}),f.jsxs(Ty,{children:[f.jsx(Xe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),f.jsx(Xe,{onClick:P,children:"Import"})]})]})]}),f.jsxs(Xe,{variant:"outline",size:"sm",onClick:_,children:[f.jsx(XT,{className:"w-4 h-4 mr-1"}),"Export"]}),f.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>a(!s),title:s?"Hide config panel":"Show config panel",children:s?f.jsx(lR,{className:"w-4 h-4"}):f.jsx(cR,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n&&f.jsx(s5,{className:"w-64 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(xL,{onSave:N}),b.validationErrors.length>0&&f.jsx("div",{className:"absolute bottom-4 left-4 max-w-sm",children:f.jsxs(tg,{variant:I>0?"destructive":"default",children:[I>0?f.jsx(cl,{className:"w-4 h-4"}):f.jsx(mm,{className:"w-4 h-4"}),f.jsx(ng,{children:I>0?"Validation Errors":"Warnings"}),f.jsx(rg,{children:f.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[b.validationErrors.slice(0,3).map((R,O)=>f.jsxs("li",{className:"flex items-start gap-1",children:[f.jsx("span",{className:Ae("w-1.5 h-1.5 rounded-full mt-1.5 flex-shrink-0",R.severity==="error"?"bg-destructive":"bg-amber-500")}),R.message]},O)),b.validationErrors.length>3&&f.jsxs("li",{className:"text-muted-foreground",children:["+",b.validationErrors.length-3," more..."]})]})})]})})]}),s&&f.jsx(t6,{className:"w-80 flex-shrink-0"})]})]})})}var Xp="rovingFocusGroup.onEntryFocus",E6={bubbles:!1,cancelable:!0},nc="RovingFocusGroup",[og,EE,N6]=w_(nc),[P6,NE]=fr(nc,[N6]),[T6,R6]=P6(nc),PE=y.forwardRef((e,t)=>f.jsx(og.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(og.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(j6,{...e,ref:t})})}));PE.displayName=nc;var j6=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,v=y.useRef(null),w=Ve(t,v),b=tf(a),[C,k]=Mo({prop:l,defaultProp:u??null,onChange:d,caller:nc}),[E,N]=y.useState(!1),_=$t(h),P=EE(n),I=y.useRef(!1),[A,R]=y.useState(0);return y.useEffect(()=>{const O=v.current;if(O)return O.addEventListener(Xp,_),()=>O.removeEventListener(Xp,_)},[_]),f.jsx(T6,{scope:n,orientation:o,dir:b,loop:s,currentTabStopId:C,onItemFocus:y.useCallback(O=>k(O),[k]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:y.useCallback(()=>R(O=>O-1),[]),children:f.jsx(De.div,{tabIndex:E||A===0?-1:0,"data-orientation":o,...g,ref:w,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{I.current=!0}),onFocus:Re(e.onFocus,O=>{const H=!I.current;if(O.target===O.currentTarget&&H&&!E){const K=new CustomEvent(Xp,E6);if(O.currentTarget.dispatchEvent(K),!K.defaultPrevented){const M=P().filter(z=>z.focusable),U=M.find(z=>z.active),J=M.find(z=>z.id===C),Q=[U,J,...M].filter(Boolean).map(z=>z.ref.current);jE(Q,m)}}I.current=!1}),onBlur:Re(e.onBlur,()=>N(!1))})})}),TE="RovingFocusGroupItem",RE=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:a,children:l,...u}=e,d=ir(),h=a||d,m=R6(TE,n),g=m.currentTabStopId===h,v=EE(n),{onFocusableItemAdd:w,onFocusableItemRemove:b,currentTabStopId:C}=m;return y.useEffect(()=>{if(o)return w(),()=>b()},[o,w,b]),f.jsx(og.ItemSlot,{scope:n,id:h,focusable:o,active:s,children:f.jsx(De.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Re(e.onMouseDown,k=>{o?m.onItemFocus(h):k.preventDefault()}),onFocus:Re(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Re(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){m.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const E=M6(k,m.orientation,m.dir);if(E!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let _=v().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")_.reverse();else if(E==="prev"||E==="next"){E==="prev"&&_.reverse();const P=_.indexOf(k.currentTarget);_=m.loop?D6(_,P+1):_.slice(P+1)}setTimeout(()=>jE(_))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:C!=null}):l})})});RE.displayName=TE;var I6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M6(e,t,n){const o=A6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return I6[o]}function jE(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function D6(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var O6=PE,L6=RE,Cf="Tabs",[$6]=fr(Cf,[NE]),IE=NE(),[F6,Iy]=$6(Cf),AE=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:d="automatic",...h}=e,m=tf(u),[g,v]=Mo({prop:o,onChange:s,defaultProp:a??"",caller:Cf});return f.jsx(F6,{scope:n,baseId:ir(),value:g,onValueChange:v,orientation:l,dir:m,activationMode:d,children:f.jsx(De.div,{dir:m,"data-orientation":l,...h,ref:t})})});AE.displayName=Cf;var ME="TabsList",DE=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...s}=e,a=Iy(ME,n),l=IE(n);return f.jsx(O6,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:o,children:f.jsx(De.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});DE.displayName=ME;var OE="TabsTrigger",LE=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:s=!1,...a}=e,l=Iy(OE,n),u=IE(n),d=zE(l.baseId,o),h=HE(l.baseId,o),m=o===l.value;return f.jsx(L6,{asChild:!0,...u,focusable:!s,active:m,children:f.jsx(De.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...a,ref:t,onMouseDown:Re(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(o):g.preventDefault()}),onKeyDown:Re(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(o)}),onFocus:Re(e.onFocus,()=>{const g=l.activationMode!=="manual";!m&&!s&&g&&l.onValueChange(o)})})})});LE.displayName=OE;var $E="TabsContent",FE=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:s,children:a,...l}=e,u=Iy($E,n),d=zE(u.baseId,o),h=HE(u.baseId,o),m=o===u.value,g=y.useRef(m);return y.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),f.jsx(bn,{present:s||m,children:({present:v})=>f.jsx(De.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&a})})});FE.displayName=$E;function zE(e,t){return`${e}-trigger-${t}`}function HE(e,t){return`${e}-content-${t}`}var z6=AE,BE=DE,WE=LE,VE=FE;const H6=z6,UE=y.forwardRef(({className:e,...t},n)=>f.jsx(BE,{ref:n,className:Ae("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));UE.displayName=BE.displayName;const sg=y.forwardRef(({className:e,...t},n)=>f.jsx(WE,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));sg.displayName=WE.displayName;const ig=y.forwardRef(({className:e,...t},n)=>f.jsx(VE,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ig.displayName=VE.displayName;function B6({status:e}){const t={Running:{class:"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400",icon:jo},Completed:{class:"bg-green-500/20 text-green-600 dark:text-green-400",icon:ad},Failed:{class:"bg-red-500/20 text-red-600 dark:text-red-400",icon:ml},Paused:{class:"bg-blue-500/20 text-blue-600 dark:text-blue-400",icon:jo},Cancelled:{class:"bg-slate-500/20 text-slate-600 dark:text-slate-400",icon:ml}},{class:n,icon:o}=t[e]||t.Running;return f.jsxs("span",{className:`status-badge flex items-center gap-1 ${n}`,children:[f.jsx(o,{className:"w-3 h-3"}),e]})}function W6({isOpen:e,onClose:t,workflow:n}){const[o,s]=y.useState("{}"),a=wn(),l=Ds({mutationFn:h=>ER(h.workflowId,h.input),onSuccess:()=>{a.invalidateQueries({queryKey:["workflow-instances"]}),d()}}),u=()=>{if(!n)return;let h;try{const m=JSON.parse(o);Object.keys(m).length>0&&(h=m)}catch{alert("Invalid JSON input");return}l.mutate({workflowId:n.id,input:h})},d=()=>{s("{}"),t()};return n?f.jsx(Ny,{open:e,onOpenChange:h=>!h&&d(),children:f.jsxs(Sf,{children:[f.jsxs(Py,{children:[f.jsx(Ry,{children:"Start Workflow"}),f.jsxs(jy,{children:['Run "',n.name,'"']})]}),f.jsx("div",{className:"space-y-4 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(sf,{htmlFor:"input-vars",children:"Input Variables (JSON)"}),f.jsx(Rl,{id:"input-vars",className:"font-mono text-sm h-32",placeholder:'{"key": "value"}',value:o,onChange:h=>s(h.target.value)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional initial variables for the workflow"})]})}),f.jsxs(Ty,{children:[f.jsx(Xe,{variant:"outline",onClick:d,children:"Cancel"}),f.jsxs(Xe,{onClick:u,disabled:l.isPending,children:[f.jsx($i,{className:"w-4 h-4 mr-2"}),l.isPending?"Starting...":"Start"]})]})]})}):null}function V6({isOpen:e,onClose:t}){const n=wn(),o=qe(u=>u.clearWorkflow),s=Ds({mutationFn:NR,onSuccess:()=>{n.invalidateQueries({queryKey:["workflows"]}),l()}}),a=y.useCallback(u=>{const d=u.nodes.filter(h=>h.data.nodeType!=="trigger-manual"&&h.data.nodeType!=="trigger-schedule"&&h.data.nodeType!=="trigger-webhook").map(h=>({id:h.id,type:h.data.nodeType.replace("action-","").replace("logic-","").replace("transform-",""),name:h.data.label,config:h.data.config}));s.mutate({name:u.name,description:u.description||void 0,version:"1.0.0",steps:d})},[s]),l=()=>{o(),t()};return f.jsx(Ny,{open:e,onOpenChange:u=>!u&&l(),children:f.jsx(Sf,{className:"max-w-[95vw] h-[90vh] p-0",children:f.jsx(k6,{onSave:a,className:"h-full"})})})}function Pb(){const[e,t]=y.useState(!1),[n,o]=y.useState(!1),[s,a]=y.useState(null),[l,u]=y.useState(null),[d,h]=y.useState("list"),m=wn(),{data:g=[],isLoading:v}=ks({queryKey:["workflows"],queryFn:_R}),{data:w=[],isLoading:b}=ks({queryKey:["workflow-instances"],queryFn:()=>kR()}),C=v||b,k=N=>{a(N),o(!0)},E=N=>{a(N),t(!0)};return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Workflows"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Orchestrate complex multi-step processes with visual workflow builder"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[f.jsx(Xe,{variant:d==="list"?"secondary":"ghost",size:"sm",onClick:()=>h("list"),className:"rounded-none",children:f.jsx(nR,{className:"w-4 h-4"})}),f.jsx(Xe,{variant:d==="grid"?"secondary":"ghost",size:"sm",onClick:()=>h("grid"),className:"rounded-none",children:f.jsx(tR,{className:"w-4 h-4"})})]}),f.jsxs(Xe,{variant:"outline",onClick:()=>{m.invalidateQueries({queryKey:["workflows"]}),m.invalidateQueries({queryKey:["workflow-instances"]})},children:[f.jsx(Io,{className:"w-4 h-4 mr-2"}),"Refresh"]}),f.jsxs(Xe,{onClick:()=>t(!0),children:[f.jsx(gl,{className:"w-4 h-4 mr-2"}),"Create Workflow"]})]})]}),f.jsxs(H6,{defaultValue:"definitions",className:"space-y-4",children:[f.jsxs(UE,{children:[f.jsx(sg,{value:"definitions",children:"Workflow Definitions"}),f.jsx(sg,{value:"executions",children:"Recent Executions"})]}),f.jsx(ig,{value:"definitions",children:f.jsx("div",{className:"card",children:C?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Io,{className:"w-8 h-8 text-slate-400 animate-spin mx-auto mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading workflows..."})]}):g.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(vs,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No workflows defined"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Create your first workflow using the visual workflow builder"}),f.jsxs(Xe,{onClick:()=>t(!0),children:[f.jsx(gl,{className:"w-4 h-4 mr-2"}),"Create Workflow"]})]}):d==="list"?f.jsx("div",{className:"space-y-4",children:g.map(N=>f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"p-2 bg-orbit-100 dark:bg-orbit-600/20 rounded-lg",children:f.jsx(vs,{className:"w-5 h-5 text-orbit-600 dark:text-orbit-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-900 dark:text-white font-medium",children:N.name}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:N.description||"No description"}),f.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Version: ",N.version]}),f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Steps: ",N.steps.length]}),f.jsx("span",{className:`text-xs ${N.isActive?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-500"}`,children:N.isActive?"Active":"Inactive"})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>u(l===N.id?null:N.id),children:[l===N.id?f.jsx(C1,{className:"w-4 h-4 mr-1"}):f.jsx(Ld,{className:"w-4 h-4 mr-1"}),"Steps"]}),f.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>E(N),children:[f.jsx(jx,{className:"w-4 h-4 mr-1"}),"Edit"]}),f.jsxs(Xe,{size:"sm",onClick:()=>k(N),children:[f.jsx($i,{className:"w-4 h-4 mr-1"}),"Run"]})]})]}),l===N.id&&f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Workflow Steps"}),f.jsx("div",{className:"space-y-2",children:N.steps.map((_,P)=>f.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-slate-800 rounded border border-slate-200 dark:border-slate-600",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-orbit-600 text-white text-xs flex items-center justify-center",children:P+1}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:_.name||_.id}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:_.type})]})]},_.id))})]})]},N.id))}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-orbit-500 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"p-2 bg-orbit-100 dark:bg-orbit-600/20 rounded-lg",children:f.jsx(vs,{className:"w-5 h-5 text-orbit-600 dark:text-orbit-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-900 dark:text-white font-medium",children:N.name}),f.jsx("span",{className:`text-xs ${N.isActive?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-500"}`,children:N.isActive?"Active":"Inactive"})]})]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-3 line-clamp-2",children:N.description||"No description"}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-3",children:[f.jsxs("span",{children:["v",N.version]}),f.jsxs("span",{children:[N.steps.length," steps"]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Xe,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>E(N),children:[f.jsx(jx,{className:"w-4 h-4 mr-1"}),"Edit"]}),f.jsxs(Xe,{size:"sm",className:"flex-1",onClick:()=>k(N),children:[f.jsx($i,{className:"w-4 h-4 mr-1"}),"Run"]})]})]},N.id))})})}),f.jsx(ig,{value:"executions",children:f.jsx("div",{className:"card",children:w.length===0?f.jsx("p",{className:"text-slate-500 dark:text-slate-500 text-center py-8",children:"No workflow executions yet"}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-header",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Instance ID"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Workflow"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Status"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Started"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Completed"})]})}),f.jsx("tbody",{children:w.map(N=>f.jsxs("tr",{className:"table-row",children:[f.jsx("td",{className:"py-3 px-4",children:f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:[N.id.substring(0,8),"..."]})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-slate-900 dark:text-white",children:N.workflowId})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(B6,{status:N.status})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(N.startedAt).toLocaleString()})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.completedAt?new Date(N.completedAt).toLocaleString():"-"})})]},N.id))})]})})})})]}),f.jsx(V6,{isOpen:e,onClose:()=>{t(!1),a(null)},workflow:s}),f.jsx(W6,{isOpen:n,onClose:()=>{o(!1),a(null)},workflow:s})]})}function U6({token:e,onRevoke:t}){return f.jsxs("tr",{className:"table-row",children:[f.jsx("td",{className:"py-3 px-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(E1,{className:"w-4 h-4 text-slate-400"}),f.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:e.name})]})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:e.scopes.map(n=>f.jsx("span",{className:"px-2 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs text-slate-700 dark:text-slate-300",children:n},n))})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(e.createdAt).toLocaleDateString()})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.lastUsedAt?new Date(e.lastUsedAt).toLocaleDateString():"Never"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.expiresAt?new Date(e.expiresAt).toLocaleDateString():"Never"})}),f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsx("button",{onClick:t,className:"text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300 p-1",title:"Revoke token",children:f.jsx(Tg,{className:"w-4 h-4"})})})]})}function q6({isOpen:e,onClose:t}){const[n,o]=y.useState(""),[s,a]=y.useState(["agent:connect"]),[l,u]=y.useState(""),[d,h]=y.useState(null),[m,g]=y.useState(!1),v=wn(),w=Ds({mutationFn:j1,onSuccess:_=>{v.invalidateQueries({queryKey:["tokens"]}),_.token&&h(_.token)}}),b=[{id:"agent:connect",label:"Agent Connect",description:"Allow agent connections"},{id:"api:read",label:"API Read",description:"Read API access"},{id:"api:write",label:"API Write",description:"Write API access"},{id:"admin",label:"Admin",description:"Full administrative access"}],C=_=>{a(P=>P.includes(_)?P.filter(I=>I!==_):[...P,_])},k=()=>{w.mutate({name:n,scopes:s,expiresInDays:l?parseInt(l):void 0})},E=async()=>{d&&(await navigator.clipboard.writeText(d),g(!0),setTimeout(()=>g(!1),2e3))},N=()=>{o(""),a(["agent:connect"]),u(""),h(null),g(!1),t()};return e?f.jsx("div",{className:"modal-backdrop",children:f.jsxs("div",{className:"modal-content w-full max-w-md",children:[f.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create API Token"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Create a new token for API or agent access"})]}),f.jsx("div",{className:"p-6 space-y-4",children:d?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-500/10 border border-yellow-200 dark:border-yellow-500/20 rounded-lg p-4",children:f.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm",children:" Copy this token now. It will not be shown again."})}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",readOnly:!0,value:d,className:"input w-full pr-12 font-mono text-sm"}),f.jsx("button",{onClick:E,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1",children:m?f.jsx(xg,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):f.jsx(bg,{className:"w-5 h-5 text-slate-400"})})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Token Name *"}),f.jsx("input",{type:"text",className:"input w-full",placeholder:"my-token",value:n,onChange:_=>o(_.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Scopes"}),f.jsx("div",{className:"space-y-2",children:b.map(_=>f.jsxs("label",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-900 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50",children:[f.jsx("input",{type:"checkbox",checked:s.includes(_.id),onChange:()=>C(_.id),className:"mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium",children:_.label}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:_.description})]})]},_.id))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Expires In (days, optional)"}),f.jsx("input",{type:"number",className:"input w-32",placeholder:"Never",value:l,onChange:_=>u(_.target.value)})]})]})}),f.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[f.jsx("button",{onClick:N,className:"btn-secondary",children:d?"Done":"Cancel"}),!d&&f.jsx("button",{onClick:k,disabled:!n.trim()||s.length===0||w.isPending,className:"btn-primary",children:w.isPending?"Creating...":"Create Token"})]})]})}):null}function K6(){const[e,t]=y.useState(!1),n=wn(),{data:o=[],isLoading:s}=ks({queryKey:["tokens"],queryFn:PR}),a=Ds({mutationFn:TR,onSuccess:()=>{n.invalidateQueries({queryKey:["tokens"]})}});return f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Settings"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Configure your OrbitMesh server"})]}),f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(Fi,{className:"w-5 h-5 text-orbit-600 dark:text-orbit-400"}),f.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Server Information"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Server URL"}),f.jsx("p",{className:"text-slate-900 dark:text-white font-mono text-sm mt-1",children:typeof window<"u"?window.location.origin:"http://localhost:5000"})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Agent Hub Endpoint"}),f.jsx("p",{className:"text-slate-900 dark:text-white font-mono text-sm mt-1",children:"/agent"})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(hR,{className:"w-5 h-5 text-orbit-600 dark:text-orbit-400"}),f.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"API Tokens"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>n.invalidateQueries({queryKey:["tokens"]}),className:"btn-secondary text-sm flex items-center gap-1",children:f.jsx(Io,{className:"w-4 h-4"})}),f.jsxs("button",{onClick:()=>t(!0),className:"btn-primary text-sm flex items-center gap-1",children:[f.jsx(gl,{className:"w-4 h-4"}),"Create Token"]})]})]}),s?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Io,{className:"w-8 h-8 text-slate-400 animate-spin mx-auto mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading tokens..."})]}):o.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(E1,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No API tokens"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Create tokens to allow agents or applications to connect"}),f.jsx("button",{onClick:()=>t(!0),className:"btn-primary",children:"Create Token"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"table-header",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Name"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Scopes"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Created"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Last Used"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Expires"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Actions"})]})}),f.jsx("tbody",{children:o.map(l=>f.jsx(U6,{token:l,onRevoke:()=>a.mutate(l.id)},l.id))})]})})]}),f.jsx(q6,{isOpen:e,onClose:()=>t(!1)})]})}class bs extends Error{constructor(t,n){const o=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=o}}class Ay extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class $n extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class G6 extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=o}}class Y6 extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=o}}class Q6 extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=o}}class Tb extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class X6 extends Error{constructor(t,n){const o=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=o}}class qE{constructor(t,n,o){this.statusCode=t,this.statusText=n,this.content=o}}class _f{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var se;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(se||(se={}));class Ml{constructor(){}log(t,n){}}Ml.instance=new Ml;const J6="9.0.6";class ht{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,o){if(!(t in n))throw new Error(`Unknown ${o} value: ${t}.`)}}class at{static get isBrowser(){return!at.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!at.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!at.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Dl(e,t){let n="";return Ms(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${Z6(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Z6(e){const t=new Uint8Array(e);let n="";return t.forEach(o=>{const s=o<16?"0":"";n+=`0x${s}${o.toString(16)} `}),n.substr(0,n.length-1)}function Ms(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function KE(e,t,n,o,s,a){const l={},[u,d]=Zi();l[u]=d,e.log(se.Trace,`(${t} transport) sending data. ${Dl(s,a.logMessageContent)}.`);const h=Ms(s)?"arraybuffer":"text",m=await n.post(o,{content:s,headers:{...l,...a.headers},responseType:h,timeout:a.timeout,withCredentials:a.withCredentials});e.log(se.Trace,`(${t} transport) request complete. Response status: ${m.statusCode}.`)}function e8(e){return e===void 0?new Md(se.Information):e===null?Ml.instance:e.log!==void 0?e:new Md(e)}class t8{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Md{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const o=`[${new Date().toISOString()}] ${se[t]}: ${n}`;switch(t){case se.Critical:case se.Error:this.out.error(o);break;case se.Warning:this.out.warn(o);break;case se.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function Zi(){let e="X-SignalR-User-Agent";return at.isNode&&(e="User-Agent"),[e,n8(J6,r8(),s8(),o8())]}function n8(e,t,n,o){let s="Microsoft SignalR/";const a=e.split(".");return s+=`${a[0]}.${a[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${n}`,o?s+=`; ${o}`:s+="; Unknown Runtime Version",s+=")",s}function r8(){if(at.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function o8(){if(at.isNode)return process.versions.node}function s8(){return at.isNode?"NodeJS":"Browser"}function Jp(e){return e.stack?e.stack:e.message?e.message:`${e}`}function i8(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class a8 extends _f{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||at.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(i8());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new $n;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let o;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),o=new $n});let s=null;if(t.timeout){const d=t.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(se.Warning,"Timeout from HTTP request."),o=new Ay},d)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Ms(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let a;try{a=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(d){throw o||(this._logger.log(se.Warning,`Error from HTTP request. ${d}.`),d)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!a.ok){const d=await Rb(a,"text");throw new bs(d||a.statusText,a.status)}const u=await Rb(a,t.responseType);return new qE(a.status,a.statusText,u)}getCookieString(t){let n="";return at.isNode&&this._jar&&this._jar.getCookies(t,(o,s)=>n=s.join("; ")),n}}function Rb(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class l8 extends _f{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new $n):t.method?t.url?new Promise((n,o)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Ms(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const a=t.headers;a&&Object.keys(a).forEach(l=>{s.setRequestHeader(l,a[l])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),o(new $n)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new qE(s.status,s.statusText,s.response||s.responseText)):o(new bs(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(se.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),o(new bs(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(se.Warning,"Timeout from HTTP request."),o(new Ay)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class c8 extends _f{constructor(t){if(super(),typeof fetch<"u"||at.isNode)this._httpClient=new a8(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new l8(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new $n):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class an{static write(t){return`${t}${an.RecordSeparator}`}static parse(t){if(t[t.length-1]!==an.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(an.RecordSeparator);return n.pop(),n}}an.RecordSeparatorCode=30;an.RecordSeparator=String.fromCharCode(an.RecordSeparatorCode);class u8{writeHandshakeRequest(t){return an.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,o;if(Ms(t)){const u=new Uint8Array(t),d=u.indexOf(an.RecordSeparatorCode);if(d===-1)throw new Error("Message is incomplete.");const h=d+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(u.slice(0,h))),o=u.byteLength>h?u.slice(h).buffer:null}else{const u=t,d=u.indexOf(an.RecordSeparator);if(d===-1)throw new Error("Message is incomplete.");const h=d+1;n=u.substring(0,h),o=u.length>h?u.substring(h):null}const s=an.parse(n),a=JSON.parse(s[0]);if(a.type)throw new Error("Expected a handshake response from the server.");return[o,a]}}var Me;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(Me||(Me={}));class d8{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new t8(this,t)}}class f8{constructor(t,n,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=o}async _send(t){const n=this._protocol.writeMessage(t);let o=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},a=()=>{};Ms(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((l,u)=>{s=l,a=u})),this._messages.push(new h8(n,this._totalMessageCount,s,a))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await o}_ack(t){let n=-1;for(let o=0;o<this._messages.length;o++){const s=this._messages[o];if(s._id<=t.sequenceId)n=o,Ms(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==Me.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Me.Sequence,sequenceId:t}));const n=this._messages;for(const o of n)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case Me.Invocation:case Me.StreamItem:case Me.Completion:case Me.StreamInvocation:case Me.CancelInvocation:return!0;case Me.Close:case Me.Sequence:case Me.Ping:case Me.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Me.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class h8{constructor(t,n,o,s){this._message=t,this._id=n,this._resolver=o,this._rejector=s}}const p8=30*1e3,m8=15*1e3,g8=1e5;var tt;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(tt||(tt={}));class My{static create(t,n,o,s,a,l,u){return new My(t,n,o,s,a,l,u)}constructor(t,n,o,s,a,l,u){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(se.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ht.isRequired(t,"connection"),ht.isRequired(n,"logger"),ht.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=a??p8,this.keepAliveIntervalInMilliseconds=l??m8,this._statefulReconnectBufferSize=u??g8,this._logger=n,this._protocol=o,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new u8,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=tt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Me.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==tt.Disconnected&&this._connectionState!==tt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==tt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=tt.Connecting,this._logger.log(se.Debug,"Starting HubConnection.");try{await this._startInternal(),at.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=tt.Connected,this._connectionStarted=!0,this._logger.log(se.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=tt.Disconnected,this._logger.log(se.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,o)=>{this._handshakeResolver=n,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const o={protocol:this._protocol.name,version:n};if(this._logger.log(se.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(se.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new f8(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(se.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===tt.Disconnected)return this._logger.log(se.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===tt.Disconnecting)return this._logger.log(se.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=tt.Disconnecting,this._logger.log(se.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(se.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===tt.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new $n("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[o,s]=this._replaceStreamingParams(n),a=this._createStreamInvocation(t,n,s);let l;const u=new d8;return u.cancelCallback=()=>{const d=this._createCancelInvocation(a.invocationId);return delete this._callbacks[a.invocationId],l.then(()=>this._sendWithProtocol(d))},this._callbacks[a.invocationId]=(d,h)=>{if(h){u.error(h);return}else d&&(d.type===Me.Completion?d.error?u.error(new Error(d.error)):u.complete():u.next(d.item))},l=this._sendWithProtocol(a).catch(d=>{u.error(d),delete this._callbacks[a.invocationId]}),this._launchStreams(o,l),u}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[o,s]=this._replaceStreamingParams(n),a=this._sendWithProtocol(this._createInvocation(t,n,!0,s));return this._launchStreams(o,a),a}invoke(t,...n){const[o,s]=this._replaceStreamingParams(n),a=this._createInvocation(t,n,!1,s);return new Promise((u,d)=>{this._callbacks[a.invocationId]=(m,g)=>{if(g){d(g);return}else m&&(m.type===Me.Completion?m.error?d(new Error(m.error)):u(m.result):d(new Error(`Unexpected message type: ${m.type}`)))};const h=this._sendWithProtocol(a).catch(m=>{d(m),delete this._callbacks[a.invocationId]});this._launchStreams(o,h)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const o=this._methods[t];if(o)if(n){const s=o.indexOf(n);s!==-1&&(o.splice(s,1),o.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const o of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case Me.Invocation:this._invokeClientMethod(o).catch(s=>{this._logger.log(se.Error,`Invoke client method threw error: ${Jp(s)}`)});break;case Me.StreamItem:case Me.Completion:{const s=this._callbacks[o.invocationId];if(s){o.type===Me.Completion&&delete this._callbacks[o.invocationId];try{s(o)}catch(a){this._logger.log(se.Error,`Stream callback threw error: ${Jp(a)}`)}}break}case Me.Ping:break;case Me.Close:{this._logger.log(se.Information,"Close message received from server.");const s=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case Me.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case Me.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(se.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,o;try{[o,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const a="Error parsing handshake response: "+s;this._logger.log(se.Error,a);const l=new Error(a);throw this._handshakeRejecter(l),l}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(se.Error,s);const a=new Error(s);throw this._handshakeRejecter(a),a}else this._logger.log(se.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===tt.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),o=this._methods[n];if(!o){this._logger.log(se.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(se.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=o.slice(),a=!!t.invocationId;let l,u,d;for(const h of s)try{const m=l;l=await h.apply(this,t.arguments),a&&l&&m&&(this._logger.log(se.Error,`Multiple results provided for '${n}'. Sending error to server.`),d=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),u=void 0}catch(m){u=m,this._logger.log(se.Error,`A callback for the method '${n}' threw error '${m}'.`)}d?await this._sendWithProtocol(d):a?(u?d=this._createCompletionMessage(t.invocationId,`${u}`,null):l!==void 0?d=this._createCompletionMessage(t.invocationId,null,l):(this._logger.log(se.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),d=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(d)):l&&this._logger.log(se.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(se.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new $n("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===tt.Disconnecting?this._completeClose(t):this._connectionState===tt.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===tt.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=tt.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),at.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(se.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let o=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),a=this._getNextRetryDelay(o++,0,s);if(a===null){this._logger.log(se.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=tt.Reconnecting,t?this._logger.log(se.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(se.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(l=>l.apply(this,[t]))}catch(l){this._logger.log(se.Error,`An onreconnecting callback called with error '${t}' threw error '${l}'.`)}if(this._connectionState!==tt.Reconnecting){this._logger.log(se.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;a!==null;){if(this._logger.log(se.Information,`Reconnect attempt number ${o} will start in ${a} ms.`),await new Promise(l=>{this._reconnectDelayHandle=setTimeout(l,a)}),this._reconnectDelayHandle=void 0,this._connectionState!==tt.Reconnecting){this._logger.log(se.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=tt.Connected,this._logger.log(se.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(l=>l.apply(this,[this.connection.connectionId]))}catch(l){this._logger.log(se.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${l}'.`)}return}catch(l){if(this._logger.log(se.Information,`Reconnect attempt failed because of error '${l}'.`),this._connectionState!==tt.Reconnecting){this._logger.log(se.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===tt.Disconnecting&&this._completeClose();return}s=l instanceof Error?l:new Error(l.toString()),a=this._getNextRetryDelay(o++,Date.now()-n,s)}}this._logger.log(se.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:o})}catch(s){return this._logger.log(se.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(o=>{const s=n[o];try{s(null,t)}catch(a){this._logger.log(se.Error,`Stream 'error' callback called with '${t}' threw error: ${Jp(a)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,o,s){if(o)return s.length!==0?{target:t,arguments:n,streamIds:s,type:Me.Invocation}:{target:t,arguments:n,type:Me.Invocation};{const a=this._invocationId;return this._invocationId++,s.length!==0?{target:t,arguments:n,invocationId:a.toString(),streamIds:s,type:Me.Invocation}:{target:t,arguments:n,invocationId:a.toString(),type:Me.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const o in t)t[o].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:s=>{let a;s instanceof Error?a=s.message:s&&s.toString?a=s.toString():a="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,a)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,s)))}})}}_replaceStreamingParams(t){const n=[],o=[];for(let s=0;s<t.length;s++){const a=t[s];if(this._isObservable(a)){const l=this._invocationId;this._invocationId++,n[l]=a,o.push(l.toString()),t.splice(s,1)}}return[n,o]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,o){const s=this._invocationId;return this._invocationId++,o.length!==0?{target:t,arguments:n,invocationId:s.toString(),streamIds:o,type:Me.StreamInvocation}:{target:t,arguments:n,invocationId:s.toString(),type:Me.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:Me.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:Me.StreamItem}}_createCompletionMessage(t,n,o){return n?{error:n,invocationId:t,type:Me.Completion}:{invocationId:t,result:o,type:Me.Completion}}_createCloseMessage(){return{type:Me.Close}}}const y8=[0,2e3,1e4,3e4,null];class jb{constructor(t){this._retryDelays=t!==void 0?[...t,null]:y8}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Ss{}Ss.Authorization="Authorization";Ss.Cookie="Cookie";class v8 extends _f{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const o=await this._innerClient.send(t);return n&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):o}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Ss.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Ss.Authorization]&&delete t.headers[Ss.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var vt;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(vt||(vt={}));var It;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(It||(It={}));let x8=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Ib{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,o){this._httpClient=t,this._logger=n,this._pollAbort=new x8,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(ht.isRequired(t,"url"),ht.isRequired(n,"transferFormat"),ht.isIn(n,It,"transferFormat"),this._url=t,this._logger.log(se.Trace,"(LongPolling transport) Connecting."),n===It.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,s]=Zi(),a={[o]:s,...this._options.headers},l={abortSignal:this._pollAbort.signal,headers:a,timeout:1e5,withCredentials:this._options.withCredentials};n===It.Binary&&(l.responseType="arraybuffer");const u=`${t}&_=${Date.now()}`;this._logger.log(se.Trace,`(LongPolling transport) polling: ${u}.`);const d=await this._httpClient.get(u,l);d.statusCode!==200?(this._logger.log(se.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),this._closeError=new bs(d.statusText||"",d.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,l)}async _poll(t,n){try{for(;this._running;)try{const o=`${t}&_=${Date.now()}`;this._logger.log(se.Trace,`(LongPolling transport) polling: ${o}.`);const s=await this._httpClient.get(o,n);s.statusCode===204?(this._logger.log(se.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(se.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new bs(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(se.Trace,`(LongPolling transport) data received. ${Dl(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(se.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof Ay?this._logger.log(se.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(se.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(se.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?KE(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(se.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(se.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,o]=Zi();t[n]=o;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let a;try{await this._httpClient.delete(this._url,s)}catch(l){a=l}a?a instanceof bs&&(a.statusCode===404?this._logger.log(se.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(se.Trace,`(LongPolling transport) Error sending a DELETE request: ${a}`)):this._logger.log(se.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(se.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(se.Trace,t),this.onclose(this._closeError)}}}class w8{constructor(t,n,o,s){this._httpClient=t,this._accessToken=n,this._logger=o,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,n){return ht.isRequired(t,"url"),ht.isRequired(n,"transferFormat"),ht.isIn(n,It,"transferFormat"),this._logger.log(se.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,s)=>{let a=!1;if(n!==It.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let l;if(at.isBrowser||at.isWebWorker)l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const u=this._httpClient.getCookieString(t),d={};d.Cookie=u;const[h,m]=Zi();d[h]=m,l=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...d,...this._options.headers}})}try{l.onmessage=u=>{if(this.onreceive)try{this._logger.log(se.Trace,`(SSE transport) data received. ${Dl(u.data,this._options.logMessageContent)}.`),this.onreceive(u.data)}catch(d){this._close(d);return}},l.onerror=u=>{a?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},l.onopen=()=>{this._logger.log(se.Information,`SSE connected to ${this._url}`),this._eventSource=l,a=!0,o()}}catch(u){s(u);return}})}async send(t){return this._eventSource?KE(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class b8{constructor(t,n,o,s,a,l){this._logger=o,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=a,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=l}async connect(t,n){ht.isRequired(t,"url"),ht.isRequired(n,"transferFormat"),ht.isIn(n,It,"transferFormat"),this._logger.log(se.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((s,a)=>{t=t.replace(/^http/,"ws");let l;const u=this._httpClient.getCookieString(t);let d=!1;if(at.isNode||at.isReactNative){const h={},[m,g]=Zi();h[m]=g,o&&(h[Ss.Authorization]=`Bearer ${o}`),u&&(h[Ss.Cookie]=u),l=new this._webSocketConstructor(t,void 0,{headers:{...h,...this._headers}})}else o&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);l||(l=new this._webSocketConstructor(t)),n===It.Binary&&(l.binaryType="arraybuffer"),l.onopen=h=>{this._logger.log(se.Information,`WebSocket connected to ${t}.`),this._webSocket=l,d=!0,s()},l.onerror=h=>{let m=null;typeof ErrorEvent<"u"&&h instanceof ErrorEvent?m=h.error:m="There was an error with the transport",this._logger.log(se.Information,`(WebSockets transport) ${m}.`)},l.onmessage=h=>{if(this._logger.log(se.Trace,`(WebSockets transport) data received. ${Dl(h.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(h.data)}catch(m){this._close(m);return}},l.onclose=h=>{if(d)this._close(h);else{let m=null;typeof ErrorEvent<"u"&&h instanceof ErrorEvent?m=h.error:m="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",a(new Error(m))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(se.Trace,`(WebSockets transport) sending data. ${Dl(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(se.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const Ab=100;class S8{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ht.isRequired(t,"url"),this._logger=e8(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let o=null,s=null;if(at.isNode&&typeof require<"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=a("ws"),s=a("eventsource")}!at.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:at.isNode&&!n.WebSocket&&o&&(n.WebSocket=o),!at.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:at.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new v8(n.httpClient||new c8(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||It.Binary,ht.isIn(t,It,"transferFormat"),this._logger.log(se.Debug,`Starting connection with transfer format '${It[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(se.Error,n),await this._stopPromise,Promise.reject(new $n(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(se.Error,n),Promise.reject(new $n(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Dy(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(se.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(se.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(se.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(se.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===vt.WebSockets)this.transport=this._constructTransport(vt.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,s=0;do{if(o=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new $n("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(n=o.url),o.accessToken){const a=o.accessToken;this._accessTokenFactory=()=>a,this._httpClient._accessToken=a,this._httpClient._accessTokenFactory=void 0}s++}while(o.url&&s<Ab);if(s===Ab&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,o,t)}this.transport instanceof Ib&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(se.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(se.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(t){const n={},[o,s]=Zi();n[o]=s;const a=this._resolveNegotiateUrl(t);this._logger.log(se.Debug,`Sending negotiation request: ${a}.`);try{const l=await this._httpClient.post(a,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(l.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${l.statusCode}'`));const u=JSON.parse(l.content);return(!u.negotiateVersion||u.negotiateVersion<1)&&(u.connectionToken=u.connectionId),u.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Tb("Client didn't negotiate Stateful Reconnect but the server did.")):u}catch(l){let u="Failed to complete negotiation with the server: "+l;return l instanceof bs&&l.statusCode===404&&(u=u+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(se.Error,u),Promise.reject(new Tb(u))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,o,s){let a=this._createConnectUrl(t,o.connectionToken);if(this._isITransport(n)){this._logger.log(se.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(a,s),this.connectionId=o.connectionId;return}const l=[],u=o.availableTransports||[];let d=o;for(const h of u){const m=this._resolveTransportOrError(h,n,s,(d==null?void 0:d.useStatefulReconnect)===!0);if(m instanceof Error)l.push(`${h.transport} failed:`),l.push(m);else if(this._isITransport(m)){if(this.transport=m,!d){try{d=await this._getNegotiationResponse(t)}catch(g){return Promise.reject(g)}a=this._createConnectUrl(t,d.connectionToken)}try{await this._startTransport(a,s),this.connectionId=d.connectionId;return}catch(g){if(this._logger.log(se.Error,`Failed to start the transport '${h.transport}': ${g}`),d=void 0,l.push(new Q6(`${h.transport} failed: ${g}`,vt[h.transport])),this._connectionState!=="Connecting"){const v="Failed to select transport before stop() was called.";return this._logger.log(se.Debug,v),Promise.reject(new $n(v))}}}}return l.length>0?Promise.reject(new X6(`Unable to connect to the server with any of the available transports. ${l.join(" ")}`,l)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case vt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new b8(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case vt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new w8(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case vt.LongPolling:return new Ib(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(o);return}s&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(t,n)}_resolveTransportOrError(t,n,o,s){const a=vt[t.transport];if(a==null)return this._logger.log(se.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(C8(n,a))if(t.transferFormats.map(u=>It[u]).indexOf(o)>=0){if(a===vt.WebSockets&&!this._options.WebSocket||a===vt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(se.Debug,`Skipping transport '${vt[a]}' because it is not supported in your environment.'`),new G6(`'${vt[a]}' is not supported in your environment.`,a);this._logger.log(se.Debug,`Selecting transport '${vt[a]}'.`);try{return this.features.reconnect=a===vt.WebSockets?s:void 0,this._constructTransport(a)}catch(u){return u}}else return this._logger.log(se.Debug,`Skipping transport '${vt[a]}' because it does not support the requested transfer format '${It[o]}'.`),new Error(`'${vt[a]}' does not support ${It[o]}.`);else return this._logger.log(se.Debug,`Skipping transport '${vt[a]}' because it was disabled by the client.`),new Y6(`'${vt[a]}' is disabled by the client.`,a)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(se.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(se.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(se.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(se.Error,`Connection disconnected with error '${t}'.`):this._logger.log(se.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(se.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(se.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!at.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(se.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const o=new URLSearchParams(n.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),n.search=o.toString(),n.toString()}}function C8(e,t){return!e||(t&e)!==0}class Dy{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Vu,this._transportResult=new Vu,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Vu),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Vu;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):Dy._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(o){t.reject(o)}}}static _concatBuffers(t){const n=t.map(a=>a.byteLength).reduce((a,l)=>a+l),o=new Uint8Array(n);let s=0;for(const a of t)o.set(new Uint8Array(a),s),s+=a.byteLength;return o.buffer}}class Vu{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const _8="json";class k8{constructor(){this.name=_8,this.version=2,this.transferFormat=It.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=Ml.instance);const o=an.parse(t),s=[];for(const a of o){const l=JSON.parse(a);if(typeof l.type!="number")throw new Error("Invalid payload.");switch(l.type){case Me.Invocation:this._isInvocationMessage(l);break;case Me.StreamItem:this._isStreamItemMessage(l);break;case Me.Completion:this._isCompletionMessage(l);break;case Me.Ping:break;case Me.Close:break;case Me.Ack:this._isAckMessage(l);break;case Me.Sequence:this._isSequenceMessage(l);break;default:n.log(se.Information,"Unknown message type '"+l.type+"' ignored.");continue}s.push(l)}return s}writeMessage(t){return an.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const E8={trace:se.Trace,debug:se.Debug,info:se.Information,information:se.Information,warn:se.Warning,warning:se.Warning,error:se.Error,critical:se.Critical,none:se.None};function N8(e){const t=E8[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class P8{configureLogging(t){if(ht.isRequired(t,"logging"),T8(t))this.logger=t;else if(typeof t=="string"){const n=N8(t);this.logger=new Md(n)}else this.logger=new Md(t);return this}withUrl(t,n){return ht.isRequired(t,"url"),ht.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return ht.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new jb(t):this.reconnectPolicy=t:this.reconnectPolicy=new jb,this}withServerTimeout(t){return ht.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return ht.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new S8(this.url,t);return My.create(n,this.logger||Ml.instance,this.protocol||new k8,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function T8(e){return e.log!==void 0}function R8(){const e=y.useRef(null),t=wn(),n=y.useCallback(async()=>{var a;if(((a=e.current)==null?void 0:a.state)==="Connected")return e.current;const s=new P8().withUrl("/hub/dashboard").withAutomaticReconnect([0,2e3,5e3,1e4,3e4]).configureLogging(se.Information).build();s.on("AgentConnected",l=>{console.log("Agent connected:",l),t.invalidateQueries({queryKey:["agents"]})}),s.on("AgentDisconnected",l=>{console.log("Agent disconnected:",l),t.invalidateQueries({queryKey:["agents"]})}),s.on("AgentStatusChanged",(l,u)=>{console.log("Agent status changed:",l,u),t.invalidateQueries({queryKey:["agents"]})}),s.on("JobCreated",l=>{console.log("Job created:",l),t.invalidateQueries({queryKey:["jobs"]})}),s.on("JobStatusChanged",(l,u)=>{console.log("Job status changed:",l,u),t.invalidateQueries({queryKey:["jobs"]})}),s.on("JobProgress",(l,u,d)=>{console.log("Job progress:",l,u,d),t.invalidateQueries({queryKey:["jobs"]})}),s.on("JobCompleted",l=>{console.log("Job completed:",l),t.invalidateQueries({queryKey:["jobs"]})}),s.on("WorkflowInstanceStarted",(l,u)=>{console.log("Workflow instance started:",l,u),t.invalidateQueries({queryKey:["workflow-instances"]})}),s.on("WorkflowInstanceCompleted",l=>{console.log("Workflow instance completed:",l),t.invalidateQueries({queryKey:["workflow-instances"]})}),s.on("WorkflowStepStarted",(l,u)=>{console.log("Workflow step started:",l,u),t.invalidateQueries({queryKey:["workflow-instances"]})}),s.onreconnecting(l=>{console.warn("SignalR reconnecting...",l)}),s.onreconnected(l=>{console.log("SignalR reconnected:",l)}),s.onclose(l=>{console.warn("SignalR connection closed:",l)});try{return await s.start(),console.log("SignalR connected"),e.current=s,s}catch(l){throw console.error("SignalR connection failed:",l),l}},[t]),o=y.useCallback(async()=>{e.current&&(await e.current.stop(),e.current=null)},[]);return y.useEffect(()=>(n().catch(console.error),()=>{o().catch(console.error)}),[n,o]),{connection:e.current,connect:n,disconnect:o}}function j8({children:e}){return R8(),f.jsx(f.Fragment,{children:e})}function I8(){return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx(cl,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"404"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Page not found"}),f.jsxs(pl,{to:"/",className:"btn-primary inline-flex items-center gap-2",children:[f.jsx(ZT,{className:"w-4 h-4"}),"Go Home"]})]})})}function A8(){return f.jsx(j8,{children:f.jsxs(dT,{children:[f.jsxs(Jn,{path:"/",element:f.jsx(wR,{}),children:[f.jsx(Jn,{index:!0,element:f.jsx(MR,{})}),f.jsx(Jn,{path:"agents",element:f.jsx(LR,{})}),f.jsx(Jn,{path:"jobs",element:f.jsx(Ix,{})}),f.jsx(Jn,{path:"jobs/:jobId",element:f.jsx(Ix,{})}),f.jsx(Jn,{path:"workflows",element:f.jsx(Pb,{})}),f.jsx(Jn,{path:"workflows/:workflowId",element:f.jsx(Pb,{})}),f.jsx(Jn,{path:"settings",element:f.jsx(K6,{})})]}),f.jsx(Jn,{path:"*",element:f.jsx(I8,{})})]})})}const M8=new rP({defaultOptions:{queries:{staleTime:5e3,refetchInterval:1e4}}});M2.createRoot(document.getElementById("root")).render(f.jsx(y.StrictMode,{children:f.jsx(VT,{children:f.jsx(oP,{client:M8,children:f.jsx(MT,{children:f.jsx(A8,{})})})})}));
